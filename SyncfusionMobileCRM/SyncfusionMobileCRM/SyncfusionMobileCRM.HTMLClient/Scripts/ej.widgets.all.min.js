/*!
*  filename: ej.widgets.all.min.js
*  version : 11.2.0.63
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function gridResize(n){this.$headerTable=n.getGridHeaderTable(),this.gridInstance=n,this._colMinWidth=15,this._$visualElement=$(),this._currentCell=-1,this._allowStart=!1,this._oldWidth=null,this._orgX=null,this._orgY=null,this._extra=null,this._expand=!1}function sfExtendClass(n,t){var i=function(){};return i.prototype=new n,$.extend(i.prototype,t),i}function sfExtendClass(n,t){var i=function(){};return i.prototype=new n,$.extend(i.prototype,t),i}function NodeDropped(n){var t,i,r;$(".e-dialog").hide(),t=null,t=$(n.target).hasClass("splitBtn")?$(n.target).parents("div:eq(0)").attr("class"):n.event.originalEvent.target!=undefined?n.event.originalEvent.target.className=="splitBtn"?n.target[0].className:n.event.originalEvent.target.className:n.event.originalEvent.srcElement.className=="splitBtn"?n.target[0].className:n.event.originalEvent.srcElement.className,i=t.indexOf("categoricalAxis")>t.indexOf("rowAxis")?t.indexOf("categoricalAxis")>t.indexOf("slicerAxis")?"Categorical":"Slicer":t.indexOf("rowAxis")>t.indexOf("slicerAxis")?"Series":t.indexOf("slicerAxis")>=0?"Slicer":null,i!=null&&(oclientWaitingPopup.show(),r=$(".cubeName").html()+"--"+n.dropedElement.parents("li:eq(0)")[0].id+"--"+i,oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"TreeNode",nodeInfo:r,olapReport:currentReport}),oclientProxy._nodeDroppedSuccess))}function CubeChanged(n){currentCubeName=n.selectedText,isInitialLoad||(oclientWaitingPopup.show(),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.cubeChanged,JSON.stringify({action:"cubeChanged",cubeName:currentCubeName}),oclientProxy._cubeChangedSuccess)),isInitialLoad=!1}var SfSvgRender,SfAxisRenderer,SfStripline,sfDateTimeValue,sfDoubleValue,SfLegendRender,sfSeriesRender,sfLineSeries,sfColumnSeries,sfAreaSeries,sfSplineSeries,sfScatterSeries,sfBubbleSeries,sfhiloSeries,sfhiloopencloseSeries,sfCandleSeries,sfPieSeries,Gradient,ejChart,syncfusion,draggedSplitBtn,isInitialLoad;window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var s=[],r;t.consts={NamespaceJoin:"-"},t.textAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},t.orientation={Horizontal:"horizontal",Vertical:"vertical"},Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n,t){return n[t]!==i}),Array.prototype.lastItem=function(){return this.length?this[this.length-1]:i},String.format=function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n+1]);return t.replace(/\{[0-9]\}/g,"")},t.defineClass=function(n,r,u,f){if(!n||!u)return i;for(var o=n.split("."),s=window,e=0;e<o.length-1;e++)t.isNullOrUndefined(s[o[e]])&&(s[o[e]]={}),s=s[o[e]];return(f||t.isNullOrUndefined(s[o[e]]))&&(r=typeof r=="function"?r:function(){},s[o[e]]=r,s[o[e]].prototype=u),s[o[e]]},t.util={getNameSpace:function(n){var i=n.toLowerCase().split(".");return i[0]==="ej"&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(n,r){var u,e,f;if(!r)return i;for(u=r,e=n.split("."),f=0;f<e.length;f++){if(t.util.isNullOrUndefined(u))break;u=u[e[f]]}return u},createObject:function(n,i,r){for(var f=n.split("."),o=r||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t.isNullOrUndefined(i)?{}:i:t.isNullOrUndefined(e[f[u]])&&(e[f[u]]={}),e=e[f[u]];return o},isNullOrUndefined:function(n){return n===i||n===null},buildTag:function(t,r,u,f){var s=/^[a-z]*[0-9a-z]+/ig.exec(t)[0],e=/#([a-z]+[-_0-9a-z]+)/ig.exec(t),o;return e=e?e.lastItem():i,o=/\.([a-z]+[-_0-9a-z ]+)/ig.exec(t),o=o?o.lastItem():i,n(document.createElement(s)).attr(e?{id:e}:{}).addClass(o||"").css(u||{}).attr(f||{}).html(r||"")}},n.extend(t,t.util),t.widgetBase={droppables:{"default":[]},resizables:{"default":[]},destroy:function(){var r,i,u;if(!this._trigger("destroy")){for(this.model.persist&&this.persistState(),this._destroy(),r=this.element.data("ejWidgets")||[],i=0;i<r.length;i++)r[i]==this.pluginName&&r.splice(i,1);while(this._events){if(u=this._events.pop(),!u)break;n.fn.off.apply(u[0],u[1])}this._events=null,this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(i){this._events||(this._events=[]);for(var r=[].splice.call(arguments,1,arguments.length-1),u={},f=r.length;u&&typeof u!="function";)u=r[--f];return r[f]=t.proxy(r[f],this),this._events.push([i,r]),n.fn.on.apply(i,r),this},_off:function(t,i){var r=this._events,u,f;if(!r||!r.length)return this;for(u=0;u<r.length;u++)if(f=r[u][0].length&&r[u][0][0]===t[0]&&r[u][1][0]===i,f){n.fn.off.apply(r[u][0],[i]);break}return this},_trigger:function(i,r){var f=this.model[i],e,u,o;return f&&(typeof f=="string"&&(f=t.util.getObject(f,window)),n.isFunction(f)&&(u=t.event(i,this.model,r),e=f.call(this,u),r&&n.extend(r,u),u.cancel||!t.isNullOrUndefined(e)))?e===!1||u.cancel:(o=Boolean(r),r=r||{},r.originalEventType=i,r.type=this.pluginName+i,u=n.Event(r.type,t.event(r.type,this.model,r)),this.element.trigger(u),o&&n.extend(r,u),u.cancel)},setModel:function(i){var r,u,f;if(!this._trigger("modelChange",{changes:i})){for(r in i){if(this.model[r]===i[r]){delete i[r];continue}if(this.dataTypes&&(u=this._isValidModelValue(r,this.dataTypes,i),u!==!0))throw"setModel - Invalid input for property :"+r+" - "+u;this.model.notifyOnEachPropertyChanges&&this.model[r]!==i[r]&&(f={oldValue:this.model[r],newValue:i[r]},i[r]=this._trigger(r+"Change",f)?this.model[r]:f.newValue)}if(this._setFirst?(n.extend(!0,this.model,i),this._setModel&&this._setModel(i)):this._setModel&&this._setModel(i)===!1||n.extend(!0,this.model,i),"persist"in i&&i.persist)if(i.persist){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler)}else n(window).off("unload",this._persistHandler)}},option:function(r,u){if(!r)return this.model;if(n.isPlainObject(r))return this.setModel(r);if(typeof r=="string"){r=r.replace(/^model\./,"");var f=t.getObject(r,this.model);if(u===i)return f;if(t.getObject(r,this.model)!==u)return this.setModel(t.createObject(r,u,{}))}return i},_isValidModelValue:function(n,t,i){var u=t[n],r=i[n],f,e,o;if(!u)return!0;if(typeof u=="string")return(u=="enum"&&(i[n]=r?r.toString().toLowerCase():r,u="string"),typeof r===u)?!0:"Expected type - "+u;if(r instanceof Array){for(e=0;e<r.length;e++)if(f=this._isValidModelValue(n,t,r[e]),f!==!0)return" ["+e+"] - "+f;return!0}for(o in r)if(f=this._isValidModelValue(o,u,r),f!==!0)return o+" : "+f;return!0},persistState:function(){var n=r({},this.model),t;if(this.ignoreOnPersist)for(t=0;t<this.ignoreOnPersist;t++)delete n[this.ignoreOnPersist[t]];this._persistState&&(n.customPersists={},this._persistState(n.customPersists)),window.localStorage?window.localStorage.setItem(this.pluginName+this._id,JSON.stringify(n)):document.cookie&&f.setCookie(this.pluginName+this._id,n)},restoreState:function(t){var i=null,r;window.localStorage?i=window.localStorage.getItem(this.pluginName+this._id):document.cookie&&(i=f.getCookie(pluginName+this._id)),i&&(r=JSON.parse(i),this._restoreState&&(this._restoreState(r.customPersists),delete r.customPersists),this.model=n.extend(!0,this.model,r)),!t&&i&&this._setModel&&this._setModel(this.model)}},t.widget=function(i,u,f){var c,h,l;if(typeof i=="object"){f=u;for(c in i)h=i[c],h instanceof Array&&(f._rootCSS=h[1],h=h[0]),t.widget(c,h,f),i[c]instanceof Array&&(f._rootCSS="");return}l=f._rootCSS||t.getNameSpace(u),f=t.defineClass(u,function(o,s){var l,a,v,y,p,h,c;if(this.sfType=u,this.pluginName=i,this.instance=this,n.extend(this,t.widgetBase),this.dataTypes)for(l in s)if(a=this._isValidModelValue(l,this.dataTypes,s),a!==!0)throw"setModel - Invalid input for property :"+l+" - "+a;if(v=o.data("ejWidgets")||[],v.push(i),o.data("ejWidgets",v),this.element=o.jquery?o:n(o),this.model=r({},f.prototype.defaults,s),this.model.keyConfigs=r(this.keyConfigs),this._id=o[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.persist){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler);this.restoreState(!0)}if(this._init(),typeof this.model.keyConfigs=="object"&&!(this.model.keyConfigs instanceof Array)){y=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus);for(p in this.model.keyConfigs)if(p!=="focus"){y=!0;break}y&&this._keyPressed&&(h=o,c="keydown",this.keySettings&&(h=this.keySettings.getElement?this.keySettings.getElement()||h:h,c=this.keySettings.event||c),this._on(h,c,function(n){if(this.model.keyConfigs){var t=e.getActionFromCode(this.model.keyConfigs,n.which,n.ctrlKey,n.shiftKey,n.altKey),i={code:n.which,ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};t&&this._keyPressed(t,n.target,i,n)===!1&&n.preventDefault()}}))}this._trigger("create")},f),n.fn[i]=function(r){for(var a,h=0;h<this.length;h++){var c=n(this[h]),e=c.data(i),v=e&&c.hasClass(l),s=null;if(!v){r&&typeof r!="object"?o(i+": methods/properties can be accessed only after plugin creation"):c.addClass(l+" e-js").data(i,new f(c,r));continue}if(r)if(n.isPlainObject(r))e.setModel(r);else if((r.indexOf("_")===0||t.isNullOrUndefined(s=t.getObject(r,e)))&&r.indexOf("model.")!==0)o(u+": function/property - "+r+" does not exist");else{if(!s||!n.isFunction(s)){if(arguments.length==1)return s;e.option(r,arguments[1]);continue}if(a=s.apply(e,[].splice.call(arguments,1,arguments.length-1)),!t.util.isNullOrUndefined(a))return a}}return this},s.push({name:i,className:u,proto:f})},t.widget.destroyAll=function(n){var r,t,i;if(n&&n.length)for(r=0;r<n.length;r++)if(t=n.eq(r).data(),t.ejWidgets&&t.ejWidgets.length)for(i=t.ejWidgets.length-1;i>-1;i--)t[t.ejWidgets[i]]&&t[t.ejWidgets[i]].destroy&&t[t.ejWidgets[i]].destroy()};var f={getCookie:function(n){var t=RegExp(n+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},setCookie:function(n,t,i){typeof t=="object"&&(t=JSON.stringify(t)),t=escape(t)+(i==null?"":"; expires="+i.toUTCString()),document.cookie=n+"="+t}},e={getActionFromCode:function(n,t,i,r,u){var o,f;i=i||!1,r=r||!1,u=u||!1;for(o in n)if(o!=="focus"&&(f=e.getKeyObject(n[o]),t===f.code&&i==f.isCtrl&&r==f.isShift&&u==f.isAlt))return o;return null},getKeyObject:function(n){var i={isCtrl:!1,isShift:!1,isAlt:!1},t;for(n=n.split("+"),t=0;t<n.length;t++)n[t]==="ctrl"?i.isCtrl=!0:n[t]==="shift"?i.isShift=!0:n[t]==="alt"?i.isAlt=!0:i.code=parseInt(n[t],10);return i}},l=function(t,i){var f=n("[data-"+t.toLowerCase()+"]"),e={},u,r;for(f.length&&(e=h(i.defaults)),u=0;u<f.length;u++){var c=f.eq(u),o={},s=c.data();for(r in s)r in e?o[e[r]]=s[r]:o[r]=s[r];c[t](o)}},h=function(n){var i={},t;for(t in n)i[t.toLowerCase()]=t;return i};t.event=function(t,i,r){return n.extend(r||{},{type:t,model:i,cancel:!1})},t.proxy=function(n,t){return!n||typeof n!="function"?null:"bind"in n?n.bind(t):function(){n.apply(t,arguments)}},t.hasStyle=function(n){var r=document.documentElement.style,i,t;if(n in r)return!0;for(i=["ms","Moz","Webkit","O","Khtml"],n=n[0].toUpperCase()+n.slice(1),t=0;t<i.length;t++)if(i[t]+n in r)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1},r=t.copyObject=function(n){for(var o=[].splice.call(arguments,1,arguments.length),s,u,f,e=0;e<o.length;e++)for(f in o[e])(s=n[f],u=o[e][f],u!==i&&s!==u&&o[e]!==u&&n!==u)&&(u instanceof Array?n[f]=u.slice():t.isPlainObject(u)?(n[f]=s||{},r(n[f],u)):n[f]=u);return n},t.isPlainObject=function(n){if(!n||typeof n!="object"||n.nodeType||jQuery.isWindow(n))return!1;try{if(n.constructor&&!n.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(u){return!1}var t,r=c();for(t in n)if(r)break;return t===i||n.hasOwnProperty(t)};var u=0,c=function(){var n,t;if(u!==0)return u;n=function(){this.a=1},n.prototype.b=1;for(t in new n)return u=t==="a"?!1:!0;return u},o=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}}(window.jQuery,window.Syncfusion),window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var l,w,s,v,u;t.DataManager=function(f,e){if(!(this instanceof t.DataManager))return new t.DataManager(f,e);f||u("DataManger : a dataSource is required to create Manager");var o=[],s=this;return f instanceof Array?o={json:f,offline:!0}:typeof f=="object"?n.isPlainObject(f)?(f.table&&(f.json=this._getJsonFromElement(f.table,f.headerOption)),o={url:f.url,json:f.json,headers:f.headers,accept:f.accept,data:f.data,requestType:f.requestType,key:f.key,crossDomain:f.crossDomain,jsonp:f.jsonp,dataType:f.dataType,offline:f.offline!==i?f.offline:f.url?!1:!0,requiresFormat:f.requiresFormat},o.requiresFormat!==!1||o.jsonp||(o.jsonp="callback"),o.jsonp||(o.jsonp="$callback")):(f.jquery||tt(f))&&(o={json:this._getJsonFromElement(f),offline:!0,table:f}):typeof f=="string"&&(o={url:f,offline:!1,dataType:"json"}),o.accept!==i||o.crossDomain||(o.accept=r.accept),o.requiresFormat=o.requiresFormat===i&&navigator.userAgent.indexOf("MSIE")!=-1?o.crossDomain||typeof HTMLElement!="function"||typeof HTMLElement!="object":o.crossDomain||typeof HTMLElement!="function"&&typeof HTMLElement!="object",o.dataType===i&&(o.dataType="json"),this.dataSource=o,this.defaultQuery=e,o.url&&o.offline&&!o.json&&(this.isDataAvailable=!1,this.adaptor=new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(e||t.Query()).done(function(n){s.isDataAvailable=!0,o.json=n.result}),this.dataSource.offline=!0),this.adaptor=o.offline?new t.JsonAdaptor:new t.ODataAdaptor,this},t.DataManager.prototype={setDefaultQuery:function(n){this.defaultQuery=n},executeQuery:function(i,r,f,e){var s,o;return typeof i=="function"&&(e=f,f=r,r=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),s=n.Deferred(),s.then(r,f,e),o={query:i},this.dataSource.offline?nt(function(){var n=this.executeLocal(i);i._requiresCount?(o.result=n.result,o.count=n.count):o.result=n,o.getTableModel=k(i._fromTable,o.result,this),o.getKnockoutModel=d(o.result),s.resolveWith(this,[o])},this):this._makeRequest(this.adaptor.getUrl(i,this.dataSource),s,o,i),s.promise()},executeLocal:function(r){var l,o,h,s,c,e;this.defaultQuery||r instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),r=r||this.defaultQuery;var f=this.dataSource.json.slice(0),a=f.length,v=!0;for(h=0;h<r.queries.length;h++)o=r.queries[h],l=this.adaptor[o.fn].call(this,f,r,o.e),f=l!==i?l:f,(o.fn==="onPage"||o.fn==="onSkip"||o.fn==="onTake"||o.fn==="onRange")&&(v=!1),v&&(a=f.length);if(r._subQuery)for(s=r._subQuery._fromTable,c=r._subQuery._lookup,c&&c instanceof Array&&y(r._subQuery._fKey,s,f,c),e=0;e<f.length;e++)f[e][s]instanceof Array&&(f[e]=n.extend({},f[e]),f[e][s]=r._subQuery.using(t.DataManager(f[e][s].slice())).executeLocal());return r._requiresCount?{result:f,count:a}:f},_makeRequest:function(r,u,f,s){var h=!!s._subQuerySelector,v=e(function(n){f.error=n,u.rejectWith(this,[f])},this),p=e(function(n,i,r,e,o){if(s._groupedColumns.length)for(var c=0;c<s._groupedColumns.length;c++)n=t.group(n,s._groupedColumns[c]);h||(f.xhr=r,f.count=parseInt(i,10),f.result=n,f.request=e,f.getTableModel=k(s._fromTable,n,this),f.getKnockoutModel=d(n),f.actual=o,u.resolveWith(this,[f]))},this),w=e(function(t,i){var r=n.Deferred(),o={parent:f},u,e;return s._subQuery._isChild=!0,u=this.adaptor.getUrl(s._subQuery,this.dataSource,t||i),e=this._makeRequest(u,r,o,s._subQuery),r.then(function(n){t&&(y(s._subQuery._fKey,s._subQuery._fromTable,t,n),p(t))},v),e},this),b=rt(function(n,t,i,r){var u=0,f;if(f=n=o.parseJson(n),(n.__count||n["odata.count"])&&(u=n.__count||n["odata.count"]),n.d&&(n=n.d),(n.__count||n["odata.count"])&&(u=n.__count||n["odata.count"]),n=c(n,!0,i.getResponseHeader("DataServiceVersion")),!s._subQuery){p(n,u,i,r,f);return}h||w(n)},this),l,a;if(s._params.length&&(r+=r.indexOf("?")===-1?"?":"&",r+=this._buildQueryParams(s)),!jQuery.support.cors&&window.XDomainRequest){var g=/^https?:\/\//i,nt=/^get|post$/i,tt=new RegExp("^"+location.protocol,"i"),it=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(n,t){if(n.crossDomain&&n.async&&nt.test(n.type)&&g.test(t.url)&&tt.test(t.url)){var r=null,u=(t.dataType||"").toLowerCase();return{send:function(f,e){r=new XDomainRequest,/^\d+$/.test(t.timeout)&&(r.timeout=t.timeout),r.ontimeout=function(){e(500,"timeout")},r.onload=function(){var o="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,t={code:200,message:"success"},f={text:r.responseText},n;try{if(u==="json")try{f.json=JSON.parse(r.responseText)}catch(h){t.code=500,t.message="parseerror"}else if(u==="xml"||u!=="text"&&it.test(r.contentType)){n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1;try{n.loadXML(r.responseText)}catch(h){n=i}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){t.code=500,t.message="parseerror";throw"Invalid XML: "+r.responseText;}f.xml=n}}catch(s){throw s;}finally{e(t.code,t.message,f,o)}},r.onerror=function(){e(500,"error",{text:r.responseText})},r.open(n.type,n.url),r.send()},abort:function(){r&&r.abort()}}}})}return jQuery.support.cors=!0,l=n.ajax({type:"GET",url:r,dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:e(this._beforeSend,this),processData:!1,success:b,error:v}),h&&(a=s._subQuerySelector.call(this,{query:s._subQuery,parent:s}),a&&a.length?(l=n.when(l,w(null,a)),l.then(function(n,t){n=c(n[0]),t=c(t[0]),y(s._subQuery._fKey,s._subQuery._fromTable,n,t),h=!1,p(n)},v)):h=!1),l},_beforeSend:function(n){var t,i,r,u;for(this.dataSource.crossDomain||(n.setRequestHeader("DataServiceVersion","2.0"),n.setRequestHeader("MaxDataServiceVersion","2.0")),t=this.dataSource.headers,r=0;t&&r<t.length;r++){i=[];for(u in t[r])i.push(u);n.setRequestHeader(t[i[0]],t[i[1]])}},_buildQueryParams:function(n){for(var t,r="",f,u=0;u<n._params.length;u++)t=n._params[u],t.value?(r+=t.key,r+="="+t.value):(f=t.fn())!=i&&(r+=t.key,r+="="+f);return r},saveChanges:function(t,i,u){var h=this.dataSource.url.replace(/\/*$/,"/"+r.batch),s={url:u,key:i||this.dataSource.key},l=this.adaptor.generateBatchRequest(t,s),f=n.Deferred();return n.ajax({type:"POST",url:h,beforeSend:e(function(n){n.setRequestHeader("Accept",r.multipartAccept),n.setRequestHeader("DataServiceVersion","2.0"),this._beforeSend(n)},this),contentType:"multipart/mixed; charset=UTF-8;boundary="+s.guid,data:l,success:function(i,r,u){var s=u.getResponseHeader("Content-Type"),h,a,l,v,e;if(s=s.substring(s.indexOf("=batchresponse")+1),i=i.split(s),!(i.length<2)){for(i=i[1],l=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(l[0],""),v=l[1],i=i.split(v),e=i.length;e>-1;e--)/\bContent-ID:/i.test(i[e])&&/\bHTTP.+201/.test(i[e])&&(h=parseInt(/\bContent-ID: (\d+)/i.exec(i[e])[1]),t.added[h]&&(a=o.parseJson(/^\{.+\}/m.exec(i[e])[0]),n.extend(t.added[h],c(a))));f.resolveWith(this)}},fail:function(n){f.rejectWith(this,n)}}),f},insert:function(t,i){if(this.dataSource.offline)return this.dataSource.push(t);var r=n.Deferred();return n.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:this.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t),dataType:"json",processData:!1,beforeSend:e(this._beforeSend,this),success:function(n){n=c(o.parseJson(n)),r.resolveWith(this,[{record:n,dataManager:this}])},error:function(n){r.rejectWith(this,[{error:n,dataManager:this}])}}),r.promise()},remove:function(t,i,r){var f,u,o,s;if(this.dataSource.offline){for(f=this.dataSource.json,o=null,typeof i=="object"&&(i=i[t]),u=0;u<f.length;u++)if(f[u][t]===i)break;return u!==f.length&&(o=f.splice(u,1)),o}return s=this.dataSource.url.replace(/\/*$/,r?"/"+r:"")+"("+i+")",n.ajax({type:"DELETE",contentType:"application/json; charset=utf-8",url:s,beforeSend:e(this._beforeSend,this),dataType:"json"})},update:function(t,i,u){var s=i,o,f,h,c,l;if(typeof i=="object"&&(s=i[t]),this.dataSource.offline){for(o=this.dataSource.json,h=null,f=0;f<o.length;f++)if(o[f][t]===s)break;if(f!==o.length){for(c in i)o[f][c]=i[c];h=o[f]}return h}return l=this.dataSource.url.replace(/\/*$/,u?"/"+u:"")+"("+s+")",n.ajax({type:"PUT",contentType:"application/json; charset=utf-8",url:l,dataType:"json",beforeSend:e(this._beforeSend,this),data:JSON.stringify(i),accept:r.accept})},_getJsonFromElement:function(n){n=n.jquery?n[0]:n;var i=n.tagName.toLowerCase();return i!=="table"&&u("ej.DataManager : Unsupported htmlElement : "+i),t.parseTable(n)}};var c=function(n,t,i){return i=i&&parseInt(i)||2,i===3&&n.value&&(n=n.value),!t&&n.d&&(n=n.d),i<3&&n.results&&(n=n.results),n},y=function(n,t,i,r){var u,f={},e;if(r.result&&(r=r.result),r.GROUPGUID)for(u=0;u<r.length;u++)f[r[u].key]=r[u].items,r[u].items.level-=1;else for(u=0;u<r.length;u++)e=f[r[u][n]]||(f[r[u][n]]=[]),e.push(r[u]);for(u=0;u<i.length;u++)i[u][t]=f[i[u][n]]},r={accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby=",select:"$select=",skip:"$skip=",take:"$top=",count:"$inlinecount=",where:"$filter=",expand:"$expand=",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},o={parseJson:function(n){var t=typeof n;return t==="string"?n=JSON.parse(n,o.jsonReviver):n instanceof Array?o.iterateAndReviveArray(n):t==="object"&&o.iterateAndReviveJson(n),n},iterateAndReviveArray:function(n){for(var t=0;t<n.length;t++)typeof n[t]=="object"?o.iterateAndReviveJson(n[t]):n[t]=o.parseJson(n[t])},iterateAndReviveJson:function(n){var t,i;for(i in n)i.startsWith("__")||(t=n[i],typeof t=="object"?t instanceof Array?o.iterateAndReviveArray(t):o.iterateAndReviveJson(t):n[i]=o.jsonReviver(i,t))},jsonReviver:function(n,t){var u=t,r,i;if(typeof t=="string"){if(r=/^\/Date\(([0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),r)return new Date(parseInt(r[1]));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=new Date(t),t=="Invalid Date"&&(i=u.split(/[^0-9]/),t=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])))}return t}};t.Query=function(n){return(this instanceof t.Query)?(this.queries=[],this._key="",this._fKey="",typeof n=="string"?this._fromTable=n||"":n&&n instanceof Array&&(this._lookup=n),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._filters=[],this._sortKey={},this._filterKey={},this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(n)},t.Query.prototype={key:function(n){return typeof n=="string"&&(this._key=n),this},using:function(n){return n instanceof t.DataManager?(this.dataManagar=n,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(n,i,r,f){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeQuery(this,i,r,f):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(n){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var n=new t.Query;return n.queries=this.queries.slice(),n._key=this._key,n._sortKey=this._sortKey,n._filterKey=this._filterKey,n._isChild=this._isChild,n.dataManagar=this.dataManager,n._fromTable=this._fromTable,n._params=this._params.slice(),n._expands=this._expands.slice(),n._filters=this._filters.slice(),n._sortedColumns=this._sortedColumns.slice(),n._groupedColumns=this._groupedColumns.slice(),n._subQuerySelector=this._subQuerySelector,n._subQuery=this._subQuery,n._fKey=this._fKey,n._requiresCount=this._requiresCount,n},from:function(n){return typeof n=="string"&&(this._fromTable=n),this},addParams:function(n,t){return typeof t=="string"?this._params.push({key:n,value:t}):typeof t=="function"&&this._params.push({key:n,fn:t}),this},expand:function(n){return this._expands=typeof n=="string"?[].slice.call(arguments,0):n.slice(0),this},where:function(n,i,r,f){i=(i||t.FilterOperators.equal).toLowerCase();var o=null,e;return typeof n=="string"?o=t.data.fnOperators[i]||t.data.fnOperators.processSymbols(i):n instanceof t.Predicate?e=!0:u("Query - where : Invalid arguments"),e?this._filters.push(n):this._filters.push({field:n,operator:i,value:r,ignoreCase:f}),this.queries.push({fn:"onWhere",e:{isPredicate:e,fieldName:n,operator:i,value:r,ignoreCase:f,comparer:o}}),this},search:function(n,i,r,u){var o,e,f;if(i&&typeof i!="boolean"?typeof i=="string"&&(i=[i]):(i=[],u=i),typeof r=="boolean"&&(u=r,r=null),r=r||t.FilterOperators.contains,o=t.data.fnOperators[r]||t.data.fnOperators.processSymbols(r),i.length){for(e=[],f=0;f<i.length;f++)e.push({field:i[f],operator:r,value:n,ignoreCase:u});this._filters.push(e)}return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:r,searchKey:n,ignoreCase:u,comparer:o}}),this},sortBy:function(n,i,r){var u=t.sortOrder.Ascending,e=n instanceof Array,f=!1;return typeof n=="function"&&(f=!0),typeof i=="boolean"&&(i=i?t.sortOrder.Descending:t.sortOrder.Ascending),i&&typeof i!="string"||(u=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),n&&!f&&(b(this._sortedColumns,n,u,r),e||(n=[n])),this.queries.push({fn:"onSortBy",e:{fieldName:n,comparer:i}}),this},sortByDesc:function(n){return this.sortBy(n,t.sortOrder.Descending)},group:function(n){return n&&(this._groupedColumns.push(n),this._sortedColumns.indexOf(n)==-1&&this._sortedColumns.indexOf(n+" desc")==-1&&b(this._sortedColumns,this._groupedColumns.slice().reverse(),t.sortOrder.Ascending,!0)),this.queries.push({fn:"onGroup",e:{fieldName:n}}),this},page:function(n,t){return this.queries.push({fn:"onPage",e:{pageIndex:n,pageSize:t}}),this},range:function(n,t){return(typeof n!="number"||typeof t!="number")&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:n,end:t}}),this},take:function(n){return typeof n!="number"&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:n}}),this},skip:function(n){return typeof n!="number"&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:n}}),this},select:function(n){return typeof n=="string"&&(n=[].slice.call(arguments,0)),n instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:n}}),this},hierarchy:function(n,i){return n&&n instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),typeof i=="function"&&(this._subQuerySelector=i),this._subQuery=n,this},foreignKey:function(n){return typeof n=="string"&&(this._fKey=n),this},requiresCount:function(){return this._requiresCount=!0,this}},t.ODataAdaptor=function(){},t.ODataAdaptor.prototype={onWhere:function(n,t){return t._filterKey},onSearch:function(n,t,i){return i.fieldNames.length===0&&u("Query() - Search : oData search requires list of field names to search"),t._filterKey},onSortBy:function(n,t){return t._sortKey},onGroup:function(n,t){return t._sortKey},onPage:function(n,t,i){var f=(i.pageIndex-1)*i.pageSize,u=r.skip;return u+=f+"&",u+=r.take,u+i.pageSize},onRange:function(n,t,i){var u=r.skip;return u+=i.start+"&",u+=i.oData.take,u+(i.start-i.end)},onTake:function(n,t,i){return r.take+i.nos},onSkip:function(n,t,i){return r.skip+i.nos},onSelect:function(n,t,i){for(var f=r.select,u=0;u<i.fieldNames.length;u++)f+=p(i.fieldNames[u]),u!=i.fieldNames.length-1&&(f+=",");return f},getUrl:function(n,t,i){var r=l(n,this).addFilters(i);return r.buildUrl(t.url,t.requiresFormat)},generateBatchRequest:function(n,i){var e=i.guid=t.getGuid(r.batchPre),f={url:i.url,key:i.key,cid:1,cSet:t.getGuid(r.changeSet)},u="--"+e+"\n";return u+="Content-Type: multipart/mixed; boundary="+f.cSet.replace("--","")+"\n",u+=this.generateInsertRequest(n.added,f),u+=this.generateUpdateRequest(n.changed,f),u+=this.generateDeleteRequest(n.deleted,f),u+=f.cSet+"--\n",u+"--"+e+"--"},generateDeleteRequest:function(n,t){var i,u;if(!n)return"";for(i="",u=0;u<n.length;u++)i+="\n"+t.cSet+"\n",i+=r.changeSetContent+"\n\n",i+="DELETE ",i+=t.url+"("+n[u].get(t.key)+") HTTP/1.1\n",i+="Accept: "+r.accept+"\n",i+=r.batchChangeSetContentType+"\n";return i+"\n"},generateInsertRequest:function(n,t){var i,u;if(!n)return"";for(i="",u=0;u<n.length;u++)i+="\n"+t.cSet+"\n",i+=r.changeSetContent+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+r.accept+"\n",i+="Content-Id: "+u+"\n",i+=r.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[u])+"\n";return i},generateUpdateRequest:function(n,t){var i,u;if(!n)return"";for(i="",u=0;u<n.length;u++)i+="\n"+t.cSet+"\n",i+=r.changeSetContent+"\n\n",i+="PUT ",i+=t.url+"("+n[u][t.key]+") HTTP/1.1\n",i+="Accept: "+r.accept+"\n",i+=r.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[u])+"\n\n";return i}},l=function(n,t){return(this instanceof l)?(this.query=n,this.defaultFilters="",this.adaptor=t,this):new l(n,t)},l.prototype={buildUrl:function(n,t){var i="";return n=this.ensureTable(n),i=this.ensureExpands(i),i=this.ensureAnd(i),i=this.iterateQueries(i),i=this.ensureFormat(i,t),this.query._requiresCount&&(i+=(i.length?"&":"")+r.count+"allpages"),n+(i?"?"+i:"")},ensureTable:function(n){return n.replace(/\/*$/,this.query._fromTable?"/"+this.query._fromTable:"")},ensureExpands:function(n){if(this.query._expands&&this.query._expands.length){n+=r.expand;for(var t=0;t<this.query._expands.length;t++)n+=this.query._expands[t],t!=this.query._expands.length-1&&(n+=",")}return n},ensureAnd:function(n,t){return t!==!1&&n.length&&(n+="&"),n},ensureFormat:function(n,t){return t&&(n=this.ensureAnd(n)+"$format=json"),n},iterateQueries:function(n){for(var t,f=this.query.queries.length,e=!1,r=!1,u,i=0;i<f;i++)if(u=this.query.queries[i],t=this.adaptor[u.fn].call(this,null,this.query,u.e),t){if(t===this.query._sortKey){if(e)continue;else t=this.ensureSort();e=!0}if(t===this.query._filterKey){if(r)continue;else t=this.ensureFilter();r=!0}n+=t,n=this.ensureAnd(n,i!==f-1)}return!r&&this.defaultFilters&&(n=this.ensureAnd(n)+this.ensureFilter()),n},ensureFilter:function(){var f=r.where,n=this.query._filters,i,e,o,u;for(f+=this.defaultFilters,this.defaultFilters&&n.length&&(f+=" and ("),i=0;i<n.length;i++){if(n[i]instanceof Array){for(e="",u=0;u<n[i].length;u++)(o=s.generateODataString(n[i][u].field,n[i][u].operator,n[i][u].value,n[i][u].ignoreCase),o)&&(e+="("+o+")",u!==n[i].length-1&&(e+=" or "));f+=e}else f+=n[i]instanceof t.Predicate?n[i].getQuery():s.generateODataString(n[i].field,n[i].operator,n[i].value,n[i].ignoreCase);i!=n.length-1&&(f+=" and ")}return this.defaultFilters&&n.length&&(f+=")"),f},ensureSort:function(){for(var i=this.query._sortedColumns,n="",t=0;t<i.length;t++)n+=i[t],t!==i.length-1&&(n+=",");return n.length&&(n=r.sortBy+n),n},addFilters:function(n){var i;if(!(n instanceof Array)||!n.length)return this;var u=this.query._fKey,f,r="",e=u;for(typeof n[0]!="object"&&(e=null),i=0;i<n.length;i++)f=t.pvt.getObject(e,n[i]),r+=s.generateODataString(u,"==",f),i!==n.length-1&&(r+=" or ");return this.defaultFilters="("+r+")",this}},t.JsonAdaptor=function(){},t.JsonAdaptor.prototype={onWhere:function(n,i,r){return n?n.filter(function(n){return r.isPredicate?r.fieldName.validate(n):r.comparer.call(n,t.pvt.getObject(r.fieldName,n),r.value,r.ignoreCase)}):n},onSearch:function(n,i,r){return!n||!n.length?n:(r.fieldNames.length===0&&t.pvt.getFieldList(n[0],r.fieldNames),n.filter(function(n){for(var i=0;i<r.fieldNames.length;i++)if(r.comparer.call(n,t.pvt.getObject(r.fieldNames[i],n),r.searchKey,r.ignoreCase))return!0;return!1}))},onSortBy:function(n,i,r){var f,u;if(!n)return n;if(!r.fieldName)return n.sort(r.comparer);if(r.isFunc&&(r.fieldName=r.fieldName.call(i)),r.fieldName instanceof Array){for(u=r.fieldName.length-1;u>=0;u--)f=r.comparer,r.fieldName[u].endsWith(" desc")&&(f=t.pvt.fnSort(t.sortOrder.Descending),r.fieldName[u]=r.fieldName[u].replace(" desc","")),n=t.mergeSort(n,r.fieldName[u],f);return n}return t.mergeSort(n,r.fieldName,r.comparer)},onGroup:function(n,i,r){return n?t.group(n,r.fieldName):n},onPage:function(n,t,i){var r=(i.pageIndex-1)*i.pageSize,u=r+i.pageSize;return n?n.slice(r,u):n},onRange:function(n,t,i){return n?n.slice(i.start,i.end):n},onTake:function(n,t,i){return n?n.slice(0,i.nos):n},onSkip:function(n,t,i){return n?n.slice(i.nos):n},onSelect:function(n,i,r){return n?t.select(n,r.fieldNames):n}},t.TableModel=function(i,r,f){var h,o,c,s;if(!a(this,t.TableModel))return new t.TableModel(r);for(a(r,Array)||u("ej.TableModel - Json Array is required"),h=[],c=e(w,this),s=0;s<r.length;s++){o=new t.Model(r[s],this),o.state="unchanged";o.on("stateChange",c);h.push(o)}return this.name=i||"table1",this.rows=t.NotifierArray(h),this._deleted=[],this._events=n({}),this.dataManager=f,this._isDirty=!1,this},t.TableModel.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},setDataManager:function(n){this.dataManagar=n},saveChanges:function(){if(this.dataManager&&a(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var n=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);n.done(e(function(){for(var t=this.toArray(),n=0;n<t.length;n++)t[n].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),n.fail(e(function(n){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:n})},this)),this._isDirty=!1}},rejectChanges:function(){for(var t=this.toArray(),n=0;n<t.length;n++)t[n].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(n){var i=new t.Model(n);i._isDirty=this._isDirty=!0,this.rows.push(i),this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(n){var r;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i=n,t,f=this.key,e=i[f];t=this.rows.array.filter(function(n){return n.get(f)===e}),t=t[0];for(r in i)t.set(r,i[r]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:t,table:this})},remove:function(n){var t,r,e,f;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,r=-1,n&&typeof n=="object"&&(n=n[t]!==i?n[t]:n.get(t)),f=0;f<this.rows.length();f++)if(this.rows.array[f].get(t)===n){r=f;break}r>-1&&(e=this.rows.removeAt(r),e.markDelete(),this._deleted.push({model:e,position:r}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:e,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var i={added:[],changed:[]},r=this.toArray(),n=0;n<r.length;n++)i[r[n].state]&&i[r[n].state].push(r[n].json);return i.deleted=t.select(this._deleted,["model"]),i},toArray:function(){return this.rows.toArray()},setDirty:function(n,t){this._isDirty!==!!n&&(this._isDirty=!!n,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(n){return this.rows.array[n]},length:function(){return this.rows.array.length}},t.Model=function(t,i){this.$id=it("m"),this.json=t,this.table=i,this.actual={},this._events=n({}),this.isDirty=!1,this.state="added",this._props=[],this._updates={}},t.Model.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},set:function(n,t){var r=this.json,e=n,f,u;for(n=n.split("."),u=0;u<n.length-1;u++)n=n[0],r=r[n[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),f=r[n],this.actual[n]!==i||n in this.actual||(this.actual[n]=t),r[n]=t,this._updateValues(n,t),this._events.triggerHandler({type:e,current:t,previous:f,model:this})},get:function(n){return t.pvt.getObject(n,this.json)},revert:function(n){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1,n?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if(this.state==="added")if(t==="deleted")t="unchanged";else return;var r=t;i=i||{},this.state=t,this._events.triggerHandler(n.extend({type:"stateChange",current:t,previous:r,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var n in this.json)this._props.push(n),this._updates[n]={read:[],input:[]};return this._props},bindTo:function(t,i){var u=this.properties(),s=n(t),f,r,o,h,e;for(s.data("ejModel",this),r=0;r<u.length;r++)for(o=s.find(i.replace("{{0}}",u[r])),h={self:this,prop:u[r]},e=0;e<o.length;e++){if(f=n(o[e]),this.formElements.indexOf(f.prop("tagName").toLowerCase())===-1){f.html(this.get(u[r])),this._updates[u[r]].read.push(f);continue}f.val(this.get(u[r])).off("change",null,this._changeHandler).on("change",null,h,this._changeHandler);this._updates[u[r]].input.push(f)}},unbind:function(t,i){var u=this.properties(),f=n(t),r;for(f.removeData("ejModel"),r=0;i&&r<u.length;r++)f.find(i.replace("{{0}}",u[r])).off("change",null,this._changeHandler);this._updateValues={}},_updateValues:function(n,t){var i=this._updates[n],r;i&&(i.read||i.input)&&(r=function(n,i){for(var r=n.length-1;r>-1;r--){if(!n[r][0].offsetParent){n.splice(r,1);continue}n[r][i](t)}},r(i.read,"html"),r(i.input,"val"))},_changeHandler:function(t){t.data.self.set(t.data.prop,n(this).val())},formElements:["input","select","textarea"]},w=function(n){this.setDirty(!0,n.model)},t.Predicate=function(n,i,r,u){return(this instanceof t.Predicate)?(this._fn=null,this._params=null,typeof n=="string"?(this._fn=t.data.fnOperators.processOperator(i),this._params={field:n,value:r,operator:i,ignoreCase:u}):n instanceof t.Predicate&&r instanceof t.Predicate&&(i&&i=="and"||i=="or")&&(this._fn=t.data.fnOperators["_"+i+"predicate"](n,r)),this):new t.Predicate(n,i,r,u)},t.Predicate.and=function(){return s._combinePredicates(arguments,"and")},t.Predicate.or=function(){return s._combinePredicates(arguments,"or")},s={_combinePredicates:function(n,r){var u,f;if(n.length<2)return i;for(u=n[0],f=1;f<n.length;f++)u=new t.Predicate(u,r,n[f]);return u},_combine:function(n,i,r,f,e,o){return i instanceof t.Predicate?t.Predicate[e](n,i):typeof i=="string"?t.Predicate[e](n,new t.Predicate(i,r,f,o)):u("Predicate - "+e+" : invalid arguments")},generateODataString:function(n,i,r,u,f){var e="",o=i,s=typeof r,h;return(n=p(n),r instanceof Date&&(r="datetime'"+ut(r)+"'"),s==="string"&&(r="'"+r+"'",f&&(n="cast("+n+", 'Edm.String')"),u&&(n="tolower("+n+")",r=r.toLowerCase())),i=t.data.odBiOperator[o],i)?(e+=n,e+=i,e+r):(i=t.data.odUniOperator[o],!i||s!=="string")?"":(i==="substringof"&&(h=r,r=n,n=h),e+=i+"(",e+=n+",",e+(r+")"))}},t.Predicate.prototype={and:function(n,t,i,r){return s._combine(this,n,t,i,"and",r)},or:function(n,t,i,r){return s._combine(this,n,t,i,"or",r)},getValidatorFn:function(){return this._fn},validate:function(n){if(this._params){var i=t.pvt.getObject(this._params.field,n);return this._fn.call(this,i,this._params.value,this._params.ignoreCase)}return this._fn.validate.call(this,n)},getQuery:function(){return this._params?s.generateODataString(this._params.field,this._params.operator,this._params.value,this._params.ignoreCase):this._fn.query.call(this)}},t.dataUtil={swap:function(n,t,i){if(t!=i){var r=n[t];n[t]=n[i],n[i]=r}},mergeSort:function(n,i,r){return r&&typeof r!="string"||(r=t.pvt.fnSort(r,!0)),typeof i=="function"&&(r=i,i=null),t.pvt.mergeSort(n,i,r)},max:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnDescending)},min:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnAscending)},distinct:function(n,t,i){for(var f=[],u,e={},r=0;r<n.length;r++)u=h(n,t,r),u in e||(f.push(i?n[r]:u),e[u]=1);return f},sum:function(n,t){for(var f=0,u,r=0;r<n.length;r++)u=h(n,t,r),u!==i&&(f+=u);return f},avg:function(n,i){return t.sum(n,i)/n.length},select:function(n,i){for(var u=[],r=0;r<n.length;r++)u.push(t.pvt.extractFields(n[r],i));return u},group:function(n,i,r){var u,o,f,s,e;if(r=r||1,n.GROUPGUID==t.pvt.consts.GROUPGUID){for(u=0;u<n.length;u++)n[u].items=t.group(n[u].items,i,n.level+1),n[u].count=n[u].items.length;return n.childLevels+=1,n}for(o={},f=[],f.GROUPGUID=t.pvt.consts.GROUPGUID,f.level=r,f.childLevels=0,f.records=n,s=0;s<n.length;s++)e=h(n,i,s),o[e]||(o[e]={key:e,count:0,items:[],field:i},f.push(o[e])),o[e].count+=1,o[e].items.push(n[s]);return f},parseTable:function(n,i,r){var e=n.rows,o,l=[],a=[],u,s,h,c,f;if(!e.length)return[];r=r||0;switch((i||"").toLowerCase()){case t.headerOption.tHead:o=n.tHead.rows[r];break;case t.headerOption.row:default:o=n.rows[r]}for(s=o.cells,u=0;u<s.length;u++)l.push(s[u].innerHTML.trim());for(u=r+1;u<e.length;u++){for(h={},c=e[u].cells,f=0;f<c.length;f++)h[l[f]]=c[f].innerHTML;a.push(h)}return a}},t.headerOption={tHead:"thead",row:"row"},t.pvt={mergeSort:function(n,i,r){if(n.length<=1)return n;var e=parseInt(n.length/2,10),u=n.slice(0,e),f=n.slice(e);return u=t.pvt.mergeSort(u,i,r),f=t.pvt.mergeSort(f,i,r),t.pvt.merge(u,f,i,r)},getItemFromComparer:function(n,t,i){for(var f=h(n,t,0),u,e=n[0],r=1;r<n.length;r++)u=h(n,t,r),i(f,u)>0&&(f=u,e=n[r]);return e},quickSelect:function(n,i,r,u,f,e){if(r==u)return n[r];var o=t.pvt.partition(n,i,r,u,e),s=o-r+1;return s==f?n[o]:f<s?t.pvt.quickSelect(n,i,r,o-1,f,e):t.pvt.quickSelect(n,i,o+1,u,f-s,e)},extractFields:function(n,i){var u={},r;if(i.length==1)return t.pvt.getObject(i[0],n);for(r=0;r<i.length;r++)u[i[r].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[r],n);return u},partition:function(n,i,r,u,f){var e=parseInt((r+u)/2,10),s=h(n,i,e),o;for(t.swap(n,e,u),e=r,o=r;o<u;o++)f(h(n,i,o),s)&&(t.swap(n,o,e),e++);return t.swap(n,e,u),e},fnSort:function(n){return(n=n?n.toLowerCase():t.sortOrder.Ascending,n==t.sortOrder.Ascending)?t.pvt.fnAscending:t.pvt.fnDescending},fnAscending:function(n,t){return n&&n.localeCompare?n.localeCompare(t):n-t},fnDescending:function(n,t){return n&&n.localeCompare?n.localeCompare(t)*-1:t-n},merge:function(n,t,i,r){for(var u=[],f;n.length>0||t.length>0;)f=n.length>0&&t.length>0?r?r(h(n,i,0),h(t,i,0))<1?n:t:n[0][i]<n[0][i]?n:t:n.length>0?n:t,u.push(f.shift());return u},getObject:function(n,t){var r,f,u;if(!t)return i;if(!n)return t;if(n.indexOf(".")===-1)return t[n];for(r=t,f=n.split("."),u=0;u<f.length;u++){if(r==null)break;r=r[f[u]]}return r},createObject:function(n,t,r){for(var f=n.split("."),o=r||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t===i?{}:t:e[f[u]]==null&&(e[f[u]]={}),e=e[f[u]];return o},getFieldList:function(n,r,u){if(u===i&&(u=""),r===i||r===null)return t.pvt.getFieldList(n,[],u);for(var f in n)typeof n[f]!="object"||n[f]instanceof Array?r.push(u+f):t.pvt.getFieldList(n[f],r,u+f+".");return r}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(n,t,i){return i?f(n)==f(t):n==t},notequal:function(n,i,r){return!t.data.fnOperators.equal(n,i,r)},lessthan:function(n,t,i){return i?f(n)<f(t):n<t},greaterthan:function(n,t,i){return i?f(n)>f(t):n>t},lessthanorequal:function(n,t,i){return i?f(n)<=f(t):n<=t},greaterthanorequal:function(n,t,i){return i?f(n)>=f(t):n>=t},contains:function(n,t,i){return i?!v(n)&&!v(t)&&f(n).indexOf(f(t))!=-1:!v(n)&&!v(t)&&n.toString().indexOf(t)!=-1},notnull:function(n){return n!==null},isnull:function(n){return n===null},startswith:function(n,t,i){return i?n&&t&&f(n).startsWith(f(t)):n&&t&&n.startsWith(t)},endswith:function(n,t,i){return i?n&&t&&f(n).endsWith(f(t)):n&&t&&n.endsWith(t)},_andpredicate:function(){var n=[].slice.call(arguments,0);return{validate:function(){for(var t=0;t<n.length;t++)if(!n[t].validate.apply(n[t],arguments))return!1;return!0},query:function(){for(var i="",t=0;t<n.length;t++)i+="("+n[t].getQuery.apply(n[t],arguments)+")",t!=n.length-1&&(i+=" and ");return i}}},_orpredicate:function(){var n=[].slice.call(arguments,0);return{validate:function(){for(var t=0;t<n.length;t++)if(n[t].validate.apply(n[t],arguments))return!0;return!1},query:function(){for(var i="",t=0;t<n.length;t++)i+="("+n[t].getQuery.apply(n[t],arguments)+")",t!=n.length-1&&(i+=" or ");return i}}},processSymbols:function(n){var r=t.data.operatorSymbols[n],i;return r&&(i=t.data.fnOperators[r],i)?i:u("Query - Process Operator : Invalid operator")},processOperator:function(n){var i=t.data.fnOperators[n];return i?i:t.data.fnOperators.processSymbols(n)}},t.NotifierArray=function(i){return a(this,t.NotifierArray)?(this.array=i,this._events=n({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},push:function(n){var t;return t=a(n,Array)?[].push.apply(this.array,n):this.array.push(n),this._raise("add",{item:n,index:this.length()-1}),t},pop:function(){var n=this.array.pop();return this._raise("remove",{item:n,index:this.length()-1}),n},addAt:function(n,t){return this.array.splice(n,0,t),this._raise("add",{item:t,index:n}),t},removeAt:function(n){var t=this.array.splice(n,1)[0];return this._raise("remove",{item:t,index:n}),t},remove:function(n){var t=this.array.indexOf(n);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:n,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(n.extend({type:t},i)),this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},n.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(n,t){for(var i=0,r=this.length;i<r;++i)n.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(n){var i,u,t,r;if(typeof n!="function")throw new TypeError;for(i=[],u=arguments[1]||this,t=0;t<this.length;t++)r=this[t],n.call(u,r,t,this)&&i.push(r);return i},String.prototype.endsWith=String.prototype.endsWith||function(n){return this.slice(-n.length)===n},String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n},Object.create||(Object.create=function(n){function t(){}if(arguments.length>1)throw new Error("Object.create implementation only accepts the first parameter.");return t.prototype=n,new t}),t.sortOrder={Ascending:"ascending",Descending:"descending"},t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"};var nt=function(n,t){t&&(n=e(n,t)),(window.setImmediate||window.setTimeout)(n,0)},p=function(n){return n.replace(/\./g,"/")},f=function(n){return n?n.toLowerCase?n.toLowerCase():n.toString():n===0||n===!1?n.toString():""},h=function(n,i,r){return i?t.pvt.getObject(i,n[r]):n[r]},tt=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&n.nodeType===1&&typeof n=="object"&&typeof n.nodeName=="string"},b=function(n,i,r,u){var f,o,e;if(typeof i=="function"){n.push(i);return}for(typeof i=="string"&&(r=r===t.sortOrder.Descending?" desc":"",i.endsWith(" desc")||(i+=r),i=[i]),f=0;f<i.length;f++)o=p(i[f]),e=n.indexOf(o.replace(" desc","")),e!==-1&&u&&n.splice(e,1),(e===-1||u)&&n[u?"unshift":"push"](o)},a=function(n,t){return n instanceof t},k=function(n,i,r){return function(u){return new t.TableModel(u||n,i,r)}},d=function(n){return function(i,r){var o,h,e,f,s;for(r=r||window.ko,r||u("Knockout is undefined"),h=[],s=0;s<n.length;s++){o={};for(e in n[s])e.startsWith("_")||(o[e]=r.observable(n[s][e]));for(e in i)f=i[e],t.isPlainObject(f)?(f.owner||(f.owner=o),f=r.computed(f)):f=r.computed(f,o),o[e]=f;h.push(o)}return r.observableArray(h)}},g=0,it=function(n){return g+=1,n+g};t.getGuid=function(n){var i="0123456789abcdef",t;return n+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,r){return t=Math.random()*16|0,i[r===19?t&3|8:t]})};var rt=function(n,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),n.apply(t||this,i)}},e=function(n,t){return"bind"in n?n.bind(t):function(){n.apply(t||this,arguments)}},ut=function(n){return n=JSON.parse(JSON.stringify({val:n})).val,n.slice(0)};t.merge=function(n,t){n&&t&&Array.prototype.push.apply(n,t)},v=function(n){return n===i||n===null},u=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}}(window.jQuery,window.Syncfusion),function(n,t){t.widget("ejDraggable","ej.Draggable",{element:null,model:null,defaults:{scope:"default",handle:null,dragArea:!1,clone:!1,distance:1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,destroy:null,helper:function(){return n('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},helpers={},this.__wireEvents(),this._dragStartHandler=n.proxy(this._dragStart,this),this._destroyHandler=n.proxy(this._destroy,this),this._dragStopHandler=n.proxy(this._dragStop,this),this._dragHandler=n.proxy(this._drag,this)},_setModel:function(){},_destroy:function(){n(document).unbind("mouseup",this._stopProxy).unbind("mousemove",this._dragProxy).unbind("mousemove",this._startProxy).unbind("selectstart",!1),t.widgetBase.droppables[this.scope]=null},_initialize:function(t){t.preventDefault(),this.target=n(t.currentTarget),this._initPosition={x:t.pageX,y:t.pageY},n(document).bind({mousemove:this._dragStartHandler,mouseup:this._destroyHandler}),n(document.documentElement).trigger("mousedown",t)},_setDragArea:function(){var t=n(this.model.dragArea)[0],i;t&&(i=n(t).css("overflow")!="hidden",this.dragArea=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helper.outerWidth()-this.margins.left-this.margins.right,(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helper.outerHeight()-this.margins.top-this.margins.bottom],this.relativeArea=n(this.model.dragArea))},_dragStart:function(i){var f=this.model.handle=this.helper=this.model.helper({sender:i,element:this.target});this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.model.dragArea&&this._setDragArea(),this.position=this._getMousePosition(i);var r=this._initPosition.x-i.pageX,u=this._initPosition.y-i.pageY,e=Math.sqrt(r*r+u*u);if(this.model.clone||(this.position.left=this.position.left-i.target.offsetWidth/2),e>=this.model.distance){if(this.model.dragStart&&this._trigger("dragStart",{event:i,element:this.element}))return!1;n(document).unbind("mousemove",this._dragStartHandler).unbind("mouseup",this._destroyHandler).bind({mouseup:this._dragStopHandler,mousemove:this._dragHandler,selectstart:!1}),t.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:f.css({position:"absolute",left:this.position.left,top:this.position.top}),destroy:this._destroyHandler}}},_drag:function(i){this.position=this._getMousePosition(i),this.position.top<0&&(this.position.top=0),n(document).height()<this.position.top&&(this.position.top=n(document).height()),n(document).width()<this.position.left&&(this.position.left=n(document).width());var r=t.widgetBase.droppables[this.model.scope].helper;this.model.clone||(this.position.left=this.position.left-r[0].offsetWidth/2),this.model.drag&&this._trigger("drag",{event:i,element:this.target}),t.widgetBase.droppables[this.model.scope].helper.css({left:this.position.left,top:this.position.top})},_dragStop:function(n){n.type=="mouseup"&&this._destroy(n),this.model.dragStop&&this._trigger("dragStop",{event:n,element:this.target})},__wireEvents:function(){this._on(this.element,"mousedown",this._initialize)},_getMousePosition:function(n){var i=n.pageX,r=n.pageY,t;return this.dragArea&&(this.relativeArea?(t=this.relativeArea.offset(),_area=[this.dragArea[0]+t.left,this.dragArea[1]+t.top,this.dragArea[2]+t.left,this.dragArea[3]+t.top]):_area=this.dragArea,n.pageX-this.margins.left<_area[0]&&(i=_area[0]+this.margins.left),n.pageY-this.margins.top<_area[1]&&(r=_area[1]+this.margins.top),n.pageX-this.margins.left>_area[2]&&(i=_area[2]+this.margins.left),n.pageY-this.margins.top>_area[3]&&(r=_area[3]+this.margins.top)),{left:i-this.margins.left-this.model.cursorAt.left,top:r-this.margins.top-this.model.cursorAt.top}}})}(jQuery,Syncfusion),function(n,t){t.widget("ejDroppable","ej.Droppable",{element:null,model:null,defaults:{accept:null,scope:"default",drop:null,over:null,out:null},_init:function(){this.model.accept?n(this.element).delegate(this.accept,"mouseenter",n.proxy(this._over,this)).delegate(this.accept,"mouseup",n.proxy(this._drop,this)).delegate(this.accept,"mouseleave",n.proxy(this._out,this)):(n(this.element).bind("mouseup",n.proxy(this._drop,this)),n(this.element).bind("mouseenter",n.proxy(this._over,this)),n(this.element).bind("mouseleave",n.proxy(this._out,this)))},_setModel:function(){},_destroy:function(){},_over:function(n){this._trigger(n,this.model.over)},_out:function(n){this._trigger(n,this.model.out)},_drop:function(n){this._dropTrigger(n)},_dropTrigger:function(n){var i=t.widgetBase.droppables[this.model.scope];i&&!t.isNullOrUndefined(this.model.drop)&&this.model.drop(n,i)}})}(jQuery,Syncfusion),function(n,t){t.widget("ejResizable","ej.resizable",{element:null,model:null,defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,destroy:null,helper:function(){return n('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this.handle!=null?n(this.target).delegate(this.handle,"mousedown",n.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):n(this.target).bind("mouseover",n.proxy(this._mouseover,this)),this._resizeStartHandler=n.proxy(this._resizeStart,this),this._destroyHandler=n.proxy(this._destroy,this),this._resizeStopHandler=n.proxy(this._resizeStop,this),this._resizeHandler=n.proxy(this._resize,this)},_mouseover:function(t){n(t.target).hasClass("e-resizable")?(n(t.target).css({cursor:"se-resize"}),n(this.target).bind("mousedown",n.proxy(this._mousedown,this))):(n(this.target).unbind("mousedown"),n(this.target).css({cursor:""}))},_blockDefaultActions:function(n){n.cancelBubble=!0,n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()},_setModel:function(){},_mousedown:function(t){return this.target=n(t.currentTarget),this._initPosition={x:t.pageX,y:t.pageY},n(document).bind({mousemove:this._resizeStartHandler,mouseup:this._destroyHandler}),n(document.documentElement).trigger("mousedown",t),!1},_resizeStart:function(i){var r,u;if(n(i.target).hasClass("e-resizable")){var f=this._initPosition.x-i.pageX,e=this._initPosition.y-i.pageY,o=Math.sqrt(f*f+e*e);o>=this.model.distance&&(this.model.resizeStart!=null&&this.model.resizeStart({element:this.target}),r=this.model.helper({element:this.target}),u=this.getElementPosition(r),n(document).unbind("mousemove",this._resizeStartHandler).unbind("mouseup",this._destroyHandler).bind({mouseup:this._resizeStopHandler,mousemove:this._resizeHandler,selectstart:!1}),t.widgetBase.resizables[this.scope]={resizable:this.target,helper:r.css({width:i.pageX-u.left+this.model.cursorAt.left,height:i.pageY-u.top+this.model.cursorAt.top}),destroy:this._destroyHandler})}},_resize:function(n){this.model.resize!=null&&this.model.resize({element:this.target});var u=this.getElementPosition(t.widgetBase.resizables[this.scope].helper),i=n.pageX-u.left+this.model.cursorAt.left,r=n.pageY-u.top+this.model.cursorAt.top;i<this.model.minWidth&&(i=this.model.minWidth),r<this.model.minHeight&&(r=this.model.minHeight),this.model.maxHeight!=null&&r>this.model.maxHeight&&(r=this.model.maxHeight),this.model.maxWidth!=null&&i>this.model.maxWidth&&(i=this.model.maxWidth),t.widgetBase.resizables[this.scope].helper.css({width:i,height:r})},_resizeStop:function(n){this.model.resizeStop!=null&&this.model.resizeStop({element:this.target}),n.type=="mouseup"&&this._destroy(n)},_destroy:function(){n(document).unbind("mouseup",this._stopProxy).unbind("mousemove",this._resizeProxy).unbind("mousemove",this._startProxy).unbind("selectstart",!1),t.widgetBase.resizables[this.scope]=null},getElementPosition:function(n){return n!=null&&n.length>0?{left:n[0].offsetLeft,top:n[0].offsetTop}:null}})}(jQuery,Syncfusion),function(n,t){t.widget("ejAutocomplete","ej.Autocomplete",{element:{target:null},model:null,_rootCSS:"e-autocomplete",defaults:{dataSource:null,query:null,fields:null,template:null,grouping:!1,distinct:!1,cssClass:"",watermark:null,filter:"startswith",caseSensitive:!1,loadingImage:!0,listSize:0,minCharacter:1,dropdown:!1,highlightSearch:!1,autoFill:!1,rtl:!1,delimiter:null,disabled:!1,height:26,width:174,noResults:"No suggestions",showNoResults:!0,suggestionBoxHeight:null,suggestionBoxWidth:null,focusIn:null,focusOut:null,change:null,select:null},dataTypes:{cssClass:"string",filter:"enum",caseSensitive:"boolean",loadingImage:"boolean",template:"string",grouping:"boolean",distinct:"boolean",listSize:"number",minCharacter:"number",dropdown:"boolean",highlightSearch:"boolean",autoFill:"boolean",rtl:"boolean",delimiter:"string",noResults:"string",showNoResults:"boolean"},enable:function(){this.element.hasClass("disabled")&&(this.target.disabled=!1,this.element.removeClass("disabled"),this.model.dropdown&&(this.dropdownbutton.removeClass("disabled"),this.dropdownbutton.bind("mousedown",n.proxy(this._OnDropdownClick,this))))},disable:function(){this.element.hasClass("disabled")||(this.target.disabled=!0,this.element.addClass("disabled"),this.model.dropdown&&(this.dropdownbutton.addClass("disabled"),this.dropdownbutton.unbind("mousedown",n.proxy(this._OnDropdownClick,this))))},clearText:function(){this.element.val(""),this._isFocused?this.element.blur():this._targetBlur()},getValue:function(){return this.element.hasClass("watermark")?"":this.target.value},_changeWatermark:function(n){this._isWatermark?this.element.attr("placeholder",n):this.element.hasClass("watermark")&&this.element.val(n)},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.model.dropdown&&this.wrapper.removeClass(this.model.cssClass).addClass(n))},_setDropdown:function(n){this.model.dropdown!=n&&(this.model.dropdown=n,n?this._renderDropdown():this._destroyDropdown())},_setRTL:function(n){this.model.rtl!=n&&(this.model.rtl=n,this._RightToLeft(),this._reRenderDD())},_changeHeight:function(n){this.element.height(n),this._reRenderDD()},_changeWidth:function(n){this.element.width(n),this._reRenderDD(),this._setListWidth()},_reRenderDD:function(){this.model.dropdown&&(this._destroyDropdown(),this._renderDropdown())},_init:function(){this._initialize(),this._render(),this._wireEvents()},_setModel:function(n){if(this.element.hasClass("disabled"))return!1;var t;for(t in n)switch(t){case"watermark":this._changeWatermark(n[t]);break;case"dropdown":this._setDropdown(n[t]);break;case"rtl":this._setRTL(n[t]);break;case"delimiter":n[t]=this._validateDelimiter(n[t]);break;case"disabled":this._disabled(n[t]);break;case"height":this._changeHeight(n[t]);break;case"width":this._changeWidth(n[t]);break;case"cssClass":this._changeSkin(n[t])}},_destroy:function(){this.model.dropdown&&this._destroyDropdown(),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.removeClass("e-input watermark "+this.model.cssClass),this.target.value="",this.suggestionList.remove()},_initialize:function(){this.target=this.element[0],this.showSuggestionBox=!1,this._queryString=null,this.suggLen=0,this._delimiterIndex=null,this._activeItem=0,this._suggestionListID="#"+this.target.id+"_suggestion ul li:not('.e-category')",this.ctrlKeyPressed=!1,this._isFocused=!1,this._isOpened=!1,this.ddWidth=0,this._isWatermark=this._checkWatermarkSupport()},_render:function(){this.element.addClass("e-input "+this.model.cssClass),this._setDimentions(),this._renderDropdown(),this._setWatermark(),this._checkProperties(),this._renderSuggestionList(),this._RightToLeft()},_renderDropdown:function(){if(this.model.dropdown){this.wrapper=t.buildTag("span.e-autocomplete-wrapper "+this.model.cssClass+"#"+this.target.id+"_wrapper");var r=t.buildTag("span.arrow"),i;this.dropdownbutton=t.buildTag("span.dropdown#"+this.target.id+"_dropdown").append(r),this.wrapper.insertAfter(this.element),this.wrapper.append(this.element),this.wrapper.append(this.dropdownbutton),this.dropdownbutton.height(this.element.height()),this.model.rtl?(this.dropdownbutton.css({left:"0","border-right":"none"}).addClass("e-rtl"),i="padding-left"):(this.dropdownbutton.css({right:"0","border-left":"none"}),i="padding-right"),this.ddWidth=this.dropdownbutton.outerWidth()>0?this.dropdownbutton.outerWidth():24,this.wrapper.css(i,this.ddWidth),this.element.width(this.element.width()-this.ddWidth),this.dropdownbutton.bind("mousedown",n.proxy(this._OnDropdownClick,this))}},_setDimentions:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width)},_checkProperties:function(){this.model.delimiter!=null&&(this.model.delimiter=this._validateDelimiter(this.model.delimiter)),this.model.disabled&&this._disabled(!0),this._checkNameAttr()},_checkNameAttr:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id})},_disabled:function(n){n?this.disable():this.enable()},_destroyDropdown:function(){this.element.insertAfter(this.wrapper),this.element.width(this.element.width()+this.dropdownbutton[0].offsetWidth),this.wrapper.remove(),this.dropdownbutton.unbind("mousedown",n.proxy(this._OnDropdownClick,this))},_validateDelimiter:function(n){if(n.length==1)if(!/^[a-zA-Z0-9]+$/.test(n))return n;return null},_checkWatermarkSupport:function(){return"placeholder"in document.createElement("input")},_setWatermark:function(){this._isWatermark?this.element.attr("placeholder",this.model.watermark):this.model.watermark!=null&&n.trim(this.element.val())==""&&(this.element.addClass("watermark"),this.element.val(this.model.watermark))},_renderSuggestionList:function(){this.suggestionList=t.buildTag("div.e-autocomplete-list "+this.model.cssClass+"#"+this.target.id+"_suggestion","",{display:"none"});var i=t.buildTag("div");this.ul=t.buildTag("ul"),i.append(this.ul),this.suggestionList.append(i),n("body").append(this.suggestionList),this._setListWidth(),this._setListHeight(),this.suggestionList.ejScroller({height:this.suggestionList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.suggestionList.ejScroller("instance")},_showSuggestionList:function(){if(!this.suggestionListItems)return this.noresult=!0,!1;this.suggestionListItems.length==0?(this.suggestionListItems.push(this.model.noResults),this.noresult=!0):this.noresult=!1,(!this.noresult||this.model.showNoResults)&&this._generateSuggestionList()},_generateSuggestionList:function(){var i=this.suggestionListItems,r,s,n,u,h,f,e,o;if(this.ul.empty(),typeof i[0]!="object"){for(this.model.distinct&&(i=t.dataUtil.distinct(i,"",!0)),r=0;r<i.length;r++)s=this.model.highlightSearch&&!this.noresult?this._highlightSuggestion(i[r]):i[r],this.ul.append(t.buildTag("li",s));this._currList=i,this._txtMapper=null}else if(n=this.model.fields,u={_key:null,_text:null,_attr:null},u._key=n&&n.uniqueKey?n.uniqueKey:"uniqueKey",u._text=n&&n.text?n.text:"text",u._attr=n&&n.htmlAttr?n.htmlAttr:"htmlAttr",this._txtMapper=u._text,this._currList=[],this.model.distinct&&(i=t.dataUtil.distinct(i,u._text,!0)),this.model.grouping)for(h=n&&n.category?n.category:"category",o=0,f=t.DataManager(i).executeLocal(t.Query().group(h).sortBy("key",!1)),e=f[f.length-1],e.key||(this._generateLi(e.items,u),o=1),r=0;r<f.length-o;r++)f[r].key&&this.ul.append(t.buildTag("li.e-category",f[r].key)),this._generateLi(f[r].items,u);else this._generateLi(i,u);this._showResult()},_generateLi:function(t,i){for(var u,f,r=0;r<t.length;r++)u=n(document.createElement("li")).attr(t[r][i._key]?{key:t[r][i._key]}:{}),f=this.model.template?this._getTemplatedString(t[r]):t[r][i._text],this.model.highlightSearch&&(f=this._highlightSuggestion(f)),u.append(f),this._setAttributes(t[r][i._attr],u),this.ul.append(u);this._currList=n.merge(this._currList,t)},_getTemplatedString:function(n){for(var t=this.model.template,i=t.indexOf("${"),r=t.indexOf("}"),u,f;i!=-1&&r!=-1;)u=t.substring(i,r+1),f=u.replace("${","").replace("}",""),t=t.replace(u,n[f]),i=t.indexOf("${"),r=t.indexOf("}");return t},_setAttributes:function(n,t){if(n)for(var i in n)t.attr(i,n[i])},_setListWidth:function(){this.model.suggestionBoxWidth?this.suggestionList.width(this.model.suggestionBoxWidth):this.suggestionList.css("min-width",this.element.width()+this.ddWidth)},_setListHeight:function(){this.model.listSize>0?this.suggestionList.css({"max-height":this.model.listSize*30}):this.suggestionList.css({"max-height":this.model.suggestionBoxHeight||"150px"})},_showResult:function(){this._setListPosition(),this._isOpened?this._refreshScroller():(this._refreshScroller(),this.suggestionList.css("display","none"),this.suggestionList.slideDown(200,"easeOutQuad")),this._isOpened=!0,this.showSuggestionBox=!0;var t=n(this._suggestionListID);this._listSize=t.size(),n(document).bind("mousedown",n.proxy(this._OnDocumentClick,this)),t.bind("mouseenter",n.proxy(this._OnMouseEnter,this)),t.bind("mouseleave",n.proxy(this._OnMouseLeave,this)),t.bind("mousedown",n.proxy(this._OnMouseClick,this))},_hideResult:function(){if(this.showSuggestionBox){if(this.showSuggestionBox=!1,this._activeItem=0,this._isOpened)this.suggestionList.css("display","none"),this.ul.empty();else{var t=this;this.suggestionList.slideUp(100,"easeOutQuad",function(){t.ul.empty()})}n(document).unbind("mousedown",n.proxy(this._OnDocumentClick,this))}},_refreshScroller:function(){this.suggestionList.css("height","auto"),this.suggestionList.find(".content, .vScroll").removeAttr("style"),this.suggestionList.find(".vScroll div").removeAttr("style"),this.suggestionList.css("display","block"),this.scrollerObj.model.height=this.suggestionList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this.suggestionList.css("height","auto")},_setListPosition:function(){var n=this.wrapper?this.wrapper:this.element,t=n.offset(),i=t.left,r=n.outerHeight(),u=(r-n.height())/2,f=this._getZindexPartial();this.model.rtl&&(i-=this.suggestionList.outerWidth()-n.outerWidth()),this.suggestionList.css({left:i+"px",top:t.top+r-u+3+"px","z-index":f})},_getZindexPartial:function(){var r="#"+this.target.id+"_suggestion",i=this.element.parents(),u=i.length,f=n("body").children(":not("+r+")"),t;return n(f).each(function(n,t){i[u+n]=t}),t=Math.max.apply(t,n.map(i,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_targetFocus:function(){this.element.hasClass("watermark")&&(this.element.removeClass("watermark"),this.element.val(null)),this.wrapper?this.wrapper.addClass("e-focused"):this.element.addClass("e-focused"),this._isFocused=!0,this.model.focusIn&&this._trigger("focusIn")},_targetBlur:function(){var t,r,u,i;this._isFocused=!1,this.wrapper?this.wrapper.removeClass("e-focused"):this.element.removeClass("e-focused"),this._isOpened=!1,this._hideResult(),this.model.delimiter&&(t=n.trim(this.element.val()),r=this.model.delimiter,u=t.substr(t.length-r.length,t.length),u==r&&this.element.val(t.substr(0,t.length-r.length))),this._isWatermark||this.model.watermark==null||n.trim(this.element.val())!==""||(this.element.val(this.model.watermark),this.element.addClass("watermark")),i=this._getCaretSelection(),this.model.autoFill&&i.end-i.start!=0&&i.end-i.start!=this.element.val().length&&(this.target.value=this.target.value.substr(0,i.start)),this.model.focusOut&&this._trigger("focusOut")},_removeListHover:function(){n(this._suggestionListID).removeClass("listHover")},_addListHover:function(){var n=this._getActiveItem();n.addClass("listHover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),n.focus()},_calcScrollTop:function(){for(var u=this.ul[0].offsetHeight,i=this.ul.find("li"),r=0,t=this.ul.find("li.listHover").index(),n=0;n<t;n++)r+=i[n].offsetHeight;return r-(this.suggestionList[0].offsetHeight-i[t].offsetHeight)/2},_getActiveItem:function(){return n(n(this._suggestionListID)[this._activeItem-1])},_getActiveText:function(){return this._txtMapper?this._currList[this._activeItem-1][this._txtMapper]:this._currList[this._activeItem-1]},_setTextBoxValue:function(){var t,r,i,u,f;this._activeItem&&!this.noresult&&(t=this._getActiveItem().text(),r=this._getCaretSelection(),i=this.model.autoFill?this.target.value.substr(0,r.start):this.target.value,this.model.delimiter?(this._delimiterIndex=this.target.value.lastIndexOf(this.model.delimiter),f=n.trim(i.substr(this._delimiterIndex+1,r.start)),u=i+t.substr(f.length,t.length)):u=i+t.substr(i.length,t.length),this.element.val(u))},_enterTextBoxValue:function(){if(this._activeItem&&!this.noresult){var t=this._getActiveItem(),n=this._getActiveText();this.model.delimiter?(this._delimiterIndex=this.target.value.lastIndexOf(this.model.delimiter),this.element.val(this._queryString.substr(0,this._delimiterIndex+1)+n+this.model.delimiter+" ")):this.element.val(n),this._moveCaretToEnd(this.element[0]),this.model.select&&this._trigger("select",{text:this.target.value,selectedText:n,uniqueKey:t.attr("key")}),this._valueChange()}},_addLoadingClass:function(){this.model.loadingImage&&this.element.addClass("onloading")},_removeLoadingClass:function(){this.element.removeClass("onloading")},_highlightSuggestion:function(t){if(n.trim(this._queryString)!=""){var f,e,i,r,o,u;f=this.model.caseSensitive?"g":"gi",u=n.trim(this._queryString),e=this.model.filter=="startswith"?"^"+u:u,i=new RegExp(e,f),i.test(t)&&(r=t.match(i),o=t.split(i),t="",n(o).each(function(n,i){t+=r[n]?i+"<span class='HighlightedText'>"+r[n]+"<\/span>":i}))}return t},_RightToLeft:function(){this.model.rtl?(this.element.addClass("e-rtl"),this.suggestionList.addClass("e-rtl")):(this.element.removeClass("e-rtl"),this.suggestionList.removeClass("e-rtl"))},_OnKeyDown:function(t){this.model.filter!="startswith"&&(this.model.autoFill=!1);switch(t.keyCode){case 38:t.preventDefault(),this.showSuggestionBox&&this.suggestionList&&(this._removeListHover(),this._activeItem>1?this._activeItem-=1:this._activeItem=this._listSize,this._addListHover(),this.model.autoFill&&(this._queryString=this.target.value,this._setTextBoxValue(),this._autofilSelection()));break;case 40:if(t.preventDefault(),this.showSuggestionBox&&this.suggestionList){if(this._removeListHover(),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=1,this._addListHover(),this.model.autoFill){this._queryString=this.target.value;var i=this._getCaretSelection();this.suggLen=i.start,this._setTextBoxValue(),this._autofilSelection()}}else this.model.dropdown&&this._OnDropdownClick(t);break;case 8:n.trim(this.element.val())==""&&(this._isOpened=!1);break;case 17:this.ctrlKeyPressed=!0;break;case 9:this.showSuggestionBox&&(t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(),this._hideResult());break;case 27:this._hideResult()}},_OnKeyUp:function(t){var r,i;if(this.ctrlKeyPressed)return t.keyCode==17&&(this.ctrlKeyPressed=!1),!1;if(r=t.target,this._queryString=t.target.value,n.trim(this.element.val())==""&&t.keyCode==38&&t.keyCode==40)return this._hideResult(),!1;if(i=this._checkDelimiter(),!i)return!1;this._queryString=n.trim(this._queryString);switch(t.keyCode){case 38:case 40:case 37:case 39:case 20:case 16:case 17:case 18:case 35:case 36:case 144:case 9:case 27:break;case 13:t.preventDefault(),this._queryString=this.element.val(),this._enterTextBoxValue(),this.model.autoFill&&(this.suggLen=this.element.val().length,this._autofilSelection()),this._isOpened=!1,this._hideResult();break;case 8:this._queryString.length>=this.model.minCharacter?(this._autoFill=!1,this._OnTextEnter()):(this._hideResult(),n.trim(this.element.val())==""&&(this._isOpened=!1));break;default:this._queryString.length>=this.model.minCharacter&&(this._autoFill=!0,this._OnTextEnter())}},_getFilteredList:function(n){if(!n||n.length<1)this.suggestionListItems=null;else{var i=t.Query();this._addQuery(i,typeof n[0]=="object"),this.suggestionListItems=t.DataManager(n).executeLocal(i)}this._doneRemaining()},_getSearchResult:function(n){if(t.DataManager&&n instanceof t.DataManager){window.clearTimeout(this.timer);var i=this;this.timer=window.setTimeout(function(){i._fetchRemoteDat(n)},700)}else this._getFilteredList(n)},_fetchRemoteDat:function(n){var t=this,i,r=this._getQuery();this._addQuery(r,!0),i=n.executeQuery(r),i.fail(function(){t.suggestionListItems=null,t._removeLoadingClass()}).done(function(n){t.suggestionListItems=n.result,t._doneRemaining()})},_addQuery:function(n,t){var i="",r;t&&(r=this.model.fields,i=r&&r.text?r.text:"text"),this._queryString?n.where(i,this.model.filter,this._queryString,!this.model.caseSensitive).sortBy(i,!1):n.sortBy(i,!1)},_getQuery:function(){var u;if(t.isNullOrUndefined(this.model.query)){var r=[],i=t.Query(),n=this.model.fields;for(u in n)u!=="tableName"&&r.push(n[u]);r.length>0&&i.select(r),this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||i.from(n.tableName)}else i=this.model.query.clone();return i},_OnTextEnter:function(){this._addLoadingClass(),this._hideResult(),this._getSearchResult(this.model.dataSource)},_doneRemaining:function(){if(this._showSuggestionList(),this.model.autoFill&&this._autoFill&&!this.noresult){this._activeItem=1,this._queryString=this.target.value;var n=this._getCaretSelection();this.suggLen=n.start,this._setTextBoxValue(),this._autofilSelection()}this._removeLoadingClass()},_checkDelimiter:function(){return this._delimiterIndex=this.model.delimiter?this.target.value.lastIndexOf(this.model.delimiter):-1,this._delimiterIndex==-1?(this._queryString=this.target.value,!0):this._delimiterIndex+1==this._queryString.length?(this._hideResult(),!1):(this._queryString=this.target.value.substr(this._delimiterIndex+1,this._queryString.length),!0)},_autofilSelection:function(){var n=this.element.val().length;this.target.setSelectionRange(this.suggLen,n)},_OnDropdownClick:function(n){n.preventDefault(),this._addLoadingClass(),this.showSuggestionBox&&this._hideResult(),this._showFullList()},_showFullList:function(){this._isFocused||this.element.focus(),this._queryString=null,this._autoFill=!1,this._getSearchResult(this.model.dataSource)},_OnMouseEnter:function(t){var r=t.target,i;t.target.tagName!="LI"&&(r=n(t.target).parents("li")),n(this._suggestionListID).removeClass("listHover"),n(r).addClass("listHover"),i=0,n(this._suggestionListID).each(function(t){if(n(this).hasClass("listHover"))return i=t,!1}),this._queryString=this.element.val(),this._activeItem=i+1},_OnMouseLeave:function(){n(this._suggestionListID).removeClass("listHover"),this.model.highlightSearch&&n(this._suggestionListID+" .HighlightedText").removeClass("listHover")},_OnMouseClick:function(n){n.preventDefault(),this.noresult||(this._enterTextBoxValue(),this._isOpened=!1,this._hideResult())},_OnDocumentClick:function(t){var i=null,r;this.model.dropdown&&(i=this.dropdownbutton[0].id,r=this.dropdownbutton.children()[0]),n(t.target).parents().hasClass("vScroll")||n(t.target).hasClass("vScroll")||n(t.target).hasClass("e-category")?t.preventDefault():t.target.id!=i&&t.target!=r&&t.target!=this.suggestionList[0]&&t.target!=this.element[0]&&(this._isOpened=!1,this._hideResult())},_valueChange:function(){this.model.change&&this._trigger("change",{text:this.target.value})},_moveCaretToEnd:function(n){if(typeof n.selectionStart=="number")n.selectionStart=n.selectionEnd=n.value.length;else if(typeof n.createTextRange!="undefined"){var t=n.createTextRange();t.collapse(!1),t.select()}},_getCaretSelection:function(){var n=this.element[0],t=0,i=0;return isNaN(n.selectionStart)||(t=n.selectionStart,i=n.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"keydown",this._OnKeyDown),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"input",this._valueChange)}}),t.filter={StartsWith:"startswith",Contains:"contains",EndsWith:"endswith",LessThan:"lessthan",GreaterThan:"greaterthan",LessThanOrEqual:"lessthanorequal",GreaterThanOrEqual:"greaterthanorequal",Equal:"equal",NotEqual:"notequal"}}(jQuery,Syncfusion),function(n,t){t.widget("ejButton","ej.Button",{element:null,model:null,_rootCSS:"e-button",defaults:{size:"normal",height:"",width:"",disabled:!1,text:null,contentType:"textonly",imagePosition:"imageleft",roundedCorner:!0,cssClass:"",prefixIcon:null,suffixIcon:null,rtl:!1,repeatButton:!1,create:null,click:null,destroy:null},dataTypes:{size:"string",height:"string",width:"string",disabled:"boolean",roundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",rtl:"boolean"},disable:function(){this.element.addClass(" e-state-disabled e-bgdisable"),this.element.removeClass("e-bgdefault")},enable:function(){this.element.removeClass("e-state-disabled e-bgdisable"),this.element.addClass("e-bgdefault")},_init:function(){this._initialize(),this._render(),this._controlStatus(this.model.disabled),this._wireEvents(this.model.repeatButton)},_destroy:function(){this.element.removeClass(this.model.cssClass+" e-bgdefault e-corner-all"),this.element.removeClass(this.model.cssClass+" e-state-disabled e-disable-bgdefault e-corner-all")},_setModel:function(n){var t;for(t in n)switch(t){case"size":this._setSize(n[t]);break;case"height":this._setHeight(n[t]);break;case"width":this._setWidth(n[t]);break;case"contentType":this._setContentType(n[t]);break;case"imagePosition":this._setImagePosition(n[t]);break;case"text":this._setText(n[t]);break;case"prefixIcon":this._setMajorIcon(n[t]);break;case"suffixIcon":this._setMinorIcon(n[t]);break;case"disabled":this._controlStatus(n[t]);break;case"roundedCorner":this._roundedCorner(n[t]);break;case"cssClass":this._setSkin(n[t]);break;case"rtl":this._setRTL(n[t])}},_setSize:function(n){switch(n){case"mini":this.element.addClass("btnmini");break;case"small":this.element.addClass("btnsmall");break;case"medium":this.element.addClass("btnmedium");break;case"large":this.element.addClass("btnlarge")}},_setHeight:function(n){this.element.css("height",n)},_setWidth:function(n){this.element.css("width",n)},_setText:function(n){this.buttonType=="inputButton"?this.element.val(n):this.model.contentType==t.contents.textOnly?this.element.text(n):this.textspan.text(n)},_setMajorIcon:function(n){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(n)},_setMinorIcon:function(n){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(n)},_setContentType:function(n){n!=this.model.contentType&&(this.element.empty(),this.model.contentType=n,this._renderButtonNormal())},_setImagePosition:function(n){this.model.contentType==t.contents.textAndImage&&n!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=n,this._renderButtonNormal())},_setRTL:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(n){n?this.disable():this.enable()},_setSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass),this.element.addClass(n))},_initialize:function(){this.element.is("input[type=button]")||this.element.is("input[type=submit]")||this.element.is("input[type=reset]")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.rtl),this.element.addClass(this.model.cssClass),this.buttonType=="inputButton"?(this.element.addClass("e-inpttxt"),this.model.text!=null&&this.model.text!=""&&this.element.val(this.model.text)):this._renderButtonNormal(),this._roundedCorner(this.model.roundedCorner)},_renderButtonNormal:function(){(this.model.text==null||this.model.text=="")&&(this.model.text=this.element.text()),this.element.empty(),this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=t.buildTag("span.e-icons "+this.model.prefixIcon),this.minorimgtag=t.buildTag("span.e-icons "+this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div.e-buttondiv")),this.model.contentType==t.contents.textAndImage?this.model.imagePosition==t.imagePositions.imageRight?(this.majorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.textspan,this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.majorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag,this.textspan),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageTextImage?(this.majorimgtag.addClass("e-btnimg"),this.minorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageBoth?(this.majorimgtag.addClass("e-btnimg"),this.minorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageOnly?(this.majorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-inpttxt"),this.element.text(this.model.text))},_roundedCorner:function(n){n==!0?this.element.addClass("e-corner-all"):this.element.removeClass("e-corner-all")},_wireEvents:function(t){t&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(n(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(n(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent)},_btnMouseClickEvent:function(n){var t=this,i;t.element.hasClass("e-state-disabled")||(i={target:n.currentTarget,status:t.model.disabled},t._trigger("click",i))},_btnRepatMouseClickEvent:function(n){var t=this,i;t.element.hasClass("e-state-disabled")||(i={target:n.currentTarget,status:t.model.disabled},(n.button==0||n.which==1)&&(t._timeout=setInterval(function(){t._trigger("click",i)},150)))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(n){var t=this,i;t.element.hasClass("e-state-disabled")||(i={target:n.currentTarget,status:t.model.disabled},(n.keyCode==32||n.keyCode==13)&&t._trigger("click",i))},_btnRepatKeyUpEvent:function(n){(n.keyCode==32||n.keyCode==13)&&clearTimeout(this._timeout)}}),t.contents={textOnly:"textonly",imageOnly:"imageonly",imageBoth:"imageboth",textAndImage:"textandimage",imageTextImage:"imagetextimage"},t.imagePositions={imageRight:"imageright",imageLeft:"imageleft"},t.buttonSize={mini:"mini",small:"small",medium:"medium",large:"large"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejDatePicker","ej.DatePicker",{element:null,_rootCss:"e-datepicker",model:null,defaults:{dayHeaderFormat:"ShowHeaderMin",showDateIcon:!0,showFooter:!0,displayInline:!1,dateFormat:"MM/dd/yyyy",waterMarkText:"Select date",displayDefaultDate:!0,value:null,minDate:new Date(1900,00,01),maxDate:new Date(2099,11,31),startLevel:"Month",depthLevel:"",cssClass:"",startDay:0,stepMonths:1,localize:"en-US",showOtherMonths:!0,width:160,height:"28",rtl:!1,open:null,close:null,dateSelected:null,readOnly:!1},_setValues:function(){this.Id=this.element[0].id,this.model.value=this._checkDateObject(this.model.value),this._setMinDate(this.model.minDate),this._setMaxDate(this.model.maxDate),this._setDisplayedMonth(Number(this.model.month),Number(this.model.year)),this._setCulture(this.model.localize),(this.model.startDay<0||this.model.startDay>6)&&(this.model.startDay=0),Date.firstDayOfWeek=this.model.startDay,Date.fullYearStart="20",this._showHeader=!0,this._validateMinMaxDate(),this.model.displayDefaultDate?this._setDateValue(this.model.value):this.element.is(":input")&&this.model.waterMarkText&&this.model.waterMarkText!=""&&this._setWaterMark(this.model.waterMarkText),this.theDate=new Date(this.model.value.toString()),this.flag=!0,this.sfHLWeekEnd=!1,this.isOpen=!1,this._prevDate=null,this.model.displayInline&&(this.model.showDateIcon=!1)},_init:function(){this._setValues(),this._createDatePicker()},_destroy:function(){this.sfCalendar.remove(),this.element.removeClass("e-datepicker e-input")},_setModel:function(n){var i=!1,r=!1,t;for(t in n)switch(t){case"dayHeaderFormat":this.model.dayHeaderFormat=n[t],i=!0;break;case"showDateIcon":this._renderDateIcon(n[t],!0);break;case"displayInline":this._setDisplayInline(n[t]);break;case"value":this.model.value=n[t]=this._checkDateObject(n[t]),this.model.displayDefaultDate&&this._setDateValue(this.model.value),i=!0;break;case"dateFormat":this.model.dateFormat=n[t],this._setDateValue(this.model.value);break;case"minDate":this._setMinDate(n[t]),i=!0;break;case"maxDate":this._setMaxDate(n[t]),i=!0;break;case"localize":this.model.localize=n[t],this._setCulture(n[t]),this._setDateValue(this.model.value),i=!0;break;case"showOtherMonths":this.model.showOtherMonths=n[t],i=!0;break;case"readOnly":this._disbleMaualInput(n[t]);break;case"width":this._setWidth(n[t]);break;case"height":this._setHeight(n[t]);break;case"cssClass":this._setSkin(n[t]);break;case"rtl":this._checkRTL(n[t]);break;case"showFooter":this._enableFooter(n[t]);break;case"waterMarkText":this.element.is(":input")&&(this.model.waterMarkText=n[t],this._setWaterMark());break;case"startDay":(parseInt(n[t])<0||parseInt(n[t])>6)&&(n[t]=0),this.model.startDay=n[t],i=!0;break;case"startLevel":this.model.startLevel=n[t],r=!0,i=!0;break;case"depthLevel":this.model.depthLevel=n[t],r=!0,i=!0}i&&this._refreshDatepicker(),r&&this._startLevel(this.model.startLevel)},_createDatePicker:function(){this._createWrapper(),this._wireEvents(),this.model.displayInline&&this.showDatePicker(),this.model.rtl&&this._checkRTL(!0)},_createWrapper:function(){this.element.is(":input")&&(this.element.addClass(" e-input "+this.model.cssClass),this._renderDateIcon(this.model.showDateIcon,!1)),this.sfCalendar=t.buildTag("div.e-datepicker "+this.model.cssClass+" e-calendar-control","",{},{id:"e-"+this.Id}).insertBefore(this.element),this._resizeCalender(),this.sfCalendar.css("display","none"),this.model.displayInline?this.element.append(this.sfCalendar):n("body").append(this.sfCalendar),this._createCalender(),this._disbleMaualInput(this.model.readOnly)},_renderDateIcon:function(n,i){i&&this.model.showDateIcon==n||(n?(this.inputWrapper=t.buildTag("span.e-datewidget "+this.model.cssClass),this.inputWrapper.insertBefore(this.element).append(this.element),this.dateIcon=t.buildTag("span.e-img-wrapper#"+this.Id+"-img","",{"border-style":"none none none solid"}).append(t.buildTag("span.e-dateicon")).insertAfter(this.element),this.model.displayInline||this._bindDateButton()):(i&&(this.element.insertBefore(this.inputWrapper),this.inputWrapper.remove()),this._bindInputEvent()),this.model.showDateIcon=n,this._setHeight(this.model.height),this._setWidth(this.model.width))},_resizeCalender:function(){var n;n=this.model.dayHeaderFormat=="ShowHeaderShort"?"18em":this.model.dayHeaderFormat=="ShowHeaderLong"?"35em":"18em",this.sfCalendar.width(n)},_setWidth:function(n){this.model.showDateIcon?(this.element.width(n-this.dateIcon[0].offsetWidth),this.inputWrapper.css("padding","0 "+this.dateIcon[0].offsetWidth+"px 0 0")):this.element.width(n)},_setHeight:function(n){this.element.height(n),this.model.showDateIcon&&this.dateIcon.height(this.element.height())},_checkRTL:function(n){n?(this.model.showDateIcon?(this.inputWrapper.css("padding","0 0 0 "+this.dateIcon[0].offsetWidth+"px").addClass("rtl"),this.dateIcon.css("border-style","none solid none none")):this.element.addClass("rtl"),this.sfCalendar.addClass("rtl")):(this.model.showDateIcon?(this.inputWrapper.css("padding","0 "+this.dateIcon[0].offsetWidth+"px 0 0").removeClass("rtl"),this.dateIcon.css("border-style","none none none solid")):this.element.removeClass("rtl"),this.sfCalendar.removeClass("rtl"))},_refreshDatepicker:function(){n(".e-nav-text",this.sfCalendar).text(this._asString(this.model.value,t.DatePicker.Text.HeaderFormat)),this._validateMinMaxDate(),this._resizeCalender(),this.theDate=new Date(this.model.value.toString()),this._renderCalendar(this,this.theDate),n(".e-footer-text",this.sfCalendar).html(t.DatePicker.Text.ButtonText),this._enableFooter(this.model.showFooter)},_setSkin:function(n){this.element.removeClass(this.model.cssClass),this.sfCalendar.removeClass(this.model.cssClass),this.element.addClass(n),this.sfCalendar.addClass(n)},_setDisplayInline:function(t){t?(this.showDatePicker(),n("#"+this.Id+"-img").unbind("click",n.proxy(this._showDatePopUp,this)),this.element.unbind("click",n.proxy(this._showDatePopUp,this)),n(document).unbind("mousedown",n.proxy(this._OnDocumentClick,this))):this.model.showDateIcon?this._bindDateButton():this._bindInputEvent()},_disbleMaualInput:function(t){t?n(this.element).attr("readonly",!0):n(this.element).removeAttr("readonly")},_checkDateObject:function(n){return isNaN(n)||!n||n==""?this._zeroTime(new Date):(n instanceof Date||(n=new Date(n)),!isNaN(Date.parse(n)))?n:isNaN(Date.parse(this.model.value))?new Date:this.model.value},_checkInstanceType:function(n){return isNaN(n)||!n||n==""?null:(n instanceof Date||(n=new Date(n)),isNaN(Date.parse(n))?void 0:n)},_validateMinMaxDate:function(){this.model.maxDate<this.model.minDate&&(this.model.maxDate=this.model.minDate),this.model.value<this.model.minDate&&(this.model.value=this.model.minDate),this.model.value>this.model.maxDate&&(this.model.value=this.model.maxDate)},_setCulture:function(n){this.culture=Globalize.culture(n),this.culture?(Date.dayNames=this.culture.calendar.days.names,Date.dayNamesMin=this.culture.calendar.days.namesShort,Date.abbrDayNames=this.culture.calendar.days.namesAbbr,Date.monthNames=this.culture.calendar.months.names,Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,Date.format="MM/dd/yyyy"):(Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.dayNamesMin=["Su","Mo","Tu","We","Th","Fr","Sa"],Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.format="MM/dd/yyyy")},_setWaterMark:function(){this.element.addClass("e-watermark"),this.element.val(this.model.waterMarkText)},_wireEvents:function(){this._on(n(".e-nav-text",this.sfCalendar),"mousedown",n.proxy(this._forwardNavHandler,this)),this._on(n(".e-nav-next",this.sfCalendar),"mousedown",n.proxy(this._previousNextHandler,this)),this._on(n(".e-nav-prev",this.sfCalendar),"mousedown",n.proxy(this._previousNextHandler,this)),this.element.is(":input")&&(this._on(this.element,"blur",this._onFocusOut),this._on(this.element,"focus",this._onFocusIn)),this.model.showFooter&&this._on(n(".e-calendar-footer",this.sfCalendar),"click",this._setCurrDate)},_bindDateButton:function(){n("#"+this.Id+"-img").bind("click",n.proxy(this._showDatePopUp,this)),this.element.unbind("click",n.proxy(this._showDatePopUp,this))},_bindInputEvent:function(){n("#"+this.Id+"-img").unbind("click",n.proxy(this._showDatePopUp,this)),this.element.is(":input")&&!this.model.displayInline&&this.element.bind("click",n.proxy(this._showDatePopUp,this))},_onFocusOut:function(){this.inputWrapper?this.inputWrapper.removeClass("e-focused"):this.element.removeClass("e-focused"),this.element.val()==""&&this.model.waterMarkText&&this.model.waterMarkText!=""&&!this.isOpen?this._setWaterMark(this.model.waterMarkText):this.isOpen||this._updateInputVal(),this.element.unbind("keydown",n.proxy(this._keyboardNavigation,this))},_onFocusIn:function(t){t.preventDefault(),this.model.readOnly&&this.element.blur(),this.inputWrapper?this.inputWrapper.addClass("e-focused"):this.element.addClass("e-focused"),this.element.val()==this.model.waterMarkText&&this.element.val(""),this.element.bind("keydown",n.proxy(this._keyboardNavigation,this))},_showhidePopup:function(){if(this.element.hasClass("disabled")||this.sfCalendar.hasClass("e-state-disabled"))return!1;this.isOpen?(this.element.is(":input")&&this.element.blur(),this.hideDatePicker()):(this.element.is(":input")&&this.element.focus(),this.showDatePicker())},_OnDocumentClick:function(t){this.element.hasClass("disabled")||this.model.displayInline||n(t.target).parents(".e-calendar-control").length<=0&&t.target.id!==this.element[0].id&&!this.inputWrapper.find(".e-dateicon").is(n(t.target))&&!this.inputWrapper.find(".e-img-wrapper").is(n(t.target))&&this._showhidePopup()},_showDatePopUp:function(n){if(n.preventDefault(),(this.element.hasClass("disabled")||this.sfCalendar.hasClass("e-state-disabled"))&&this.model.displayInline)return!1;this._showhidePopup()},_setCurrDate:function(n){var t=this;this.theDate=this._zeroTime(new Date),this.model.value=this.theDate,this._refreshDatepicker(),this._changeDayClass(),this._startLevel(this.model.startLevel),this._onSetCancelDateHandler(n)},_changeDayClass:function(){var t=n("#"+this.sfCalendar[0].id+" table")[0].className;t!="e-dp-viewdays"&&n("#"+this.sfCalendar[0].id+" table").removeClass(t).addClass("e-dp-viewdays")},_onSetCancelDateHandler:function(t){t.type&&t.preventDefault(),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._setDateValue(this.theDate),this.model.value=new Date(this.theDate);var i={previousDate:this._prevDate,selectedDate:this._formatter(this.model.value,this.model.dateFormat)};this.model.dateSelected&&i.previousDate!=i.selectedDate&&this._trigger("dateSelected",i),this.element.is(":input")&&!this.model.displayInline&&(this.element.focus(),this._showhidePopup()),n(t.target).hasClass("other-month")&&this._refreshDatepicker()},_closeCalendar:function(n){n&&n!=this.element||this.sfCalendar.empty().remove()},_setDatePickerPosition:function(){var n=this.element.offset(),t=n.left,i=this.element[0].offsetHeight,r=this._getZindexPartial();this.model.rtl&&(t+=this.element.width()-this.sfCalendar.width()),this.sfCalendar.css({left:t+"px",position:"absolute",top:n.top+i+3+"px","z-index":r})},_getZindexPartial:function(){var r="#e-"+this.element[0].id,i=this.element.parents(),u=i.length,f=n("body").children(":not("+r+")"),t;return n(f).each(function(n,t){i[u+n]=t}),t=Math.max.apply(t,n.map(i,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_formatter:function(n,t){return Globalize.format(n,t,this.model.localize)},isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},_zeroTime:function(n){return n.setMilliseconds(0),n.setSeconds(0),n.setMinutes(0),n.setHours(0),n},_zeroPad:function(n){return(n<10?"0":"")+String(n)},_formatDate:function(n){return this._formatter(n,Date.format)},_getDaysInMonth:function(n){return[31,this.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][n.getMonth()]},_addDays:function(n,t){return n.setDate(n.getDate()+t),n},_addYears:function(n,t){return n.setFullYear(n.getFullYear()+t),n},_addMonths:function(n,t){var i=n.getDate();return n.setMonth(n.getMonth()+t),i>n.getDate()&&this._addDays(n,-n.getDate()),n},_isWeekend:function(n){return n.getDay()==0||n.getDay()==6},_asString:function(n,t){var i=t||Date.format;return i.split("yyyy").join(n.getFullYear()).split("yy").join((n.getFullYear()+"").substring(2)).split("MMMM").join(this._getMonthName(!1,n)).split("MMM").join(this._getMonthName(!0,n)).split("MM").join(this._zeroPad(n.getMonth()+1)).split("dd").join(this._zeroPad(n.getDate())).split("hh").join(this._zeroPad(n.getHours())).split("min").join(this._zeroPad(n.getMinutes())).split("ss").join(this._zeroPad(n.getSeconds()))},_getMonthName:function(n,t){return n?Date.abbrMonthNames[t.getMonth()]:Date.monthNames[t.getMonth()]},_currentDay:function(){var n=new Date,t=n.getDate(),i=n.getMonth()+1,r=n.getFullYear();return new Date(t+"/"+i+"/"+r)},_displayNewMonth:function(n,t){return this._setDisplayedMonth(this.displayedMonth+n,this.displayedYear+t,!0),!1},_setDisplayedMonth:function(n,t,r){var f,e,u,s,h,o;this.model.minDate!=i&&this.model.maxDate!=i&&(f=new Date(this.model.minDate.getTime()),f.setDate(1),e=new Date(this.model.maxDate.getTime()),e.setDate(1),!n&&!t||isNaN(n)&&isNaN(t)?(u=this._zeroTime(new Date),u.setDate(1)):u=isNaN(n)?new Date(t,this.displayedMonth,1):isNaN(t)?new Date(this.displayedYear,n,1):new Date(t,n,1),u.getTime()<f.getTime()?u=f:u.getTime()>e.getTime()&&(u=e),s=this.displayedMonth,h=this.displayedYear,this.displayedMonth=u.getMonth(),this.displayedYear=u.getFullYear(),o=u,r&&(this.displayedMonth!=s||this.displayedYear!=h)&&(this._renderCalendar(this,o),this.theDate=o,this.model.monthChanged&&this._trigger("monthChanged",[this.displayedMonth,this.displayedYear])))},_clearSelected:function(){this.numSelected=0,n("td.selected",this.sfCalendar).removeClass("selected").parent().removeClass("selectedWeek")},_hideOtherMonths:function(t){n("td.other-month",t).css("visibility","hidden")},_showOtherMonths:function(t){n("td.other-month",t).css({visibility:"visible"})},_setMinDate:function(n){this.model.minDate=this._checkInstanceType(n),this.model.minDate||(this.model.minDate=new Date("11/31/1899")),this._validateMinMaxDate(),this._setDisplayedMonth(this.displayedMonth,this.displayedYear)},_setMaxDate:function(n){this.model.maxDate=this._checkInstanceType(n),this.model.maxDate||(this.model.maxDate=new Date("12/31/2099")),this._validateMinMaxDate(),this._setDisplayedMonth(this.displayedMonth,this.displayedYear)},_setDateValue:function(n){this.model.value=n=this._checkDateObject(n),this._validateMinMaxDate(),this.element.val(this._formatter(this.model.value,this.model.dateFormat))},_updateInputVal:function(){var n=this;n.sfCalendar.find(".e-datepicker-days").is(":visible")?(n.model.value=n._checkDateObject(Globalize.parseDate(n.element.val(),n.model.dateFormat)),n.model.displayDefaultDate&&n._setDateValue(n.model.value),n._refreshDatepicker()):(n.model.value=n._checkDateObject(Globalize.parseDate(n.element.val(),n.model.dateFormat)),n.model.displayDefaultDate&&n._setDateValue(n.model.value))},showDatePicker:function(){var t=this;if(this.element.hasClass("disabled")||this.sfCalendar.hasClass("e-state-disabled"))return!1;this.model.displayInline||this._setDatePickerPosition(),this.sfCalendar.slideDown(200,"easeOutQuad",function(){t.isOpen=!0,n(document).bind("mousedown",n.proxy(t._OnDocumentClick,t))}),this.element.val()!==""&&this._updateInputVal(),this.model.open&&this._trigger("open",{currentDate:this.theDate,SelectedDate:this.model.value})},hideDatePicker:function(){var t=this;this.sfCalendar.slideUp(100,"easeOutQuad",function(){t.isOpen=!1,n(document).unbind("mousedown",n.proxy(t._OnDocumentClick,t)),t.element.val()==""&&t.model.waterMarkText&&t.model.waterMarkText!=""&&t._setWaterMark(t.model.waterMarkText)}),this.model.close&&this._trigger("close",{currentDate:this.theDate,SelectedDate:this.model.value})},enable:function(){this.element.parent().hasClass("e-datewidget")&&this.element.parent().removeClass("e-state-disabled"),this.element.removeAttr("disabled"),this.sfCalendar.removeClass("e-state-disabled")},disable:function(){this.element.parent().hasClass("e-datewidget")&&this.element.parent().addClass("e-state-disabled"),this.element.attr("disabled","disabled"),this.sfCalendar.addClass("e-state-disabled"),this.isOpen&&(this.element.is(":input")&&this.element.blur(),this.hideDatePicker())},getValue:function(){return this._formatter(this.model.value,this.model.dateFormat)},_keyboardNavigation:function(n){var t;if(this.isOpen){if(n.keyCode==37||n.keyCode==38||n.keyCode==39||n.keyCode==40||n.keyCode==13){n.preventDefault(),t={row:null,col:null},t.col=this.sfCalendar.find("tbody tr td.e-state-hover").index(),t.row=this.sfCalendar.find("tbody tr td.e-state-hover").parent().index(),t.col=t.col!=-1?t.col+1:this.sfCalendar.find("tbody tr td.selected").index()+1,t.row=t.row!=-1?t.row+1:this.sfCalendar.find("tbody tr td.selected").parent().index()+1;var f=this.sfCalendar.find("table")[0].className,i,r=3,u=4;switch(f){case"e-dp-viewallyears":i=this._changeRowCol(t,n.keyCode,r,u,"yearall",n.ctrlKey),n.ctrlKey||(this._hoverAllYear=this.sfCalendar.find("tbody.e-datepicker-allyears tr td").index(i));break;case"e-dp-viewyears":i=this._changeRowCol(t,n.keyCode,r,u,"year",n.ctrlKey),n.ctrlKey||(this._hoverYear=this.sfCalendar.find("tbody.e-datepicker-years tr td").index(i));break;case"e-dp-viewmonths":i=this._changeRowCol(t,n.keyCode,r,u,"month",n.ctrlKey),n.ctrlKey||(this._hoverMonth=this.sfCalendar.find("tbody.e-datepicker-months tr td").index(i));break;case"e-dp-viewdays":r=this.sfCalendar.find("tbody.e-datepicker-days tr").length,u=7,i=this._changeRowCol(t,n.keyCode,r,u,"day",n.ctrlKey),n.ctrlKey||(this._hoverDate=this._getDateObj(i).getDate()-1)}n.ctrlKey||(this.sfCalendar.find("table td").removeClass("e-state-hover"),i.addClass("e-state-hover"))}else if(n.keyCode==27||n.keyCode==9)return this.hideDatePicker(),!1}else if(n.altKey&&n.keyCode==40)return this.showDatePicker(),!1},_changeRowCol:function(t,i,r,u,f,e){var h,s={parent:null,child:null},o,l,c;switch(f){case"day":h="tbody.e-datepicker-days tr td.current-month",s.parent=".e-datepicker-days",s.child=".current-month";break;case"month":h="tbody.e-datepicker-months tr td.e-current-month",s.parent=".e-datepicker-months",s.child=".e-current-month";break;case"year":h="tbody.e-datepicker-years tr td.e-current-year",s.parent=".e-datepicker-years",s.child=".e-current-year";break;case"yearall":h="tbody.e-datepicker-allyears tr td.e-current-allyear",s.parent=".e-datepicker-allyears",s.child=".e-current-allyear"}if(t.row<=0&&t.col<=0)return this.sfCalendar.find(h+":first");l=this;switch(i){case 38:if(e)this._forwardNavHandler();else if(t.row>1)t.row-=1;else return this._processNextPrevDate(!0),this.sfCalendar.find(h+":nth-child("+t.col+"):last");return o=this._getCell(t,s),o.length<=0&&(this._processNextPrevDate(!0),o=this.sfCalendar.find(h+":nth-child("+t.col+"):last")),o;case 37:if(e)return this._processNextPrevDate(!0),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else if(t.row>1)t={row:t.row-1,col:u};else return this._processNextPrevDate(!0),this.sfCalendar.find(h+":last");return o=this._getCell(t,s),o.length<=0&&(this._processNextPrevDate(!0),o=this.sfCalendar.find(h+":last")),o;case 39:if(e)return this._processNextPrevDate(!1),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col<u)t.col+=1;else if(t.row<r)t={row:t.row+1,col:1};else return this._processNextPrevDate(!1),this.sfCalendar.find(h+":first");return o=this._getCell(t,s),o.length<=0&&(this._processNextPrevDate(!1),o=this.sfCalendar.find(h+":first")),o;case 40:if(!e){if(t.row<r)t.row+=1;else return this._processNextPrevDate(!1),this.sfCalendar.find(h+":nth-child("+t.col+"):first");return o=this._getCell(t,s),o.length<=0&&(this._processNextPrevDate(!1),o=this.sfCalendar.find(h+":nth-child("+t.col+"):first")),o}case 13:c=n("table",this.sfCalendar).get(0).className,this._backwardNavHandler(this._getCell(t,s)),c=="e-dp-viewdays"&&this._onSetCancelDateHandler({type:null})}return this._getCell(t,s)},_getCell:function(n,t){return this.sfCalendar.find("tbody"+t.parent+" tr:nth-child("+n.row+") td"+t.child+":nth-child("+n.col+")")},_getDateObj:function(n){return new Date(n.attr("date"))},_createCalender:function(){t.buildTag("div.e-calendar-header").append(t.buildTag("span.e-nav-prev").append(t.buildTag("a.e-icon-prev e-icon-"+this.model.cssClass+""))).append(t.buildTag("span.e-nav-text").text(this._asString(this.model.value,t.DatePicker.Text.HeaderFormat))).append(t.buildTag("span.e-nav-next").append(t.buildTag("a.e-icon-next e-icon-"+this.model.cssClass+""))).appendTo(this.sfCalendar),this._enableHeader(this._showHeader);var i=t.buildTag("table.e-dp-viewdays","",{},{cellspacing:2}).data("e-table","data");this.sfCalendar.append(i),this._renderCalendar(this),this._startLevel(this.model.startLevel),t.buildTag("div.e-calendar-footer").append(t.buildTag("span.e-footer-icon")).append(t.buildTag("span.e-footer-text")).appendTo(this.sfCalendar),n(".e-footer-text",this.sfCalendar).html(t.DatePicker.Text.ButtonText),this._enableFooter(this.model.showFooter)},_enableHeader:function(t){t?n(".e-calendar-header",this.sfCalendar).show():n(".e-calendar-header",this.sfCalendar).hide()},_enableFooter:function(t){t?n(".e-calendar-footer",this.sfCalendar).show():n(".e-calendar-footer",this.sfCalendar).hide()},_checkArrows:function(n,t){this._preArrowCondition(n,this.model.minDate.getFullYear()),this._nextArrowCondition(t,this.model.maxDate.getFullYear())},_checkDateArrows:function(){this._preArrowCondition(this._tempMinDate,this.model.minDate),this._nextArrowCondition(this._tempMaxDate,this.model.maxDate)},_preArrowCondition:function(n,t){n<=t?this.sfCalendar.find(".e-icon-prev").addClass("e-state-disabled"):this.sfCalendar.find(".e-icon-prev").removeClass("e-state-disabled")},_nextArrowCondition:function(n,t){n>=t?this.sfCalendar.find(".e-icon-next").addClass("e-state-disabled"):this.sfCalendar.find(".e-icon-next").removeClass("e-state-disabled")},_previousNextHandler:function(t){t.preventDefault();var i=n(t.target).is("a")?n(t.target.parentNode):n(t.target),r=i.hasClass("e-nav-prev")?!0:!1;this._processNextPrevDate(r)},_processNextPrevDate:function(i){var r,f,s,o,e,u;if(i&&this.sfCalendar.find(".e-icon-prev").hasClass("e-state-disabled")||!i&&this.sfCalendar.find(".e-icon-next").hasClass("e-state-disabled"))return!1;r=n("table",this.sfCalendar),s=r.get(0).className;switch(s){case"e-dp-viewdays":if(o=this.model.stepMonths,i){if(this.theDate<=this.model.minDate)return this.flag=!1,!1}else if(this.theDate>=this.model.maxDate)return this.flag=!1,!1;this.flag=!0,this._addMonths(this.theDate,i?-o:o),this._renderCalendar(this,this.theDate),n(".e-nav-text",this.sfCalendar).text(this._asString(this.theDate,t.DatePicker.Text.HeaderFormat)),this._addFocus("day",this._hoverDate);break;case"e-dp-viewmonths":if(i){if(this.theDate.getFullYear()<=this.model.minDate.getFullYear())return this.flag=!1,!1}else if(this.theDate.getFullYear()>=this.model.maxDate.getFullYear())return this.flag=!1,!1;this.flag=!0,this._addYears(this.theDate,i?-1:1),this._renderCalendar(this,this.theDate),f=this.theDate.getFullYear(),n(".e-nav-text",this.sfCalendar).text(f),n("tbody,tr.e-week-header",r).not(".e-datepicker-months").hide(),n(n(r).find(".e-datepicker-months")).show(),this._addFocus("month",this._hoverMonth),this._checkArrows(f,f);break;case"e-dp-viewyears":if(i){if(parseInt(n("td.e-year-first:first").text())<=this.model.minDate.getFullYear())return this.flag=!1,!1}else if(parseInt(n("td.e-year-last:first").prev().text())>=this.model.maxDate.getFullYear())return this.flag=!1,!1;this.flag=!0,this.theDate.setFullYear(this.theDate.getFullYear()+(i?-10:10)),this._renderCalendar(this,this.theDate),u=parseInt(this.theDate.getFullYear())-(parseInt(this.theDate.getFullYear())%10+1),n(".e-nav-text").text(u+1+" - "+(u+10)),n("tbody,tr.e-week-header",r).not(".e-datepicker-years").hide(),n(n(r).find(".e-datepicker-years")).show(),this._addFocus("year",this._hoverYear),this._checkArrows(u+1,u+10);break;case"e-dp-viewallyears":if(i){if(e=parseInt(n("td.e-allyear-first",r.get(0)).text().split("-\n")[1]),e<=this.model.minDate.getFullYear())return this.flag=!1,!1;this.flag=!0}else{if(e=parseInt(n("td.e-allyear-last",r.get(0)).prev().text().split("-\n")[1]),e>=this.model.maxDate.getFullYear())return this.flag=!1,!1;this.flag=!0}this.theDate.setFullYear(e+(i?-10:10)),this._renderCalendar(this,this.theDate),u=parseInt(this.theDate.getFullYear())-(parseInt(this.theDate.getFullYear())%100+1),f=parseInt(n("td.e-allyear-last",r.get(0)).prev().text().split("-\n")[1]),n(".e-nav-text",this.sfCalendar).text(u+1+" - "+f),n("tbody,tr.e-week-header",r).not(".e-datepicker-allyears").hide(),n(n(r).find(".e-datepicker-allyears")).show(),this._addFocus("allyear",this._hoverAllYear),this._checkArrows(u+1,f)}},_addFocus:function(t,i){var f="e-current-"+t,u,r;return t=="day"&&(f="current-month"),u=this.sfCalendar.find("tbody tr td."+f),r=u[i],r||(r=u.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),n(r).addClass("e-state-hover"),n(r)},_setFocusByName:function(t,i){var u=this.sfCalendar.find("tbody tr td.e-current-"+t),f,r;return n(u).each(function(n,t){if(parseInt(t.innerHTML)==parseInt(i)){f=n;return}}),r=u[f],r||(r=u.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),n(r).addClass("e-state-hover"),f},_getHeaderTxt:function(){return this.sfCalendar.find(".e-nav-text").text()},_forwardNavHandler:function(t){t&&t.preventDefault();var r=n("table",this.sfCalendar),u=n("table",this.sfCalendar).get(0).className,f=this,i;switch(u){case"e-dp-viewdays":this._hoverMonth=this._getDateObj(r.find(".e-state-hover")).getMonth()||this._getDateObj(r.find(".selected")).getMonth()||0,this._startLevel("Year"),this._addFocus("month",this._hoverMonth);break;case"e-dp-viewmonths":i=this._getHeaderTxt(),this._startLevel("Decade"),this._hoverYear=this._setFocusByName("year",i);break;case"e-dp-viewyears":i=this._getHeaderTxt(),this._startLevel("Century"),this._hoverAllYear=this._setFocusByName("allyear",i)}},_backwardNavHandler:function(i){var u,r;i.type?(i.preventDefault(),u=n(i.target)):u=i;var f=n("table",this.sfCalendar),o,s=n("table",this.sfCalendar).get(0).className,e=this;switch(s){case"e-dp-viewmonths":f.removeClass("e-dp-viewmonths").addClass("e-dp-viewdays"),this.theDate=new Date(this.theDate.getFullYear(),parseInt(n(u).attr("index")),1),this._renderCalendar(this,this.theDate),n("tbody",f).not(".e-datepicker-days,.e-week-header").hide(),n(n(f).find(".e-datepicker-days,.e-week-header")).fadeIn("slow",function(){e._addFocus("day",e._hoverDate||0)}),n(".e-nav-text",this.sfCalendar).text(this._asString(this.theDate,t.DatePicker.Text.HeaderFormat));break;case"e-dp-viewyears":f.removeClass("e-dp-viewyears").addClass("e-dp-viewmonths"),this.theDate.setFullYear(parseInt(u.text())),this._renderCalendar(this,this.theDate),n("tbody,tr.e-week-header",f).not(".e-datepicker-months").hide(),n(n(f).find(".e-datepicker-months")).fadeIn("slow",function(){e._addFocus("month",e._hoverMonth||0)}),o=u.text(),n(".e-nav-text",this.sfCalendar).text(o),this._checkArrows(o,o);break;case"e-dp-viewallyears":r=u.text().split("-"),f.removeClass("e-dp-viewallyears").addClass("e-dp-viewyears"),r[0]<this.model.minDate.getFullYear()?r[0]=this.model.minDate.getFullYear().toString():r[0]>this.model.maxDate.getFullYear()&&(r[0]=this.model.maxDate.getFullYear().toString()),this._renderCalendar(this,new Date(r[0],0,1)),n("tbody,tr.e-week-header",f).not(".e-datepicker-years").hide(),n(n(f).find(".e-datepicker-years")).fadeIn("slow",function(){e._addFocus("year",e._hoverYear||0)}),n(".e-nav-text",this.sfCalendar).text(r[0]+"-"+r[1]),this._checkArrows(r[0],r[1]);break;default:this._clearSelected(),this.sfCalendar.find("table td").removeClass("e-state-hover"),u.not("td.other-month").addClass("selected e-state-hover"),this._hoverDate=this._getDateObj(u).getDate()-1,this.theDate=new Date(u.attr("date"))}},_startLevel:function(t){var i=n("table",this.sfCalendar),f=n(".e-nav-text",this.sfCalendar),r,u,e,o;switch(t){case"Decade":i.removeClass("e-dp-viewmonths e-dp-viewdays").addClass("e-dp-viewyears"),n("tbody,tr.e-week-header",i).not(".e-datepicker-years").hide(),n(n(i).find(".e-datepicker-years")).show(),e=parseInt(this.theDate.getFullYear())-(parseInt(this.theDate.getFullYear())%10+1),r=e+1,u=e+10,f.text(r+" - "+u),this._checkArrows(r,u);break;case"Century":this._renderCalendar(this,this.theDate),i.removeClass("e-dp-viewyears e-dp-viewdays e-dp-viewmonths").addClass("e-dp-viewallyears"),n("tbody,tr.e-week-header",i).not(".e-datepicker-allyears").hide(),n(n(i).find(".e-datepicker-allyears")).show(),r=parseInt(n("td.e-allyear-first",i.get(0)).text().split("-")[1])+1,u=n("td.e-allyear-last",i.get(0)).prev().text().split("-\n")[1],o=r+"-"+u,f.text(o),this._checkArrows(r,u);break;case"Year":i.removeClass("e-dp-viewdays").addClass("e-dp-viewmonths"),n("tbody,tr.e-week-header",i).hide(),n(n(i).find(".e-datepicker-months")).show(),r=this.theDate.getFullYear(),f.text(r),this._checkArrows(r,r)}},_depthLevel:function(t){var i=this.sfCalendar;switch(t){case"Year":n(i.find(".e-current-year,.e-current-allyear")).bind("mouseup",n.proxy(this._backwardNavHandler,this)),this._on(n(".e-current-month",this.sfCalendar),"click",n.proxy(this._onDepthSelectHandler,this));break;case"Decade":n(i.find(".e-current-allyear")).bind("mouseup",n.proxy(this._backwardNavHandler,this)),n(".e-current-year",this.sfCalendar).bind("click",n.proxy(this._onDepthSelectHandler,this));break;case"Century":n(i.find(".e-current-allyear")).bind("click",n.proxy(this._onDepthSelectHandler,this))}},_onDepthSelectHandler:function(t){n(t.target).hasClass("e-current-month")?this.theDate=new Date(this.theDate.setMonth(parseInt(t.target.attributes.index.value))):n(t.target).hasClass("e-current-year")?this.theDate=new Date(this.theDate.setFullYear(parseInt(t.target.innerHTML))):n(t.target).hasClass("e-current-allyear")&&(this.theDate=new Date(this.theDate.setFullYear(parseInt(t.target.innerHTML)))),this._onSetCancelDateHandler(t),this._showhidePopup()},_datepickerMonths:function(t,i,r){for(var c=function(n){return document.createElement(n)},f=0,o,s,u,h,e=0;e<3;e++){for(o=n(c("tr")),s=0;s<4;s++)u=n(c("td")).addClass("e-current-month e-state-default").attr("index",f).html(Date.abbrMonthNames[f++]),r.getFullYear()<this.model.minDate.getFullYear()||r.getFullYear()>this.model.maxDate.getFullYear()?(u.addClass("e-hidedate"),u.removeClass("e-current-month")):(r.getFullYear()<=this.model.minDate.getFullYear()&&f<this.model.minDate.getMonth()+1||r.getFullYear()>=this.model.maxDate.getFullYear()&&f>this.model.maxDate.getMonth()+1)&&(u.addClass("e-hidedate"),u.removeClass("e-current-month")),o.append(u);t.append(o)}i.append(t),h=r.getFullYear(),this._checkArrows(h,h)},_datepickerYears:function(t,i,r){for(var c=function(n){return document.createElement(n)},l=parseInt(r)-(parseInt(r)%10+1),f=[],o,s,h,u,e=0;e<12;e++)f.push(l+e);for(o=0,s=0;s<3;s++){for(h=n(c("tr")),e=0;e<4;e++)u=n(c("td")),o==0?(parseInt(f[o])<=this.model.minDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-year-first e-current-year ")):o==11?(parseInt(f[o])>=this.model.maxDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-year-last e-current-year ")):u.addClass("e-current-year e-state-default"),(f[o]<this.model.minDate.getFullYear()||f[o]>this.model.maxDate.getFullYear())&&(u.addClass("e-hidedate"),u.removeClass("e-current-year")),u.html(f[o++]),h.append(u);t.append(h)}i.append(t),this._checkArrows(f[0],f[f.length])},_datepickerAllYears:function(t,i,r){for(var s=parseInt(r)-(parseInt(r)%100+10),l=s,o=[],f,h,c,u,e=0;e<12;e++)o.push(parseInt(s)+"-\n"+parseInt(s+9)),s=s+10;for(f=0,h=0;h<3;h++){for(c=n(document.createElement("tr")),e=0;e<4;e++)u=n(document.createElement("td")),f==0?(parseInt(o[f].split("-\n")[1])<=this.model.minDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-allyear-first e-current-allyear ")):f==11?(parseInt(o[f].split("-\n")[0]-1)>=this.model.maxDate.getFullYear()?u.css("visibility","hidden"):u.css("visibility","visible"),u.addClass("e-allyear-last e-current-allyear ")):u.addClass("e-current-allyear e-state-default"),(parseInt(o[f].split("-\n")[1])<this.model.minDate.getFullYear()||parseInt(o[f].split("-\n")[0]-1)>this.model.maxDate.getFullYear())&&(u.addClass("e-hidedate"),u.removeClass("e-current-allyear")),u.html(o[f++]),c.append(u);t.append(c)}i.append(t)},_renderHeader:function(i){var h=n(document.createElement("thead")),e,u,f,r,o,s;if(i.model.dayHeaderFormat!="ShowHeaderNone")for(e=t.buildTag("tr.e-week-header"),u=Date.firstDayOfWeek;u<Date.firstDayOfWeek+7;u++)f=u%7,r=Date.dayNames[f],o=i.model.dayHeaderFormat=="ShowHeaderShort"?r.substr(0,3):i.model.dayHeaderFormat=="ShowHeaderLong"?r:r.substr(0,2),s=t.buildTag("th","",{},{scope:"col",abbr:r,date:r,title:this._formatter(r,"dddd"),"class":f==0||f==6?"weekend":"weekday"}).html(o),e.append(s);return h.append(e)},_renderCalendar:function(r,u){var w=this,s,o,e,k,d,g,v,y,l,h,p;r=n.extend({},t.DatePicker.prototype.defaults,r),Date.firstDayOfWeek=this.model.startDay,s=u?u:this.model.value?this.model.value:w._zeroTime(new Date),o=n("table",this.sfCalendar),o.empty(),o.append(this._renderHeader(r)),e=t.buildTag("tbody.e-datepicker-allyears","",{display:"none"},{}),this._datepickerAllYears(e,o,s.getFullYear()),e=t.buildTag("tbody.e-datepicker-years","",{display:"none"},{}),this._datepickerYears(e,o,s.getFullYear());var b=r.model.month==i?s.getMonth():r.model.month,tt=r.model.year||s.getFullYear(),f=new Date(tt,b,1,0,0,0),c=Date.firstDayOfWeek-f.getDay()+1;c>1&&(c-=7),k=Math.ceil((-1*c+1+this._getDaysInMonth(f))/7),this._addDays(f,c-1),d=w._zeroTime(new Date),g=this.model.value,e=t.buildTag("tbody.e-datepicker-months","",{display:"none"},{}),this._datepickerMonths(e,o,s),e=t.buildTag("tbody.e-datepicker-days","",{display:"none"},{});for(var it=0,nt=!0,a=!0;it++<k;){for(v=jQuery(document.createElement("tr")),y=0;y<7;y++)l=f.getMonth()==b,h=n(document.createElement("td")).text(f.getDate()+"").attr({date:f.toDateString(),title:this._formatter(f,"ddd MMM dd yyyy")}).addClass((l?"current-month e-state-default ":"other-month e-state-default ")+(this._isWeekend(f)?this.sfHLWeekEnd?"e-dp-weekend weekend":"weekend":"weekday ")+(l&&f.getTime()==d.getTime()?"today ":"")),g.getTime()==f.getTime()&&(h.addClass("selected"),this._hoverDate||(h.addClass("e-state-hover"),this._hoverDate=f.getDate()-1)),p=!0,(f<this.model.minDate||f>this.model.maxDate)&&(h.addClass("e-hidedate"),h.removeClass("current-month other-month"),p=a=!1),l&&(p&&nt&&(this._tempMinDate=f,nt=!1,a=!0),a&&(this._tempMaxDate=f)),v.append(h),f=new Date(f.getFullYear(),f.getMonth(),f.getDate()+1,0,0,0);e.append(v)}o.append(e),n(e).fadeIn("slow"),this.model.startLevel===this.model.depthLevel?this._depthLevel(this.model.depthLevel):(this._on(o.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"mouseup",n.proxy(this._backwardNavHandler,this)),this._on(o.find(".current-month , .other-month"),"click",n.proxy(this._onSetCancelDateHandler,this))),this.model.showOtherMonths?this._showOtherMonths(this.sfCalendar):this._hideOtherMonths(this.sfCalendar),this._checkDateArrows()}}),t.DatePicker.Header={ShowHeaderNone:"ShowHeaderNone",ShowHeaderShort:"ShowHeaderShort",ShowHeaderMin:"ShowHeaderMin",ShowHeaderLong:"ShowHeaderLong"},t.DatePicker.Text={ButtonText:"Today",HeaderFormat:"MMMM yyyy"},t.DatePicker.Level={Month:"Month",Year:"Year",Decade:"Decade",Century:"Century"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,model:null,defaults:{autoOpen:!0,closeOnEscape:!0,closeText:"close",draggable:!0,height:"auto",minHeight:150,minWidth:150,modal:!1,position:null,resizable:!0,showHeader:!0,content:null,loadUrl:null,ajaxOptions:{type:"GET",cache:!1,url:"",data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",rtl:!1,allowKeyboardNavigation:!0,roundedCorner:!1,iconAction:["close"],customIconCss:null,contentContainer:null,beforeClose:null,close:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,load:null,ajaxSuccess:null,ajaxError:null},dataTypes:{autoOpen:"boolean",closeOnEscape:"boolean",closeText:"string",draggable:"boolean",modal:"boolean",resizable:"boolean",showHeader:"boolean",title:"string",zIndex:"number",cssClass:"string",loadUrl:"string",content:"string",contentContainer:"string"},keyConfigs:[37,38,39,40],_init:function(){this._renderControl(),this._wireEvents()},_setModel:function(i){for(var r in i)switch(r){case"closeText":this._ejDialog.find("div.e-dialog-close").attr("title",i[r]);break;case"title":this._ejDialog.find("span.e-dialog-title").html(i[r]);break;case"width":this.model.width=i[r],this._setSize();break;case"height":this.model.height=i[r],this._setSize();break;case"position":this.model.position=i[r],this._dialogPosition();break;case"cssClass":this._changeSkin(i[r]);break;case"roundedCorner":this._roundedCorner(i[r]);break;case"content":this._appendContent(i[r]);break;case"loadUrl":this.model.loadUrl=i[r],this._appendContent();break;case"contentContainer":this._ejDialog.appendTo(n(i[r]));break;case"minHeight":this.model.minHeight=i[r],this._setSize();break;case"showHeader":i[r]?(this._renderTitleBar(),this._iconsRender(this.model.iconAction)):this._ejDialog.find(".e-dialog-titlebar").remove();break;case"rtl":i[r]?this._ejDialog.addClass("e-rtl"):this._ejDialog.removeClass("e-rtl");break;case"iconAction":t.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(i[r]))}},_destroy:function(){n("#"+this.element.attr("id")+"_overLay").remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1},_renderControl:function(){if(this._cloneElement=this.element.clone(),this.element.attr("tabindex",0),this._ejDialog=t.buildTag("div.e-dialog "+this.model.cssClass+" e-dialog-wrapper e-shadow#"+this.element.prop("id")+"_wrapper","",{display:"none",zIndex:this.model.zIndex}),t.isNullOrUndefined(this.model.contentContainer)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(n(this.model.contentContainer)),this.model.rtl&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&this._renderTitleBar(),this.model.showHeader&&this._iconsRender(this.model.iconAction),this._appendContent(this.model.content),this.model.draggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this.model.resizable){this._ejDialog.addClass("e-resizable");var i=t.buildTag("div.e-resizable-handle");i.appendTo(this._ejDialog),this._resizeDialog()}this._setSize(),this.model.autoOpen&&this.model.content!="ajax"&&this.open(),this._roundedCorner(this.model.roundedCorner)},_changeSkin:function(n){this.model.cssClass!=n&&this._ejDialog.removeClass(this.model.cssClass).addClass(n)},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),typeof this._elementTitle!="string"&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=t.buildTag("div.e-dialog-titlebar e-dialog-header").prependTo(this._ejDialog),this.model.title&&t.buildTag("span.e-dialog-title",this.model.title).prependTo(this._dialogTitlebar)},_iconsRender:function(n){for(var t=0;t<n.length;t++)switch(n[t]){case"close":this._closeIcon();break;case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;case"custom":this._customIcon()}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(n){var i,r;this.contentDiv=t.buildTag("div.e-dialog-scroller"),this.element.removeAttr("title").addClass("e-dialog-content e-widget-content"),n=="ajax"?(this.model.ajaxOptions.url=this.model.loadUrl,this._sendAjaxOptions(this.element,this.model.ajaxOptions.url)):n=="iframe"?(i=t.buildTag("iframe.e-iframe","",{width:"100%"},{scrolling:"no",frameborder:0,src:this.model.loadUrl}),this.element.append(i).show().appendTo(this.contentDiv),this._trigger("load",{contentType:n,url:this.model.loadUrl})):n=="image"?(r=t.buildTag("img.e-images","","",{src:this.model.loadUrl}),this.element.append(r).show().appendTo(this.contentDiv),this._trigger("load",{contentType:n,url:this.model.loadUrl})):this.element.show().appendTo(this.contentDiv),this.contentDiv.appendTo(this._ejDialog)},_roundedCorner:function(n){n?(this._ejDialog.addClass("e-corner-all"),this._dialogTitlebar.addClass("e-corner-top"),this._dialogClose.addClass("e-corner-all")):this._ejDialog.hasClass("e-corner-all")&&(this._ejDialog.removeClass("e-corner-all"),this._dialogTitlebar.removeClass("e-corner-top"),this._dialogClose.removeClass("e-corner-all"))},_renderScroller:function(){var t=this.model.width,i;this.model.height==="auto"||this.model.height==="100%"||(this.model.width==="auto"||this.model.width==="100%"||(t=this.element.outerWidth()),i=this.model.height-n(this._ejDialog.find("div.e-dialog-titlebar")).outerHeight(),this.contentDiv.ejScroller({width:t,height:i,rtl:this.model.rtl}))},_maxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_setZindex:function(){var n=this._maxZindex();this.model.zIndex<=n&&this._ejDialog.css({zIndex:n+1})},_createOverlay:function(){var n=this._maxZindex()<this.model.zIndex?this.model.zIndex:this._maxZindex(),i=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-Dialog-overlay","",{zIndex:n-1});i.appendTo(document.body)},_sendAjaxOptions:function(t,i){t.addClass("e-loading");var r=this,u=this.model.title,e=i,f={success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(n){try{r._ajaxErrorHandler(n.statusText,t,i,u)}catch(n){}}};n.extend(!0,f,this.model.ajaxOptions),this._sendAjaxRequest(f)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(n,t,i){t.removeClass("e-loading"),t.html(n).addClass("e-dialog-loaded").appendTo(this._ejDialog),t.appendTo(this.contentDiv),this._dialogPosition(),this.open(),this._trigger("ajaxSuccess",{data:n,url:i})},_ajaxErrorHandler:function(n,t,i){t.addClass("e-dialog-loaded"),t.appendTo(this.contentDiv),this._dialogPosition(),this.open(),this._trigger("ajaxError",{data:n,url:i})},_closeIcon:function(){this._dialogClose=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-dialog-close");n.appendTo(this._dialogClose),this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeText),this._on(this._dialogClose,"mousedown",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-dialog-collapsible");n.appendTo(this._dialogCollapsible),this._dialogCollapsible.appendTo(this._dialogTitlebar),this._on(this._dialogCollapsible,"mousedown",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-dialog-maximize");n.appendTo(this._dialogMaximize),this._dialogMaximize.appendTo(this._dialogTitlebar),this._on(this._dialogMaximize,"mousedown",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-dialog-minimize");n.appendTo(this._dialogMinimize),this._dialogMinimize.appendTo(this._dialogTitlebar),this._on(this._dialogMinimize,"mousedown",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-icon e-dialog-unpin");n.appendTo(this._dialogPin),this._dialogPin.appendTo(this._dialogTitlebar),this._on(this._dialogPin,"mousedown",this._pinClick)},_customIcon:function(){this._dialogCustom=t.util.buildTag("div.e-dialog-icon");var n=t.util.buildTag("span.e-dialog-custom");n.appendTo(this._dialogCustom),this._dialogCustom.appendTo(this._dialogTitlebar),t.isNullOrUndefined(this.model.customIconCss)||n.addClass(this.model.customIconCss)},_setSize:function(){var n=this.model,t,i;n.minWidth>n.width&&(n.width=n.minWidth),t=this._ejDialog.css({height:"auto",width:n.width}).outerHeight(),i=Math.max(0,n.minHeight-t),n.height==="auto"?this._ejDialog.css({height:"auto",minHeight:i}):this._ejDialog.height(this.model.height)},_resetScroller:function(){var i=this.model.height-n(this._ejDialog.find("div.e-dialog-titlebar")).outerHeight(),t;this.contentDiv.ejScroller({width:this.model.width,height:i}),this.element.width("auto"),t=this.contentDiv.data("ejScroller"),t.refresh()},_dragDialog:function(){var t=this;this._dialogTitlebar.ejDraggable({handle:".e-dialog-titlebar",cursorAt:{top:15,left:-2},dragStart:function(n){return t._clickHandler(),t.dialogPin&&(n.cancel=!0),t._trigger("dragStart",{event:n})?(n.cancel=!0,!1):void 0},drag:function(n){t._trigger("drag",{event:n})},dragStop:function(n){t._ejDialog.focus(),t._trigger("dragStop",{event:n})},helper:function(){return n(t._ejDialog).addClass("dragClone").appendTo(t._ejDialog.parent())}})},_resizeDialog:function(){var t=this;this._ejDialog.find("div.e-resizable-handle").ejResizable({minHeight:t.model.minHeight,minWidth:t.model.minWidth,handle:"e-dialog-content",resizeStart:function(n){t._trigger("resizeStart",{event:n})},resize:function(i){var r=n(i.element).parents("div.e-dialog-wrapper");t.model.height=n(r).height(),t.model.width=n(r).width(),t._setSize(),t._resetScroller(),t._trigger("resize",{event:i})},resizeStop:function(n){t._ejDialog.focus(),t._trigger("resizeStop",{event:n})},helper:function(i){var r=n(i.element).parents("div.e-dialog-wrapper");return t.model.height=n(r).height(),t.model.width=n(r).width(),t._setSize(),t._resetScroller(),n(t._ejDialog).appendTo(t._ejDialog.parent())}})},_dialogPosition:function(){var i,r,u;this._ejDialog.parents("form").length>0&&this._ejDialog.appendTo(this._ejDialog.parents("form")),this.model.position!=null?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X+"px"),this._ejDialog.css("top",this.model.position.Y+"px")):(t.isNullOrUndefined(this.model.contentContainer)?(i=(n(window).width()-this._ejDialog.width())/2,r=(n(window).height()-this._ejDialog.height())/2):(u=n(this.model.contentContainer).position(),i=(n(this.model.contentContainer).outerWidth()-this._ejDialog.width())/2+Math.ceil(u.left),r=(n(this.model.contentContainer).outerHeight()-this._ejDialog.height())/2+Math.ceil(u.top)),this._ejDialog.css({top:r,left:i}),this._ejDialog.css("position","absolute"))},_closeClick:function(n){n.preventDefault(),this.close(n)},_collapsibleClick:function(t){n(t.target).hasClass("e-dialog-collapsible")?(this._dialogCollapsible.find("span.e-dialog-collapsible").removeClass("e-dialog-collapsible").addClass("e-dialog-expand"),this._ejDialog.find("div.e-resizable-handle").hide(),this._ejDialog.find(".e-dialog-content").parent().slideUp("fast"),this._ejDialog.height("auto")):n(t.target).hasClass("e-dialog-expand")&&(this._dialogCollapsible.find("span.e-dialog-expand").removeClass("e-dialog-expand").addClass("e-dialog-collapsible"),this._ejDialog.find(".e-dialog-content").parent().slideDown("fast"),this._ejDialog.find("div.e-resizable-handle").show(),this._ejDialog.height(this.model.height))},_maximizeClick:function(t){var i=n(t.target);i.hasClass("e-dialog-maximize")?(this._ejDialog.css("top","0px").css("left","0px").css("position","fixed"),this._ejDialog.width("100%"),this._ejDialog.height("100%"),this.element.height("100%"),this.element.width("100%"),this.contentDiv.height("100%"),this.contentDiv.width("100%"),i.removeClass("e-dialog-maximize").addClass("e-dialog-restore"),this._maximize=!0,this.dialogPin=!0):i.hasClass("e-dialog-restore")&&(this.element.height(""),this.element.width(""),this._restoreDialog(),i.removeClass("e-dialog-restore").addClass("e-dialog-maximize"))},_minimizeClick:function(t){var i=n(t.target),r;i.hasClass("e-dialog-minimize")&&(this._maximize&&this._setSize(),r=n(window).height()-this._ejDialog.height()+this.element.height()+14,this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position","fixed"),this.contentDiv.hide(),i.parent().hide(),this._dialogTitlebar.find(".e-dialog-maximize").removeClass("e-dialog-maximize").addClass("e-dialog-restore"),this.dialogPin=!0)},_pinClick:function(t){var i=n(t.target);i.hasClass("e-dialog-unpin")?(this.dialogPin=!0,i.removeClass("e-dialog-unpin").addClass("e-dialog-pin")):i.hasClass("e-dialog-pin")&&(this.dialogPin=!1,i.removeClass("e-dialog-pin").addClass("e-dialog-unpin"))},_restoreDialog:function(){this.dialogPin=!1,this.contentDiv.show(),this._ejDialog.css("position","absolute").css("bottom",""),this._setSize(),this._dialogPosition(),this._renderScroller(),this._dialogTitlebar.find(".e-dialog-minimize").parent().show()},_clickHandler:function(){var n=this._maxZindex();parseInt(this._ejDialog.css("zIndex"))<n&&this._ejDialog.css({zIndex:n+1})},_docKeyDown:function(n){code=n.keyCode?n.keyCode:n.which?n.which:n.charCode,this.model.closeOnEscape&&code===27&&(this.close(n),n.preventDefault())},_keyDown:function(t){code=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&n.inArray(code,this.keyConfigs)>-1&&(this._keyPressed(code),t.preventDefault())},_keyPressed:function(n){switch(n){case 40:this._ejDialog.css("top",this._ejDialog.position().top+3+"px");break;case 39:this._ejDialog.css("left",this._ejDialog.position().left+3+"px");break;case 38:this._ejDialog.css("top",this._ejDialog.position().top-3+"px");break;case 37:this._ejDialog.css("left",this._ejDialog.position().left-3+"px")}},_wireEvents:function(){this._on(n(document),"keydown",this._docKeyDown),this._on(this._ejDialog,"keydown",this._keyDown)},open:function(){if(this._isOpen)return!0;if(!0==this._trigger("beforeOpen"))return!1;this.element.css("display","block"),this._setZindex(),this._dialogPosition();var n=this;return this._ejDialog.fadeIn(400,"easeOutQuad",function(){n._trigger("open")}),this.model.modal==!0&&this._createOverlay(),this._ejDialog.eq(0).focus(),this._isOpen=!0,this},close:function(t){if(!this._isOpen)return!0;if(!0==this._trigger("beforeClose",{event:t}))return!1;this._isOpen=!1;var i=this;return this._ejDialog.fadeOut(300,"easeOutQuad",function(){i.element.css("display","none"),i._trigger("close",{event:t})}),this.model.modal&&n("#"+this.element.attr("id")+"_overLay").remove(),this},isOpened:function(){return this._isOpen}})}(jQuery,Syncfusion),function(n,t){t.widget("ejDropDownList","ej.DropDownList",{element:{target:null},model:null,_rootCSS:"e-dropdownlist",defaults:{cssClass:"",listSize:0,dataSource:null,query:null,fields:null,watermark:null,height:"26px",width:"174px",popupPanelHeight:null,popupPanelWidth:null,targetId:null,template:null,selectedItem:null,checkSelectList:[],roundedCorner:!1,showPopupOnLoad:!1,rtl:!1,disabled:!1,caseSensitive:!1,showCheckbox:!1,checkAll:!1,uncheckAll:!1,persist:!1,incrementalSearch:!1,create:null,popupHide:null,popupShown:null,beforePopupShown:null,change:null,select:null,checkChange:null,destroy:null},dataTypes:{cssClass:"string",listSize:"number",watermark:"string",height:"string",width:"string",popupPanelHeight:"string",popupPanelWidth:"string",template:"string",selectedItem:"number",roundedCorner:"boolean",showPopupOnLoad:"boolean",rtl:"boolean",persist:"boolean",disabled:"boolean"},enable:function(){this.element.hasClass("disabled")&&(this.target.disabled=!1,this.element.removeClass("disabled"),this.dropdownbutton.removeClass("disabled"),this.element.bind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.bind("mousedown",n.proxy(this._OnDropdownClick,this)))},disable:function(){this.element.hasClass("disabled")||(this.target.disabled=!0,this.element.addClass("disabled"),this.dropdownbutton.addClass("disabled"),this.element.unbind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.unbind("mousedown",n.proxy(this._OnDropdownClick,this)))},getValue:function(){return this.element.hasClass("watermark")?"":this.target.value},_changeWatermark:function(n){this.element.hasClass("watermark")&&this.element.val(n)},popupListHide:function(){this._hideResult()},popupListShow:function(){this._showResult()},clearText:function(){this.element.val(""),this.model.watermark!=null&&n.trim(this.element.val())===""&&(this.element.val(this.model.watermark),this.element.addClass("watermark"))},selectItemByIndex:function(n){n!=null&&(this._activeItem=n,this._activeItem<0?this._activeItem=0:this._activeItem==this._listSize-1&&(this._activeItem=this._listSize-1),this.model.template?this._templateValue():this._enterTextBoxValue())},unselectItemByIndex:function(n){this.selectedIndexValue==n&&(this._activeItem=n,this._removeTextBoxValue())},selectItemByValue:function(t){var i,r;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(r=n(this.listitems[i]).children("input:hidden"),(r!=null||r.length>0)&&(this._selectedValue=n(this.listitems[i]).children("input:hidden").val(),this._selectedValue==t))return this._activeItem=i,this._enterTextBoxValue(),!1},unselectItemByValue:function(t){var i,r;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(r=n(this.listitems[i]).children("input:hidden"),(r!=null||r.length>0)&&(this._selectedValue=n(this.listitems[i]).children("input:hidden").val(),this._selectedValue==t))return this._activeItem=i,this._removeTextBoxValue(),!1},selectItemByText:function(t){var i;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(this.selectedTextValue=n(this.listitems[i]).text(),this.selectedTextValue==t)return this._activeItem=i,this._enterTextBoxValue(),!1},unselectItemByText:function(t){var i;for(this.listitems=this.popupList.find("ol,ul").children("li"),i=0;i<this.listitems.length;i++)if(this.unselectedTextValue=n(this.listitems[i]).text(),this.unselectedTextValue==t)return this._activeItem=i,this._removeTextBoxValue(),!1},getCheckedItems:function(){var t="";for(i=0;i<this.listitems.length;i++)n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("isChecked")==!1&&(t+=n(this.listitems[i]).text()+",");return t},getSelectedItem:function(){return this.selectedTextValue},getSelectedIndex:function(){if(this.element[0].value!="")return this.selectedIndexValue},getSelectedValue:function(){if(this.element[0].value!="")return this._selectedValue},_init:function(){(this.element.is("select")||this.element.is('input[type = "text"]'))&&(this._initialize(),this._render(),this._wireEvents())},_setInitialPopup:function(n){n==!1?this._hideResult():this._showResult()},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.wrapper.removeClass(this.model.cssClass).addClass(n),this.popupList.removeClass(this.model.cssClass).addClass(n))},_setRTL:function(n){this.model.rtl!=n&&(this.model.rtl=n,this._RightToLeft(),this._dropbtnRTL())},_changeHeight:function(n){this.element.height(n),this._reposDDB()},_changeWidth:function(n){this.element.width(n),this._reposDDB(),this._setListWidth()},_reposDDB:function(){this.dropdownbutton.height(this.element.height());var n=this.dropdownbutton[0].offsetWidth,t;t=this.target.offsetWidth-n,this.model.rtl?(this.dropdownbutton.css({left:"0","border-right":"none","text-align":"right"}),this.wrapper.css({width:t+"px","padding-left":n+"px"}),this.dropdownbutton.addClass("e-rtl")):(this.dropdownbutton.css({right:"0","border-left":"none","text-align":"left"}),this.wrapper.css({width:t+"px","padding-right":n+"px"})),this.element.width(this.element.width()-this.dropdownbutton[0].offsetWidth),this._refreshScroller()},_setModel:function(n){if(this.element.hasClass("disabled"))return!1;var t;for(t in n)switch(t){case"dataSource":this._checkModelDataBinding(n[t]);break;case"query":this._queryCheck(n[t]);break;case"rtl":this._setRTL(n[t]);break;case"disabled":this._disabled(n[t]);break;case"height":this._changeHeight(n[t]);break;case"width":this._changeWidth(n[t]);break;case"popupPanelHeight":this._setListHeight(n[t]);break;case"popupPanelWidth":this._setListWidth(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"showCheckbox":this._checkboxHideShow(n[t]);break;case"checkAll":this._setCheckAll(n[t]);break;case"uncheckAll":this._setUncheckAll(n[t]);break;case"watermark":this._changeWatermark(n[t]);break;case"roundedCorner":this._roundedCorner(n[t]);break;case"showPopupOnLoad":this._setInitialPopup(n[t]);break;case"targetId":this.mode.targetId=n[t],this._showFullList();break;case"selectedItem":this.selectItemByIndex(n[t])}},_destroy:function(){this._destroyDropdown(),this.element.removeClass("e-input "+this.model.cssClass+" watermark"),this.element.attr("accesskey",this.wrapper.attr("accesskey")),this.element[0].value="",this.model.dataSource!=null?this.popupPanelWrapper.remove():(this.docbdy.append(this.ultag.html()),this.popupPanelWrapper.remove())},_finalize:function(){this.model.selectedItem!=null?this.selectItemByIndex(this.model.selectedItem):this.model.showCheckbox==!0&&this.model.checkSelectList.length>0&&this._selectCheckedItem(this.model.checkSelectList)},_initialize:function(){this.element.is("select")&&(this.selectelement=!0,this._renderSelectToDropdown()),this.target=this.element[0],this.showPopupBox=!1,this._queryString=null,this.suggLen=0,this._popupListID="#"+this.target.id+"_popup ul li",this._itemId=null,this.checkedStatus=!1,this._incqueryString="",this._activeItem=null,this.ddWidth=0},_renderSelectToDropdown:function(){var i,r;for(this.inputElement=t.buildTag("input.e-dropdownlist#"+this.element[0].id,"",{},{type:"text"}),this.inputElement.insertAfter(this.element),this.optionDiv=t.buildTag("div#"+this.element[0].id+"_list"),this.optionDiv.insertAfter(this.inputElement),this.optionUl=t.buildTag("ul"),this.optionDiv.append(this.optionUl),this.selectOptions=this.element,this.selectOptions.attr("id",this.element[0].id),this.selectOptionItems=this.element.children("option"),r=this.selectOptionItems.length,this.optionDummyUl=n(),i=0;i<r;i++)this.selectOptionItems[i].text!=null&&this.selectOptionItems[i].text!=""&&(this.optionLi=t.buildTag("li",this.selectOptionItems[i].text),this.selectOptionItems[i].value!=null&&this.selectOptionItems[i].value!=""&&(this.optionValue=t.buildTag("input","",{},{type:"hidden",name:this.selectOptionItems[i].text,value:this.selectOptionItems[i].value}),this.optionLi.append(this.optionValue)),this.optionDummyUl.push(this.optionLi[0]));this.optionUl.append(this.optionDummyUl),this.element.css("display","none"),this.element=this.inputElement,this.model.targetId=this.element[0].id+"_list"},_render:function(){this._setDimentions(),this._RightToLeft(),this._renderDropdown(),this._setWatermark(),this._renderPopupPanelWrapper(),this._initDataSource(this.model.dataSource),this._showFullList(),this._finalize()},_queryCheck:function(n){this.model.query=n,this._checkDataBinding(this.model.dataSource)},_checkModelDataBinding:function(n){this.model.dataSource=n,n!=null&&(t.DataManager&&n instanceof t.DataManager?this._initDataSource(n):this._showFullList())},_initDataSource:function(n){var i=this,r;t.DataManager&&n instanceof t.DataManager&&(this._disabled(!0),r=n.executeQuery(this._getQuery()),r.done(function(n){i.model.dataSource=n.result,i._disabled(!1),i._showFullList()}).fail(function(){i.model.dataSource=null,i._disabled(!0)}))},_getQuery:function(){var u;if(t.isNullOrUndefined(this.model.query)){var r=[],i=t.Query(),n=this.model.fields;for(u in n)u!=="tableName"&&r.push(n[u]);r.length>0&&i.select(r),this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||i.from(n.tableName)}else i=this.model.query;return i},_renderDropdown:function(){this.element.addClass("e-input "+this.model.cssClass),this._checkNameAttr(),this.wrapper=t.buildTag("span.e-dropdownlist-wrapper "+this.model.cssClass+"#"+this.target.id+"_wrapper","",{},{tabindex:"0",accesskey:this.element.attr("accesskey")}),this.element.removeAttr("accesskey"),this.element.attr("readonly",!0).attr("tabindex","-1");var i=t.buildTag("span.e-arrow");this.dropdownbutton=t.buildTag("span.dropdown#"+this.target.id+"_dropdown").append(i),this.wrapper.insertAfter(this.element),this.wrapper.append(this.element),this.wrapper.append(this.dropdownbutton),this.selectelement&&this.selectOptions.insertBefore(this.element),this.dropdownbutton.height(parseInt(this.element.height())),this.model.rtl?(this.dropdownbutton.css({left:"0","border-right":"none","text-align":"right"}).addClass("e-rtl"),padding="padding-left"):(this.dropdownbutton.css({right:"0","border-left":"none","text-align":"left"}),padding="padding-right"),this.ddWidth=this.dropdownbutton.outerWidth()>0?this.dropdownbutton.outerWidth():24,this.wrapper.css(padding,this.ddWidth),this.element.width(parseInt(this.element.width()-this.ddWidth)),this.element.bind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.bind("mousedown",n.proxy(this._OnDropdownClick,this)),this._roundedCorner(this.model.roundedCorner)},_checkNameAttr:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id})},_renderPopupPanelWrapper:function(){this.popupPanelWrapper=t.buildTag("div#"+this.element[0].id+"_popup_wrapper"),n("body").append(this.popupPanelWrapper),this.popupList=t.buildTag("div.e-dropdownlist-list "+this.model.cssClass+"#"+this.element[0].id+"_popup","",{visibility:"hidden"}),this.popupScroller=t.buildTag("div"),this.ultag=t.buildTag("ul"),this.popupScroller.append(this.ultag),this.popupList.append(this.popupScroller),this.popupPanelWrapper.append(this.popupList)},_renderPopupList:function(){var r=this.popupListItems,i,e,f=this.model.fields,o,u;if(this.ultag.empty(),this.dummyUl=n(),this.model.rtl&&this.popupList.addClass("e-rtl"),this.model.dataSource==null||this.model.dataSource.length<1)o=this.element.parents().last(),this.docbdy=o.find("#"+this.model.targetId),this.itemsContainer=this.docbdy.children("ol,ul"),this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),this.items.addClass("dropdowntext"),this.items.find("img").addClass("alignmiddle"),this.items.find("div").addClass("alignmiddle"),this.itemsContainer.children("span").addClass("ghead"),this.ultag.append(this.itemsContainer.html()),this.itemsContainer.empty(),this.docbdy.css({display:"none"}),this.itemsContainer.css({display:"none"});else if(this.model.dataSource!=null&&typeof r[0]!="object"){if(r.length>0){for(i=0;i<r.length;i++)e=t.buildTag("li.dropdowntext",r[i]),this.dummyUl.push(e[0]);this.ultag.append(this.dummyUl)}}else if(this.model.dataSource!=null&&this.model.template!=null){if(r.length>0){for(i=0;i<r.length;i++)e=t.buildTag("li.dropdowntext",r[i]),this.model.template&&e.append(this._getTemplatedString(r[i])),this.dummyUl.push(e[0]);this.ultag.append(this.dummyUl)}}else if(u={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null},u._id=f&&f.id?f.id:"id",u._imageUrl=f&&f.imageUrl?f.imageUrl:"imageUrl",u._imageAttributes=f&&f.imageAttributes?f.imageAttributes:"imageAttributes",u._spriteCSS=f&&f.spriteCSS?f.spriteCSS:"spriteCSS",u._text=f&&f.text?f.text:"text",u._value=f&&f.value?f.value:"value",u._htmlAttributes=f&&f.htmlAttributes?f.htmlAttributes:"htmlAttributes",u._selected=f&&f.selected?f.selected:"selected",r.length>0){for(i=0;i<r.length;i++){if(e=t.buildTag("li.dropdowntext"),r[i][u._id]&&e.attr("id",r[i][u._id]),r[i][u._imageUrl]&&r[i][u._imageUrl]!=""){if(imgtag=t.buildTag("img.alignmiddle","",{},{src:r[i][u._imageUrl],alt:r[i][u._text]}),r[i][u._imageAttributes]&&r[i][u._imageAttributes]!="")for(i=0;i<r[i][u._imageAttributes].length;i++)n.each(r[i][u._imageAttributes][i],function(n,t){imgtag.attr(n,t)});e.append(imgtag)}if(r[i][u._spriteCSS]&&r[i][u._spriteCSS]!=""&&(divtag=t.buildTag("div.alignmiddle "+r[i][u._spriteCSS]+" sprite-image"),e.append(divtag)),r[i][u._text]&&r[i][u._text]!=""&&e.append(r[i][u._text]),r[i][u._value]&&r[i][u._value]!=""&&(hinputtag=t.buildTag("input#popuplist_"+this.element[0].id+i,"",{},{type:"hidden",name:r[i][u._text],value:r[i][u._value]}),e.append(hinputtag)),r[i][u._htmlAttributes]&&r[i][u._htmlAttributes]!="")for(i=0;i<r[i][u._htmlAttributes].length;i++)n.each(r[i][u._htmlAttributes][i],function(n,t){e.attr(n,t)});r[i][u._selected]&&e.addClass("chkselect"),this.dummyUl.push(e[0])}this.ultag.append(this.dummyUl)}this._setListWidth(),this._setListHeight(),this._setListPosition(),this.popupList.css("height",""),this.popupScroller.css("height",""),this.popupList.ejScroller({height:this.popupList.height(),width:0}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css({display:"none",visibility:"visible"}),this._checkboxHideShow(this.model.showCheckbox),this._setCheckAll(this.model.checkAll),this._setUncheckAll(this.model.uncheckAll),this.model.showPopupOnLoad&&this._showResult()},_getTemplatedString:function(n){for(var t=this.model.template,i=t.indexOf("${"),r=t.indexOf("}"),u,f;i!=-1&&r!=-1;)u=t.substring(i,r+1),f=u.replace("${","").replace("}",""),t=t.replace(u,n[f]),i=t.indexOf("${"),r=t.indexOf("}");return t},_setWatermark:function(){this.model.watermark!=null&&(this.element.addClass("watermark"),this.element.val(this.model.watermark))},_checkboxHideShow:function(n){n?this._createCheckbox():this._removeCheckbox()},_createCheckbox:function(){var i,r,u=this;if(this.listitems=this.popupList.find("ol,ul").children("li"),r=this.listitems.find("input[type=checkbox]"),r.length==0){for(i=0;i<this.listitems.length;i++)$checkbox=t.buildTag("input.listcheckbox alignmiddle#popuplist"+i+"_"+this.element[0].id,"",{},{type:"checkbox",name:"list"+i}),n(this.listitems[i]).prepend($checkbox);for(n(".listcheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._OnClickCheckList}),this.element.val(""),i=0;i<this.listitems.length;i++)n(this.listitems[i]).hasClass("chkselect")&&(n(this.listitems[i]).find(".listcheckbox").ejCheckBox({checked:!0}),this._activeItem=i,this.checkedStatus=!0,this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),this._enterTextBoxValue(),n(this.listitems[i]).removeClass("chkselect"))}},_removeCheckbox:function(){var n;this.listitems=this.popupList.find("ol,ul").children("li"),n=this.listitems.find(".listcheckbox"),n.length>0&&(this.listitems.find(".listcheckbox").ejCheckBox("destroy"),this.listitems.find("input[type=checkbox]").remove())},_setCheckAll:function(n){this.model.showCheckbox&&n&&this.checkAll()},_setUncheckAll:function(n){this.model.showCheckbox&&n&&this.unCheckAll()},checkAll:function(){var t=this.model.checkSelectList,r,u;for(i=0;i<this.listitems.length;i++)n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("isChecked")==!1&&(n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("option","checked",!0),r=n(this.listitems[i]).text(),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._delimiterIndex==-1&&this.element[0].value!=""&&(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")),this.element.val(this.element[0].value.substr(0,this._delimiterIndex+1)+r+","),t=this.model.checkSelectList,n.inArray(i,t)==-1&&this.model.checkSelectList.push(i),this.checkedStatus=!0,u=n(this.listitems[i]).children('input[type = "hidden"]'),this._selectedValue=u!=null&&u.length>0?n(this.listitems[i]).children('input[type = "hidden"]').val():"",this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this.element[0].value,selectedText:r,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args));this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("watermark")):this.element.removeClass("watermark"))},_selectCheckedItem:function(t){var r,u;if(t.length>0){for(i=0;i<t.length;i++)n(this.listitems[t[i]].firstChild).find(".listcheckbox").ejCheckBox("isChecked")==!1&&(n(this.listitems[t[i]].firstChild).find(".listcheckbox").ejCheckBox("option","checked",!0),r=n(this.listitems[t[i]]).text(),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._delimiterIndex==-1&&this.element[0].value!=""&&(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")),this.element.val(this.element[0].value.substr(0,this._delimiterIndex+1)+r+","),this.checkedStatus=!0,u=n(this.listitems[t[i]]).children('input[type = "hidden"]'),this._selectedValue=u!=null&&u.length>0?n(this.listitems[t[i]]).children('input[type = "hidden"]').val():"",this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this.element[0].value,selectedText:r,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args));this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("watermark")):this.element.removeClass("watermark"))}},unCheckAll:function(){var t,r,u;for(i=0;i<this.listitems.length;i++)n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("isChecked")&&(n(this.listitems[i].firstChild).find(".listcheckbox").ejCheckBox("option","checked",!1),t=n(this.listitems[i]).text(),this._txtpos=this.element[0].value.lastIndexOf(t),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._txtpos==0&&this._delimiterIndex<=-1?this.element.val(this.element[0].value.replace(t,"")):this._txtpos==0&&this._delimiterIndex>-1?this.element.val(this.element[0].value.replace(t+",","")):this._txtpos>-1&&this._delimiterIndex>this._txtpos?this.element.val(this.element[0].value.replace(t+",","")):this._txtpos>-1&&this._delimiterIndex<this._txtpos?this.element.val(this.element[0].value.replace(","+t,"")):this._txtpos>-1&&this._delimiterIndex<this._txtpos&&this.element.val(this.element[0].value.replace(t,""))),this.checkedStatus=!1,r=this.model.checkSelectList,n.inArray(this.selectedIndexValue,r)>-1&&this.model.checkSelectList.splice(n.inArray(i,r),1),u=n(this.listitems[i]).children('input[type = "hidden"]'),this._selectedValue=u!=null&&u.length>0?n(this.listitems[i]).children('input[type = "hidden"]').val():"",this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),args={text:this.element[0].value,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args);this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("watermark")):this.element.removeClass("watermark"))},_refreshScroller:function(){this.popupList.css("height","auto"),this.popupList.find(".content, .vScroll").removeAttr("style"),this.popupList.find(".vScroll div").removeAttr("style"),this.popupList.css({display:"block",visibility:"hidden"}),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this.popupList.css({display:"none",visibility:"visible"})},_setListWidth:function(){var n;this.model.popupPanelWidth?this.popupList.width(this.model.popupPanelWidth):(n=this.element.width()+this.ddWidth,this.popupList.css("min-width",n))},_setListHeight:function(){if(this.model.listSize>0){var n=this.model.listSize*30;this.popupList.css({"max-height":n+"px"})}else this.model.popupPanelHeight?this.popupList.css({height:this.model.popupPanelHeight}):this.popupList.css({"max-height":"150px"})},_setListPosition:function(){var n=this.wrapper?this.wrapper.offset():this.element.offset(),t=n.left,i=this.element.outerHeight(),r=(i-this.element.height())/2,u=this._getZindexPartial();this.model.rtl&&(t-=this.popupList.outerWidth()-this.wrapper.outerWidth()),this.popupList.css({left:t+"px",top:n.top+i-r+3+"px","z-index":u})},_getZindexPartial:function(){var r="#"+this.element[0].id+"_popup",i=this.element.parents(),u=i.length,f=n("body").children(":not("+r+")"),t;return n(f).each(function(n,t){i[u+n]=t}),t=Math.max.apply(t,n.map(i,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_showResult:function(){var i=this,t;this.model.beforePopupShown&&this._trigger("beforePopupShown",{popupStatus:this.showPopupBox}),this._refreshScroller(),this._setListPosition(),this.popupList.slideDown(200,"easeOutQuad",function(){i.popupList.focus()}),this.showPopupBox=!0,t=n(this._popupListID),this._listSize=t.size(),n(document).bind("click",n.proxy(this._OnDocumentClick,this)),t.bind("mouseenter",n.proxy(this._OnMouseEnter,this)),t.bind("mouseleave",n.proxy(this._OnMouseLeave,this)),t.bind("mousedown",n.proxy(this._OnMouseClick,this)),this.model.popupShown&&this._trigger("popupShown",{popupStatus:this.showPopupBox})},_hideResult:function(){var i,t;this.showPopupBox&&(this.showPopupBox=!1,i=this,this.popupList.slideUp(100,"easeOutQuad",function(){i.wrapper.focus()}),t=n(this._popupListID),n(document).unbind("click",n.proxy(this._OnDocumentClick,this)),t.unbind("mouseenter",n.proxy(this._OnMouseEnter,this)),t.unbind("mouseleave",n.proxy(this._OnMouseLeave,this)),t.unbind("mousedown",n.proxy(this._OnMouseClick,this)),this.model.popupHide&&this._trigger("popupHide",{popupStatus:this.showPopupBox}))},_enterTextBoxValue:function(){var r,i,t,u,f;i=this._getActiveItem(),t=n.trim(i.text()),this.selectedTextValue=t,this.selectedIndexValue=this._activeItem,this.element[0].value!=t&&(this.model.showCheckbox?(this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._delimiterIndex==-1&&this.element[0].value!=""?(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")):this._delimiterIndex!=this.element[0].value.length-1&&this.element[0].value!=""&&(this.element.val(this.element[0].value+","),this._delimiterIndex=this.element[0].value.lastIndexOf(",")),this.element.val(this.element[0].value.substr(0,this._delimiterIndex+1)+t),f=this.model.checkSelectList,n.inArray(this.selectedIndexValue,f)==-1&&this.model.checkSelectList.push(this.selectedIndexValue)):(n(this._popupListID).removeClass("listHover").removeClass("listActive"),i.addClass("listActive"),this.element.val(t),this.model.selectedItem=this.selectedIndexValue),r=n(i).children('input[type = "hidden"]'),this._selectedValue=r!=null&&r.length>0?n(i).children('input[type = "hidden"]').val():"",u={text:this.element[0].value,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",u),this.model.select&&this._trigger("select",u),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("watermark")):this.element.removeClass("watermark")))},_removeTextBoxValue:function(){var i,t,r;i=this._getActiveItem(),t=i.text(),this.selectedIndexValue=this._activeItem,this.model.showCheckbox?(this._txtpos=this.element[0].value.lastIndexOf(t),this._delimiterIndex=this.element[0].value.lastIndexOf(","),this._txtpos==0&&this._delimiterIndex<=-1?this.element.val(this.element[0].value.replace(t,"")):this._txtpos==0&&this._delimiterIndex>-1?this.element.val(this.element[0].value.replace(t+",","")):this._txtpos>-1&&this._delimiterIndex>this._txtpos?this.element.val(this.element[0].value.replace(t+",","")):this._txtpos>-1&&this._delimiterIndex<this._txtpos?this.element.val(this.element[0].value.replace(","+t,"")):this._txtpos>-1&&this._delimiterIndex<this._txtpos&&this.element.val(this.element[0].value.replace(t,"")),r=this.model.checkSelectList,n.inArray(this.selectedIndexValue,r)>-1&&this.model.checkSelectList.splice(n.inArray(this.selectedIndexValue,r),1)):(n(this._popupListID).removeClass("listHover").removeClass("listActive"),this._txtpos=this.element[0].value.lastIndexOf(t),this._txtpos>-1&&this.element.val(this.element[0].value.replace(t,""))),hidelement=n(i).children('input[type = "hidden"]'),this._selectedValue=hidelement!=null&&hidelement.length>0?n(i).children('input[type = "hidden"]').val():"",args={text:this.element[0].value,selectedText:t,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus},this.model.change&&this._trigger("change",args),this.model.select&&this._trigger("select",args),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("watermark")):this.element.removeClass("watermark"))},_removeListHover:function(){n(this._popupListID).removeClass("listHover")},_addListHover:function(){var n=this._getActiveItem();n.addClass("listHover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),n.focus()},_calcScrollTop:function(){for(var u=this.ultag[0].offsetHeight,i=this.ultag.find("li"),r=0,t=this.ultag.find("li.listHover").index(),n=0;n<t;n++)r+=i[n].offsetHeight;return r-(this.popupList[0].offsetHeight-i[t].offsetHeight)/2},_getActiveItem:function(){return n(n(this._popupListID)[this._activeItem])},_setDimentions:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width)},_roundedCorner:function(n){n?this.model.rtl?(this.element.addClass("e-corner-right"),this.dropdownbutton.addClass("e-corner-left")):(this.element.addClass("e-corner-left"),this.dropdownbutton.addClass("e-corner-right")):this.model.rtl?(this.element.removeClass("e-corner-right"),this.dropdownbutton.removeClass("e-corner-left")):(this.element.removeClass("e-corner-left"),this.dropdownbutton.removeClass("e-corner-right"))},_disabled:function(n){n?this.disable():this.enable()},_destroyDropdown:function(){this.element.insertAfter(this.wrapper),this.element.width(this.element.width()+this.dropdownbutton[0].offsetWidth),this.wrapper.remove(),this.element.unbind("mousedown",n.proxy(this._OnDropdownClick,this)),this.dropdownbutton.unbind("mousedown",n.proxy(this._OnDropdownClick,this))},_RightToLeft:function(){this.model.rtl?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_dropbtnRTL:function(){var n=this.dropdownbutton[0].offsetWidth;this.model.rtl?(this.dropdownbutton.css({left:"0","border-right":"none",right:""}),this.wrapper.css({"padding-left":n+"px","padding-right":"0px"}),this.dropdownbutton.addClass("e-rtl"),this.popupList.addClass("e-rtl")):(this.dropdownbutton.css({right:"0","border-left":"none",left:""}),this.wrapper.css({"padding-left":"0px","padding-right":n+"px"}),this.dropdownbutton.removeClass("e-rtl"),this.popupList.removeClass("e-rtl"))},_OnDropdownClick:function(n){n.preventDefault(),this.showPopupBox?this._hideResult():(this._showResult(),this.wrapper.focus())},_showFullList:function(){this.model.dataSource!=null&&(this.popupListItems=this.model.dataSource),this._renderPopupList()},_OnMouseEnter:function(t){var r,i;n(this._popupListID).removeClass("listHover"),n(t.target).is("li")?n(t.target).addClass("listHover"):t.target.tagName!="li"&&(r=n(t.target).parents("li"),n(r).addClass("listHover")),i=0,n(this._popupListID).each(function(t){if(n(this).hasClass("listHover"))return i=t,!1}),this._activeItem=i},_OnMouseLeave:function(){n(this._popupListID).removeClass("listHover")},_OnMouseClick:function(t){t.preventDefault(),this.model.showCheckbox?(n(t.currentTarget).is("li")&&n(t.target).is("li")&&(n(t.currentTarget.firstChild).find(".listcheckbox").ejCheckBox("isChecked")?(n(t.currentTarget.firstChild).find(".listcheckbox").ejCheckBox("option","checked",!1),this.checkedStatus=!1,this._removeTextBoxValue()):(n(t.currentTarget.firstChild).find(".listcheckbox").ejCheckBox("option","checked",!0),this.checkedStatus=!0,this._enterTextBoxValue())),this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model})):(this.model.template?this._templateValue():this._enterTextBoxValue(),this._hideResult())},_OnClickCheckList:function(t){var i=this.element[0].id.length,r=this.element[0].id.lastIndexOf("_"),u=this.element[0].id.substring(r+1,i);ddlinst=n("#"+u).ejDropDownList("instance"),t.isChecked?(ddlinst.checkedStatus=!0,ddlinst._enterTextBoxValue()):(ddlinst.checkedStatus=!1,ddlinst._removeTextBoxValue()),this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model})},_OnListSelect:function(t){t.preventDefault(),activeItem=this._getActiveItem(),n(activeItem).find(".listcheckbox").ejCheckBox("isChecked")?(n(activeItem).find(".listcheckbox").ejCheckBox("option","checked",!1),this.checkedStatus=!1,this._removeTextBoxValue()):(n(activeItem).find(".listcheckbox").ejCheckBox("option","checked",!0),this.checkedStatus=!0,this._enterTextBoxValue()),this.model.checkChange&&this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model})},_OnDocumentClick:function(t){var i=null,r;eleid=this.element[0].id,i=this.dropdownbutton[0].id,r=this.dropdownbutton.children()[0],n(t.target).parents().hasClass("vScroll")||n(t.target).hasClass("vScroll")||n(t.target).hasClass("e-category")||n(t.target).hasClass("dropdowntext")||n(t.target).parents().hasClass("dropdowntext")||n(t.target).hasClass("ghead")?t.preventDefault():t.target.id!=i&&t.target!=r&&t.target.id!=eleid&&(this.showPopupBox&&n(document).unbind("click",n.proxy(this._OnDocumentClick,this)),this._hideResult())},_OnKeyDown:function(t){this._itemId=null;var i=n(this._popupListID);this._listSize=n(this._popupListID).size();switch(t.keyCode){case 38:if(t.altKey)this._hideResult();else return this.showPopupBox?(this._removeListHover(),n(this._popupListID).removeClass("listActive"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(n(this._popupListID).removeClass("listActive"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),t.preventDefault(),!1;break;case 40:if(t.altKey)this._showResult();else return this.showPopupBox?(this._removeListHover(),n(this._popupListID).removeClass("listActive"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(n(this._popupListID).removeClass("listActive"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),t.preventDefault(),!1;break;case 37:return this.showPopupBox?(this._removeListHover(),n(this._popupListID).removeClass("listActive"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(n(this._popupListID).removeClass("listActive"),this._activeItem<=0||this._activeItem==null||this._activeItem>this._listSize-1?this._activeItem=this._listSize-1:this._activeItem-=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),t.preventDefault(),!1;case 39:return this.showPopupBox?(this._removeListHover(),n(this._popupListID).removeClass("listActive"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(n(this._popupListID).removeClass("listActive"),this._activeItem>=this._listSize-1||this._activeItem==null||this._activeItem<0?this._activeItem=0:this._activeItem+=1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),t.preventDefault(),!1;case 9:this._hideResult();break;case 35:return this.showPopupBox?(this._removeListHover(),n(this._popupListID).removeClass("listActive"),this._activeItem=this._listSize-1,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(n(this._popupListID).removeClass("listActive"),this._activeItem=this._listSize-1,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),t.preventDefault(),!1;case 36:return this.showPopupBox?(this._removeListHover(),n(this._popupListID).removeClass("listActive"),this._activeItem=0,this._addListHover(),this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()):(n(this._popupListID).removeClass("listActive"),this._activeItem=0,this.model.showCheckbox||this.model.template!=null||this._enterTextBoxValue()),t.preventDefault(),!1;case 27:this._hideResult();break;case 32:return t.preventDefault(),!1}},_OnKeyUp:function(t){t.preventDefault();var i=t.target;if(n.trim(this.element.val())==""&&t.keyCode==38&&t.keyCode==40)return this._hideResult(),!1;switch(t.keyCode){case 38:break;case 40:break;case 37:break;case 39:break;case 20:break;case 16:break;case 17:break;case 18:break;case 35:break;case 36:break;case 144:break;case 27:break;case 9:break;case 13:return t.preventDefault(),this.model.showCheckbox?this._OnListSelect(t):this.model.template?(this._templateValue(),this._hideResult()):(this._enterTextBoxValue(),this._hideResult()),!1;case 32:return t.preventDefault(),this.model.showCheckbox?this._OnListSelect(t):this.model.template?(this._templateValue(),this._hideResult()):(this._enterTextBoxValue(),this._hideResult()),!1;case 8:this._hideResult();break;default:!this.model.showCheckbox&&this.model.dataSource!=null&&this.model.dataSource.length>0&&this.model.incrementalSearch&&this._OnTextEnter(t.keyCode)}},_templateValue:function(){var t=n(n(this._popupListID)[this._activeItem]);n(this._popupListID).removeClass("listHover").removeClass("listActive"),t.addClass("listActive"),this.element.val(this.popupListItems[this._activeItem].text),this.model.watermark!=null&&(n.trim(this.element.val())===""||n.trim(this.element.val())===this.model.watermark?(this.element.val(this.model.watermark),this.element.addClass("watermark")):this.element.removeClass("watermark"))},_OnTextEnter:function(n){_proxy=this,this._incqueryString+=String.fromCharCode(n),this._incqueryString.length>0&&setTimeout(function(){_proxy._incqueryString=""},100);var i=this.model.dataSource,t,o=this.model.caseSensitive,f=this.model.fields,r,e=this._incqueryString,s=this._incqueryString.length,u=!1;for(o||(e=e.toLowerCase()),t=0;t<i.length;t++)if(r=typeof i[t]=="string"?i[t]:(f&&f.text)?i[t][f.text]:i[t].text,r=o?r:r.toLowerCase(),r.substr(0,s)==e?(this.showPopupBox?(this._removeListHover(),this._activeItem=t,this._enterTextBoxValue(),this._addListHover()):(this._activeItem=t,this._enterTextBoxValue()),u=!0):t==i.length-1&&u==!1&&(this.showPopupBox?(this._removeListHover(),this._activeItem=t,this._enterTextBoxValue(),this._addListHover()):(this._activeItem=t,this._enterTextBoxValue()),u=!0),u)break},_targetFocus:function(){this.element.hasClass("watermark")&&(this.element.removeClass("watermark"),this.element.val(null)),this.wrapper?this.wrapper.addClass("e-focused"):this.element.addClass("e-focused"),this._isFocused=!0,this.model.focusIn&&this._trigger("focusIn")},_targetBlur:function(){this._isFocused=!1,this.wrapper?this.wrapper.removeClass("e-focused"):this.element.removeClass("e-focused"),this.model.watermark!=null&&n.trim(this.element.val())===""&&(this.element.val(this.model.watermark),this.element.addClass("watermark")),this.model.focusOut&&this._trigger("focusOut")},_wireEvents:function(){this._on(this.wrapper,"focus",this._targetFocus),this._on(this.wrapper,"blur",this._targetBlur),this._on(this.wrapper,"keydown",this._OnKeyDown),this._on(this.popupList,"keydown",this._OnKeyDown),this._on(this.popupList,"keyup",this._OnKeyUp),this._on(this.wrapper,"keyup",this._OnKeyUp)}})}(jQuery,Syncfusion),function(n,t,i){t.widget({ejNumericTextbox:["ej.NumericTextbox","e-numerictextbox"],ejPercentageTextbox:["ej.PercentageTextbox","e-percentagetextbox"],ejCurrencyTextbox:["ej.CurrencyTextbox","e-currencytextbox"]},{element:null,model:null,defaults:{width:"143",height:"28",value:0,name:null,minValue:null,maxValue:null,incrementStep:1,decimal:0,cssClass:"",showSpinButton:!0,localize:"en-US",strictMode:!0,roundedCorner:!1,rtl:!1,waterMarkText:"",valueChange:null,focusIn:null,focusOut:null},dataTypes:{value:"number",minValue:"number",maxValue:"number",incrementStep:"number",decimal:"number",showSpinButton:"boolean",strictMode:"boolean",roundedCorner:"boolean",rtl:"boolean",localize:"string"},enable:function(){this._textBox.disabled=!1,this.element.removeAttr("disabled"),this.wrapper.removeClass("e-state-disabled")},disable:function(){this._textBox.disabled=!0,this.element.attr("disabled","disabled"),this.wrapper.addClass("e-state-disabled")},getValue:function(){return this.model.value==null?"":this.model.value},_showSpin:function(n){n?(this.wrapper.width(this.element[0].offsetWidth-this.spinUp[0].offsetWidth).css("padding-right",this.spinUp[0].offsetWidth),this.spin&&this.spin.show(),this._bindSpinEvents()):(this.wrapper.width(this.element[0].offsetWidth).css("padding-right",0),this.spin&&this.spin.hide(),this._unbindSpinEvents()),this.element.width("100%")},_roundedCorner:function(n){n?this.wrapper.addClass("e-corner-all"):this.wrapper.hasClass("e-corner-all")&&this.wrapper.removeClass("e-corner-all")},_enableRTL:function(n){n?(this.wrapper.addClass("rtl"),this.wrapper.css("padding-left",this.wrapper.css("padding-right")),this.wrapper.css("padding-right",0),this.spin&&this.spin.addClass("rtl")):(this.wrapper.removeClass("rtl"),this.wrapper.css("padding-right",this.wrapper.css("padding-left")),this.wrapper.css("padding-left",0),this.spin&&this.spin.removeClass("rtl"))},_setModelWidth:function(n){this.wrapper.width(n),this.model.showSpinButton&&this.wrapper.width(this.wrapper.width()-this.spinUp[0].offsetWidth)},_setWidth:function(n){this.element.width(n)},_setHeight:function(n){this.element.height(n)},_setSkin:function(n){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(n)},_setValue:function(n){this.model.value=n,this._validateMinMaxValue(),this.model.value!=n||this.model.value==null||isNaN(this.model.value)||this.model.value===this.model.waterMarkText||(this._localizedFormat(),this.model.valueChange&&this._trigger("valueChange",{value:this._textBox.value}))},_setLocalize:function(n){this._percentSymbol=Globalize.culture(this.model.localize).numberFormat.percent.symbol,this._currencySymbol=Globalize.culture(this.model.localize).numberFormat.currency.symbol,this.model.localize=n,this._localizedFormat()},_setDecimal:function(n){this.model.decimal=n,this._localizedFormat()},_validateMinMaxValue:function(){this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue),this._resetMaxValue=this.model.maxValue,this._resetMinValue=this.model.minValue,this.model.value&&this.model.maxValue<this.model.value&&(this.model.value=this._resetMaxValue,this._localizedFormat(),this.model.valueChange&&this._trigger("valueChange",{value:this._textBox.value})),this.model.value&&this.model.minValue>this.model.value&&(this.model.value=this._resetMinValue,this._localizedFormat(),this.model.valueChange&&this._trigger("valueChange",{value:this._textBox.value}))},_init:function(){if(this.element.is("input[type=text]")||this.element.attr("type")==i)this._setValues(),this._renderControl(),this._wireEvents(),this._initObjects();else return this._destroy(),!1},_setValues:function(){this._id=this.element[0].id,this._focused=!1,this.sfType==="ej.CurrencyTextbox"&&this.model.minValue==null&&(this.model.minValue=0),this.model.maxValue==null&&(this.model.maxValue=17976931348623157e292),this.model.minValue==null&&(this.model.minValue=-17976931348623157e292),(isNaN(this.model.value)||typeof this.model.value!="number")&&(this.model.value=null),this._textBox=this.element[0],this._keypressFlag=!0,this._defaultValue=0,this._resetMinValue=this.model.minValue,this._resetMaxValue=this.model.maxValue,this._error=!1,this._defaultMinValue=-17976931348623157e292,this._defaultMaxValue=9999999999999998,this._timeout=null,this._allowkeyboard=!0,this._validateOnType=!1,this._percentSymbol=Globalize.culture(this.model.localize).numberFormat.percent.symbol,this._currencySymbol=Globalize.culture(this.model.localize).numberFormat.currency.symbol,this._validateMinMaxValue()},_destroy:function(){this.wrapper&&(this.element.insertBefore(this.wrapper),this.wrapper.remove()),this.model.name&&this.element.removeAttr("name"),this.model.height&&this.element.height(""),this.element.val("").removeClass("e-input e-state-disabled e-watermark").empty()},_setModel:function(n){if(this.wrapper.hasClass("e-state-disabled"))return!1;for(var t in n)switch(t){case"value":this._setValue(n[t]);break;case"rtl":this._enableRTL(n[t]);break;case"width":this._setModelWidth(n[t]);break;case"height":this._setHeight(n[t]);break;case"minValue":this.model.minValue=n[t],this._validateMinMaxValue();break;case"maxValue":this.model.maxValue=n[t],this._validateMinMaxValue();break;case"showSpinButton":this._showSpin(n[t]);break;case"roundedCorner":this._roundedCorner(n[t]);break;case"localize":this._setLocalize(n[t]);break;case"decimal":this._setDecimal(n[t]);break;case"cssClass":this._setSkin(n[t]);break;case"waterMarkText":this.model.waterMarkText=n[t],this._setWaterMark()}},_renderControl:function(){var i=n(document.createElement("span")),r,u;this.sfType==="ej.NumericTextbox"?i.addClass("e-numwidget"):this.sfType==="ej.PercentageTextbox"?i.addClass("e-percentwidget"):this.sfType==="ej.CurrencyTextbox"&&i.addClass("e-currencywidget"),i.insertAfter(this.element),i.append(this.element),this.model.name=this.model.name!=null?this.model.name:this.element[0].id,this.element.attr("name",this.model.name).addClass("e-input"),r=n('<span class="e-imgcontainer"><span class="e-spin e-spinup"/><span class="e-spin e-spindown"/><\/span>'),u=t.buildTag("span.spinarrow"),i.append(r),r.find(".e-spin").append(u),this.wrapper=this.element.parent(),this.spin=this.wrapper.find(".e-imgcontainer"),this.spinUp=this.wrapper.find(".e-spinup"),this.spinDown=this.wrapper.find(".e-spindown"),this._setSkin(this.model.cssClass),this._setWidth(this.model.width),this._setHeight(this.model.height),this._showSpin(this.model.showSpinButton),this._roundedCorner(this.model.roundedCorner),this.model.rtl&&this._enableRTL(!0)},_wireEvents:function(){this._on(this.element,"focus",this._focusIn),this._on(this.element,"blur",this._focusOut),this._on(this.element,"keydown",this._keyDown),this._on(this.element,"mousewheel",this._mouseWheel),this._on(this.element,"DOMMouseScroll",this._mouseWheel)},_bindSpinEvents:function(){this._on(this.spinUp,"mousedown",this._spinUpClick),this._on(this.spinUp,"mouseup",this._spinUpClick),this._on(this.spinDown,"mousedown",this._spinDownClick),this._on(this.spinDown,"mouseup",this._spinDownClick)},_unbindSpinEvents:function(){this.spinUp.unbind("mousedown",this._spinUpClick),this.spinUp.unbind("mouseup",this._spinUpClick),this.spinDown.unbind("mousedown",this._spinDownClick),this.spinDown.unbind("mouseup",this._spinDownClick)},_initObjects:function(){this.model.minValue>0?this._defaultValue=this.model.minValue:this.model.maxValue<0&&(this._defaultValue=this.model.maxValue),this.model.value!=null?this._localizedFormat():(this.model.waterMarkText!=null||this.model.waterMarkText!="")&&this._setWaterMark(),this.sfType==="ej.PercentageTextbox"&&this._textBox.value!=""?this._appendPercentSymbol(this._textBox.value):this.sfType==="ej.CurrencyTextbox"&&this._textBox.value!=""&&this._appendCurrencySymbol(this._textBox.value),this.model.waterMarkText==null&&(this.model.waterMarkText=""),this._error?this.element.addClass("error"):this.model.value==null&&this.model.waterMarkText!=""&&this._setWaterMark()},_localizedFormat:function(){this._wipeWaterMark(),this._textBox.value=Globalize.format(this.model.value,"n"+this.model.decimal,this.model.localize),this._focused||(this.sfType==="ej.PercentageTextbox"?this._appendPercentSymbol(this._textBox.value):this.sfType==="ej.CurrencyTextbox"&&this._appendCurrencySymbol(this._textBox.value))},_spinUpClick:function(t){if(t.preventDefault(),this.wrapper.hasClass("e-state-disabled"))return!1;this.spinUp.addClass("e-selected");var i=this;t.type=="mouseup"?(this._textBox.value==this.model.waterMarkText&&(this._textBox.value=""),this._incrementValue(t),n(document).unbind("mouseup",this._mouseUpClick)):t.type=="mousedown"&&(this._focused||this.element[0].focus(),this._timeout=setInterval(function(){i._incrementValue(t)},150),this._on(n(document),"mouseup",this._mouseUpClick))},_spinDownClick:function(t){if(t.preventDefault(),this.spinDown.addClass("e-selected"),this.wrapper.hasClass("e-state-disabled"))return!1;var i=this;t.type=="mouseup"?(this._textBox.value==this.model.waterMarkText&&(this._textBox.value=""),this._decrementValue(t),n(document).unbind("mouseup",this._mouseUpClick)):t.type=="mousedown"&&(this._focused||this.element[0].focus(),this._timeout=setInterval(function(){i._decrementValue(t)},150),this._on(n(document),"mouseup",this._mouseUpClick))},_mouseUpClick:function(){this.spinDown.removeClass("e-selected"),this.spinUp.removeClass("e-selected"),clearTimeout(this._timeout)},_mouseWheel:function(n){n.preventDefault(),this._focused||this.element[0].focus();var t,i=n.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?this._incrementValue(n):t<0&&this._decrementValue(n),this._cancelEvent(n)},_focusIn:function(){var t,n;this._focused=!0,this.wrapper.addClass("e-focused"),this.model.strictMode==!1&&this._errorClass(!1),this._textBox.value==this.model.waterMarkText&&(this._textBox.value="",this.element.hasClass("e-watermark")&&this._wipeWaterMark()),this._error||(this._textBox.value!=this.model.waterMarkText&&(this.model.value=this._textBox.value==""?null:this._textBox.value),this.sfType==="ej.PercentageTextbox"?(t=this._textBox.value.split(this._percentSymbol),this._textBox.value=t[0]):this.sfType==="ej.CurrencyTextbox"&&(n=this._textBox.value.split(this._currencySymbol),this._textBox.value=n[1]?n[1]:""),this._setSelectionRange(0,this._textBox.value.length)),this.model.focusIn&&this._trigger("focusIn")},_errorClass:function(n){n?this.element.addClass("error"):this.element.removeClass("error")},_focusOut:function(){if(this._focused=!1,this.wrapper.removeClass("e-focused"),!this._error){if(this._textBox.value!=null&&this._textBox.value!="NaN"&&this._textBox.value!=""&&this._textBox.value!=this.model.waterMarkText){if(this._textBox.value<this.model.minValue?this.model.strictMode==!0?this._textBox.value=this._resetMinValue.toFixed(this.model.decimal):this._errorClass(!0):this._textBox.value>this.model.maxValue&&(this.model.strictMode==!0?this._textBox.value=this._resetMaxValue.toFixed(this.model.decimal):this._errorClass(!0)),this.sfType==="ej.NumericTextbox"&&(this.model.value=Globalize.parseFloat(this._textBox.value,this.model.localize)),this.sfType==="ej.PercentageTextbox"||this.sfType==="ej.CurrencyTextbox"){var n=this._textBox.value,t=n;n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)>-1?t=n.substring(0,n.length-1):n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)>-1&&(t=n.substring(1)),this.model.value=Globalize.parseFloat(t,this.model.localize)}(isNaN(this.model.value)||this.model.value==i||this.model.value==null)&&(this.model.value=this.model.minValue==this._defaultMinValue?0:this.model.minValue),this._localizedFormat()}else this._textBox.value==""&&this.model.waterMarkText==""&&this.model.value!=null&&this.model.value!=""&&this.model.value!="-"?this._textBox.value="":this._textBox.value==""&&this.model.waterMarkText!=""&&this._setWaterMark();this._textBox.value!=""&&(this.model.value=this._textBox.value==this.model.waterMarkText?null:this._removeFormats(this._textBox.value)),this.model.focusOut&&this._trigger("focusOut")}},_setWaterMark:function(){this.element.addClass("e-watermark"),this._textBox.value=this.model.waterMarkText},_wipeWaterMark:function(){this.element.removeClass("e-watermark")},_mouseOver:function(){this.model.waterMarkText!=""&&this.model.value==null&&(this.model.value=0)},_setSelectionRange:function(n,t){function f(i){i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select()}var i=this._textBox,r,u;try{i.setSelectionRange?(i.setSelectionRange(n,t),i.focus()):i.createTextRange&&(r=i.createTextRange(),f(r))}catch(e){u=this,window.setTimeout(function(){document.body.focus(),u._textBox.select();var n=document.selection.createRange();f(n)},1)}},_getSelection:function(n){var t=null;return document.selection?(t=document.selection.createRange(),t.text==""?t.text:this._removeFormats(t.text)):n==null?this.model.value:this._removeFormats(n.substring(this._textBox.selectionStart,this._textBox.selectionEnd))},_caretPosition:function(){var n=this._textBox,t=0,i;return document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),t=i.text.length):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionEnd),t},_cancelEvent:function(n){return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},_incrementValue:function(){if(this._errorClass(!1),this._textBox.value!=this.model.waterMarkText||this._textBox.value==""){if(this._textBox.value==""&&this.model.minValue==this._defaultMinValue?this.model.value=0:this.model.minValue!=this._defaultMinValue&&this._textBox.value==""&&(this.model.value=this.model.minValue),this.sfType==="ej.PercentageTextbox"||this.sfType==="ej.CurrencyTextbox"){var n=this._textBox.value,t=n;n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)>-1?t=n.substring(0,n.length-1):n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)>-1&&(t=n.substring(1)),this.model.value=Globalize.parseFloat(t,this.model.localize)}else this.sfType=="ej.NumericTextbox"&&(this.model.value=Globalize.parseFloat(this._textBox.value,this.model.localize));(isNaN(this.model.value)||this.model.value==i||this.model.value==null)&&(this.model.value=this.model.minValue==this._defaultMinValue?0:this.model.minValue),this.model.value<this.model.maxValue?(this.model.value=this.model.value+this.model.incrementStep,this.model.value<=this.model.maxValue&&this.model.value>=this.model.minValue?(this._setValue(this.model.value),this._wipeWaterMark()):this.model.strictMode==!0?this.model.value>this.model.maxValue&&(this._setValue(this.model.maxValue),this._wipeWaterMark()):this._errorClass(!0)):this.model.value>=this.model.maxValue&&(this.model.strictMode==!0?(this._setValue(this.model.maxValue),this._wipeWaterMark()):this._errorClass(!0))}else this._wipeWaterMark(),this._textBox.focus()},_decrementValue:function(){if(this._errorClass(!1),this._textBox.value!=this.model.waterMarkText||this._textBox.value==""){if(this._textBox.value==""?this.model.value=0:this._textBox.value.indexOf(" ")>=0&&(this._textBox.value=this._textBox.value.replace(" ","")),this.sfType==="ej.PercentageTextbox"||this.sfType==="ej.CurrencyTextbox"){var n=this._textBox.value,t=n;n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)>-1?t=n.substring(0,n.length-1):n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)>-1&&(t=n.substring(1)),this.model.value=Globalize.parseFloat(t,this.model.localize)}else this.sfType=="ej.NumericTextbox"&&(this.model.value=Globalize.parseFloat(this._textBox.value,this.model.localize));(isNaN(this.model.value)||this.model.value==i||this.model.value==null)&&(this.model.value=this.model.minValue==this._defaultMinValue?0:this.model.minValue),this.model.value>this.model.minValue?(this.model.value=this.model.value-this.model.incrementStep,this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue?(this._setValue(this.model.value),this._wipeWaterMark()):this.model.strictMode==!0?(this._setValue(this.model.minValue),this._wipeWaterMark()):this._errorClass(!0)):this.model.value<=this.model.minValue&&(this.model.strictMode==!0?(this._setValue(this.model.minValue),this._wipeWaterMark()):this._errorClass(!0))}else this._wipeWaterMark(),this._textBox.focus()},_validateDecimal:function(n){if(window.navigator.appName=="Microsoft Internet Explorer"){if(n.originalEvent.char==Globalize.culture(this.model.localize).numberFormat["."])return!0}else{var t=String.fromCharCode(n.keyCode);if(n.keyCode==188?t=",":(n.keyCode==190||n.keyCode==110)&&(t="."),Globalize.culture(this.model.localize).numberFormat["."].charCodeAt(0)==t.charCodeAt(0))return!0}return!1},_appendPercentSymbol:function(n){this._percentSymbol&&(n=n.replace(this._percentSymbol,"")),n.indexOf(Globalize.culture(this.model.localize).numberFormat.percent.symbol)<0&&(this._textBox.value=n+Globalize.culture(this.model.localize).numberFormat.percent.symbol),this._percentSymbol=Globalize.culture(this.model.localize).numberFormat.percent.symbol},_appendCurrencySymbol:function(n){this._currencySymbol&&(n=n.replace(this._currencySymbol,"")),n.indexOf(Globalize.culture(this.model.localize).numberFormat.currency.symbol)<0&&(this._textBox.value=Number(n)<0?"("+Globalize.culture(this.model.localize).numberFormat.currency.symbol+Math.abs(n)+")":Globalize.culture(this.model.localize).numberFormat.currency.symbol+n),this._currencySymbol=Globalize.culture(this.model.localize).numberFormat.currency.symbol},_allowKeyCodes:function(n){for(var i=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110,173,86,88,67],t=0;t<i.length;t++)if(n.keyCode==i[t]||this._validateDecimal(n)&&this.model.decimal!=0)return!0;return!1},_keyDown:function(t){var c,y,u,f,e,p,v,l,a,b;if(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||this._allowKeyCodes(t)){if(t.shiftKey&&(t.keyCode==35||t.keyCode==36||t.keyCode==37||t.keyCode==39||t.keyCode==46||t.keyCode==127)||t.ctrlKey&&(t.keyCode==86||t.keyCode==118||t.keyCode==67||t.keyCode==88))return!0;if((t.shiftKey==!0||t.ctrlKey==!0)&&t.keyCode!=9&&t.keyCode!=17&&t.keyCode!=86&&t.keyCode!=67||t.keyCode==67||t.keyCode==86||t.keyCode==88)return this._keypressFlag=!1,this._cancelEvent(t),!1;if(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode==110){if(this._wipeWaterMark(),c=this._caretPosition(),u=this.model.value==null?this._textBox.value:this.model.value.toString().substring(0,c),f=this.model.value==null?this._textBox.value:this.model.value.toString().substring(c),e=this._getSelection(this._textBox.value),t.keyCode>=96&&t.keyCode<=105&&(t.keyCode-=48),this.model.value=e.length==0?u.length!=0&&String.fromCharCode(t.keyCode)==0?u+String.fromCharCode(t.keyCode)+f:u+String.fromCharCode(t.keyCode)+f:u.substring(0,u.length-e.length)+String.fromCharCode(t.keyCode)+f,this._validateOnType){var r=Globalize.culture(this.model.localize).numberFormat["."],o=this.model.value.toString(),tt=o.indexOf(r),k=this.model.value,s=this.model.minValue.toFixed(this.model.decimal),h=this.model.maxValue.toFixed(this.model.decimal),w=!1;if((s.toString().indexOf("e")>0||h.toString().indexOf("e")>0)&&(w=!0),w)this.model.decimal!=0?(p=this._textBox.value.split(".")[1],y=o.indexOf(r)>0||Number(o)<Number(s)||Number(o)>Number(h)?o.substring(o.indexOf(r)+1,o.length).length>this.model.decimal?!0:e.length==0&&c>this._textBox.value.indexOf(r)&&p&&p.length>=this.model.decimal?!0:!1:e.length==0&&c>this._textBox.value.indexOf(r)&&p&&p.length>=this.model.decimal?!0:!1):y=!1;else if(r!="."&&(o=this._textBox.value.toString(),this.model.minValue.toString().match(new RegExp(".","g"))&&(s=this.model.minValue.toString().replace(/["."]/g,r)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(h=this.model.maxValue.toString().replace(/["."]/g,r))),l=s.toString().indexOf(r)>0?Number(s.toString().substring(0,s.toString().indexOf(r))):this.model.minValue,a=h.toString().indexOf(r)>0?Number(h.toString().toString().substring(0,h.toString().indexOf(r))):this.model.maxValue,tt>0){k=Number(o.substring(o.indexOf(r)+1,o.toString().length)),l=s.toString().indexOf(r)>0?Number(s.toString().substring(s.toString().indexOf(r)+1,s.toString().length)):0,a=h.toString().indexOf(r)>0?Number(h.toString().substring(h.toString().indexOf(r)+1,h.toString().length)):0;var it=Number(o.substring(0,o.indexOf(r))),rt=Number(s.toString().substring(0,s.toString().indexOf(r))),ut=Number(h.toString().substring(0,h.toString().indexOf(r)));y=this._validateValue(k,l,a,!0,it,rt,ut)?!1:!0}else y=this._validateValue(k,l,a,!1)?!1:!0;if(y)return this.model.value=e.length==0?parseFloat(u+f):parseFloat(u.substring(0,u.length-e.length)+f),this._keypressFlag=!1,this._cancelEvent(t),!1}this.model.valueChange&&this._trigger("valueChange",{value:this.model.value})}if(t.keyCode==38&&this._allowkeyboard&&this._incrementValue(t),t.keyCode==40&&this._allowkeyboard&&this._decrementValue(t),t.keyCode==8&&(c=this._caretPosition(),u=this._textBox.value.substring(0,c),f=this._textBox.value.substring(c),e=this._getSelection(this._textBox.value),this.model.value=e.length==0?u.substring(0,u.length-1)+f:u.substring(0,u.length-e.length)+f,this.model.valueChange&&this._trigger("valueChange",{value:this.model.value})),(t.keyCode==46||t.keyCode==127)&&(c=this._caretPosition(),u=this._textBox.value.substring(0,c),f=this._textBox.value.substring(c),e=this._getSelection(this._textBox.value),this.model.value=e.length==0?u+f.substring(1,f.length):u.substring(0,u.length-e.length)+f.substring(0,f.length),this.model.valueChange&&this._trigger("valueChange",{value:this.model.value})),this._validateDecimal(t)&&this.model.decimal!=0&&t.keyCode!=46){if(v=Globalize.culture(this.model.localize).numberFormat["."],b=this._textBox.value.split(v),b[1]==i){var d=this._caretPosition(),g=b[0].substring(0,d),nt=b[0].substring(d);if((this.model.minValue.toString().indexOf("e")>0||this.model.maxValue.toString().indexOf("e")>0)&&(w=!0),this._validateOnType&&!w)if(this.model.minValue.toString().match(new RegExp(".","g"))&&(l=this.model.minValue.toString().replace(/["."]/g,v)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(a=this.model.maxValue.toString().replace(/["."]/g,v)),l=l.indexOf(v)>0?Number(l.substring(0,l.indexOf(v))):Number(l),a=a.indexOf(v)>0?Number(a.substring(0,a.indexOf(v))):Number(a),this._validateValue(this.model.value,l,a,"DecimalKeyPressed"))this.model.value=g+v+nt;else return this._keypressFlag=!1,this._cancelEvent(t),!1;else this.model.value=g+v+nt;this._setSelectionRange(this.model.value.length,this.model.value.length),this._textBox.value=this.model.value}else this.model.value=this._textBox.value;this._cancelEvent(t)}else(t.keyCode==190||t.keyCode==110)&&this._cancelEvent(t);(t.keyCode==109||t.keyCode==189||t.keyCode==173)&&(this._caretPosition()!=0&&this._getSelection(this._removeFormats(this._textBox.value))!=this.model.value||this.model.minValue>=0||this._textBox.value.toString().match(new RegExp("-","g"))&&this._getSelection(this._textBox.value)==""?this._cancelEvent(t):this._getSelection()==this.model.value&&(this.model.value=null))}else(t.keyCode!=27&&!t.ctrlKey||t.ctrlKey&&t.keyCode==90&&n.trim(this._textBox.value)=="")&&(this._keypressFlag=!1,this._cancelEvent(t))},_removeFormats:function(n){var t=Globalize.culture(this.model.localize).numberFormat[","];return n!=null?t=="."?n.toString().replace(/["."]/g,""):n.toString().match(new RegExp(t,"g"))?n.toString().replace(new RegExp(t,"g"),""):n:null}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejMaskEdit","ej.MaskEdit",{element:null,model:null,defaults:{mask:"",value:"",waterMarkText:null,height:"20px",width:"auto",error:!1,cssClass:"",customChar:null,inputMode:"text",textAlign:t.textAlign.Left,hidePromptOnLeave:!1,onKeyDown:null,roundedCorner:null,keyUp:null,keyPress:null,valueChange:null,mouseOver:null,mouseOut:null,focusIn:null,focusOut:null},dataTypes:{mask:"string",value:"string",error:"boolean",customChar:"string",inputMode:"enum",textAlign:"enum",hidePromptOnLeave:"boolean"},enable:function(){this.element.disabled=!1,this.element.removeAttr("disabled").removeClass("e-state-disabled")},disable:function(){this.element.disabled=!0,this.element.attr("disabled","disabled").addClass("e-state-disabled")},_setWidth:function(n){this.element.width(n)},_setHeight:function(n){this.element.height(n)},_roundedCorner:function(n){n?this.element.addClass("e-corner-all"):this.element.hasClass("e-corner-all")&&this.element.removeClass("e-corner-all")},_setTextAlign:function(n){n=="right"?this.element.css("padding-right","2px"):this.element.css("padding-right",""),this.element.css("text-align",n)},_setInputMode:function(n){this.element.attr("type",n)},_init:function(){if(this.element.is("input[type=text]")||this.element.attr("type")==i)this._setValues(),this._renderControl(),this._initObjects(),this._wireEvents();else return this._destroy(),!1},_setValues:function(){this._tempMask=null,this._unStrippedMask=null,this._charMap={"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]",A:"[A-Za-z]",N:"[0-9]","<":"",">":"",C:"","?":"(.)",$:"[A-Za-z ]"}},_destroy:function(){this.model.name&&this.element.removeAttr("name"),this.model.height&&this.element.height(""),this.model.textAlign&&this.element.css("text-align",""),this.element.val("").removeClass("e-input e-corner-all e-state-disabled e-watermark").empty()},_setModel:function(n){if(this.element.hasClass("e-state-disabled"))return!1;for(var t in n)switch(t){case"value":this._setValue(n[t]);break;case"width":this._setWidth(n[t]);break;case"height":this._setHeight(n[t]);break;case"waterMarkText":this.model.waterMarkText=n[t],this._setWaterMark();break;case"roundedCorner":this._roundedCorner(n[t]);break;case"textAlign":this._setTextAlign(n[t]);break;case"inputMode":this._setInputMode(n[t]);break;case"mask":this._setMask(n[t]);break;case"cssClass":this._setSkin(n[t])}},_renderControl:function(){this.model.name=this.model.name!=null?this.model.name:this.element[0].id,this.element.attr("name",this.model.name).addClass(" e-maskwidget e-input "+this.model.cssClass),this._setInputMode(this.model.inputMode),this._setWidth(this.model.width),this._setHeight(this.model.height),this._roundedCorner(this.model.roundedCorner),this._setTextAlign(this.model.textAlign)},_wireEvents:function(){this._on(this.element,"focus",this._OnFocusHandler),this._on(this.element,"blur",this._OnBlurHandler),this._on(this.element,"keydown",this._OnKeyDownHandler),this._on(this.element,"keypress",this._OnKeyPressHandler),this._on(this.element,"keyup",this._OnKeyUpHandler),this._on(this.element,"mouseover",this._OnMouseOverHandler),this._on(this.element,"mouseout",this._OnMouseOutHandler)},_initObjects:function(){this._textbox=this.element[0],this.model.value==""&&this._textbox.value!=""&&(this.model.value=this._textbox.value),this._keypressFlag=0,this._selectedTextKeyDown=0,this._keydownFlag=0,this._maskLength=this.model.mask.length,this._maskModel=this.model.mask.replace(/[9?$CANa*]/g,"_"),this._validatedValue=this._maskModel,this.model.inputMode!="password"&&(this._validateValue(),this._setWaterMark()),this.model.error&&this.element.addClass("error")},_setSkin:function(n){this.element.removeClass(this.model.cssClass),this.element.addClass(n)},_setWaterMark:function(){this._maskModel=this.model.mask.replace(/[9?$CANa*]/g,"_"),this.model.waterMarkText&&(this.model.value==""||this.model.value==this._maskModel)?(this._textbox.value=this.model.waterMarkText,this.element.addClass("e-watermark")):this.model.value==""&&this._maskModel!=""&&(this._textbox.value=this._maskModel)},_removeWaterMark:function(){this.element.hasClass("e-watermark")&&(this._textbox.value=this._maskModel,this.element.removeClass("e-watermark"))},_showAlert:function(){var t=this;this.element.addClass("invalidtext").animate({Opacity:1},700,null,function(){n(t._textbox).removeClass("invalidtext")})},_validateValue:function(){var n,f,e,u;this.model.value=this.model.value.replace(/[^a-zA-Z0-9<>?CAN]/g,"");var i=this.model.value,t=this._maskModel,r=-1;if(this._maskLength==0)return this.element.hasClass("e-watermark")&&this.element.removeClass("e-watermark"),this._textbox.value=i,!0;for(n=0;n<this._maskLength;n++)this._charMap[this.model.mask.charAt(n)]&&(r++,f=i.charCodeAt(r),this._validateChars(f,n)&&(e=t.substring(0,n),u=t.substring(n),t=e+i.charAt(r)+u.substr(1,u.length)));this.element.hasClass("e-watermark")?this.model.value?(this.element.removeClass("e-watermark"),this._textbox.value=t):this._setWaterMark():this._textbox.value=this.model.value?t:this.model.mask.replace(/[9?$CANa*]/g,"_")},_selectionText:function(n,t){var i=this._maskModel.substring(n,t);return(this._textbox.value=this._textbox.value.substring(0,n)+i+this._textbox.value.substring(t),this._keydownFlag==1)?(this._setCaretPosition(n),n):this._keydownFlag==2?(this._setCaretPosition(t),t):n},_caretPosition:function(n){var t=0,i,r;return document.selection?(i=document.selection.createRange(),r=i.text.length,i.moveStart("character",-n.value.length),t=i.text.length-r,r!=0&&(t=this._selectionText(t,i.text.length),this._selectedTextKeyDown=1)):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionStart,n.selectionStart!=n.selectionEnd&&(t=this._selectionText(n.selectionStart,n.selectionEnd),this._selectedTextKeyDown=1)),t},_setCaretPosition:function(n){var t=this._textbox,i;window.navigator.appName=="Microsoft Internet Explorer"?t.createTextRange&&(i=t.createTextRange(),i.move("character",n),i.select()):t.selectionStart||t.selectionStart=="0"?(t.focus(),t.setSelectionRange(n,n)):t.focus()},_validateChars:function(t,i){var f=this._charMap,e=this.model.mask.substr(i,1),r=this.model.customChar,o=String.fromCharCode(t),u=!1;return n.each(f,function(n,t){e==n&&(r!=null&&(n=="C"?t="["+r+"]":(n=="A"||n=="N")&&(t=t.replace("]","")+r+"]")),u=o.match(new RegExp(t))?!0:!1)}),u},_seekNext:function(){for(var n=this._caretPosition(this._textbox),t=n,i=!0;i;){if(n>=0&&n<this._maskLength&&(this.model.mask.charAt(n)!="C"&&(this._charMap[this.model.mask.charAt(n)]||(this._setCaretPosition(n+1),n++)),n!=t)){t=n;continue}i=!1}return n},_seekBefore:function(){var n=this._caretPosition(this._textbox),i=--n,t=!0;for(this._selectedTextKeyDown==1&&(t=!1);t;){if(n>=0&&n<this._maskLength&&(this._charMap[this.model.mask.charAt(n)]||this._setCaretPosition(--n),n!=i)){i=n;continue}t=!1}return n},_writeBuffer:function(n,t){var r,u,e,f;t<=this._maskLength&&(r=this._textbox.value,this._tempMask!=null&&(u=this._updateCasing(n,t)),n=u==i?n:u,e=r.substring(0,t),f=r.substring(t),this._textbox.value=e+n+f.substr(1,f.length),this._setCaretPosition(t+1),this._raiseEvents("valueChange"))},_updateCasing:function(n,t){for(var r,i=0;i<t+1;i++)(this._tempMask.substr(i,1)=="<"||this._tempMask.substr(i,1)==">")&&t++;for(r=t;r>-1;r--){if(this._tempMask.substr(r,1)=="<")return n.toLowerCase();if(this._tempMask.substr(r,1)==">")return n.toUpperCase()}},get_StrippedValue:function(){var n=this._textbox.value,t="";return n!=i&&(t=n.replace(/[^a-zA-Z0-9<>?CAN]/g,"")),t},get_UnstrippedValue:function(){var n=this._textbox.value,t="";return n!=i&&(t=n.replace(/[_]/g," ")),t},_OnFocusHandler:function(){this._removeWaterMark(),(this._textbox.value.indexOf("<")>=0||this._textbox.value.indexOf(">")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._maskModel=this._textbox.value,this._tempMask=this.model.mask,this.model.mask=this.model.mask.replace(/[<>]/g,"")),this._textbox.value!=this._maskModel&&this._unStrippedMask!=null&&this.model.hidePromptOnLeave&&(this._textbox.value=this._unStrippedMask),n.fn.selectRange=function(n,t){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(n,t);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select()}})},this.model.mask&&this.element.selectRange(0,0),this._raiseEvents("focusIn")},_OnBlurHandler:function(){this.model.value=this._textbox.value,this.model.value!=i&&this.model.hidePromptOnLeave&&(this._unStrippedMask=this.model.value,this._textbox.value=this.get_UnstrippedValue()),this.model.inputMode!="password"&&this._setWaterMark(),this._raiseEvents("focusOut")},_OnKeyDownHandler:function(n){var i,r,t;if(this._raiseEvents("onKeyDown"),this.element.removeClass("error"),this._maskLength==0)return!0;if(i=n.keyCode?n.keyCode:n.charCode,r=String.fromCharCode(i),i>=35&&i<=41)(window.navigator.appCodeName=="Mozilla"||window.navigator.appCodeName=="opera")&&(this._keypressFlag=1);else{if(i==8)return this._keydownFlag=1,t=this._seekBefore(),this._selectedTextKeyDown||(t>=0&&t<this._maskLength&&this._writeBuffer("_",t),this._setCaretPosition(t)),this._keydownFlag=0,this._selectedTextKeyDown=0,n.preventDefault(),!1;if(i==46)return this._keydownFlag=2,t=this._seekNext(),this._selectedTextKeyDown||t>=0&&t<this._maskLength&&this._writeBuffer("_",t),this._keydownFlag=0,this._selectedTextKeyDown=0,n.preventDefault(),!1}},_OnKeyPressHandler:function(n){if(this._raiseEvents("keyPress"),this._maskLength==0)return!0;var t=n.keyCode?n.keyCode:n.charCode,r=String.fromCharCode(t),i=this._seekNext();if(this._validateChars(t,i)?this._writeBuffer(r,i):this._showAlert(),!this._keypressFlag&&t!=9)return this._keypressFlag=0,n.preventDefault(),!1;this._keypressFlag=0},_OnKeyUpHandler:function(){this._raiseEvents("keyUp")},_OnMouseOverHandler:function(){this._raiseEvents("mouseOver")},_OnMouseOutHandler:function(){this._raiseEvents("mouseOut")},_raiseEvents:function(n){var t;this.model[n]&&(t={strippedValue:this.get_StrippedValue(),unStrippedValue:this.get_UnstrippedValue()},this._trigger(n,t))},_OnValueChange:function(){this._textbox.value==""&&this._maskModel!=""&&(this._textbox.value=this._maskModel),this._setValue(this._textbox.value)},clear:function(){this._textbox.value=this.model.mask.replace(/[9?$aCAN*]/g,"_")},_setValue:function(n){this.model.value=n,this._validateValue()},_setMask:function(n){this._maskLength=n.length,this.model.mask=n,this._maskModel=n.replace(/[9?$CANa*]/g,"_"),this._validateValue()}}),t.inputMode={Password:"password",Text:"text"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejMenu","ej.Menu",{element:null,model:null,_rootCss:"e-menu",defaults:{height:0,width:0,orientation:t.orientation.Horizontal,menuType:"NormalMenu",contextTargetId:null,cssClass:"",openOnClick:!1,subMenuDirection:"Right",centerAlign:!1,showTopLevelArrows:!0,showBottomLevelArrows:!0,dataSource:null,fields:null,query:null,rtl:!1,beforeContextOpen:null,contextOpen:null,contextClose:null,mouseOver:null,mouseOut:null,click:null,keyDown:null},dataTypes:{cssClass:"string",showSpeed:"number",hideSpeed:"number",openOnClick:"boolean",showArrow:"boolean"},_setValues:function(){this._id=this.element[0].id,this._mouseOver=!0,this._hoverOpen=!0,this._hoverClose=!0,this._isMenuOpen=!1,this._hideSpeed=100,this._showSpeed=100,this._isSubMenuOpen=!1,this._isContextMenuOpen=!1,this._disabledMenuItems=[],this._delayMenuHover=0,this._delaySubMenuHover=0,this._delaySubMenuShow=0,this._preventContextOpen=!0,this._showAnim="slideDown",this._hideAnim="slideUp",this._isFocused=!1},_destroy:function(){this._cloneElement.insertBefore(this.element),this._cloneElement.removeClass("e-menu"),this.element.remove()},_setSkin:function(n){this.model.menuType=="NormalMenu"?this.model.orientation=="horizontal"?(this.wrapper.removeClass(this.model.cssClass+"e-horizontal"),this.wrapper.removeClass(n+"e-horizontal")):(this.wrapper.removeClass(this.model.cssClass+"e-vertical"),this.wrapper.addClass(n+"e-vertical")):(this.wrapper.removeClass(this.model.cssClass+"e-context"),this.wrapper.addClass(n+"e-context"))},_setModel:function(n){for(var t in n)switch(t){case"menuType":this.model.menuType=n[t],this.element.removeClass("e-menu"+this.model.cssClass),this._renderControl(),n[t]=="ContextMenu"&&this._contextMenuEvents();break;case"orientation":this._setOrientation(n[t]);break;case"showTopLevelArrow":this._addArrow(n[t],this.model.showBottomLevelArrow);break;case"showBottomLevelArrow":this._addArrow(this.model.showTopLevelArrows,n[t]);break;case"height":this._setHeight(n[t]);break;case"width":this._setWidth(n[t]);break;case"cssClass":this._setSkin(n[t]);break;case"rtl":this._setRTL(n[t]);break;case"centerAlign":this._centerAlign(n[t])}},_wireEvents:function(){this._on(this.element.find("> li"),"mouseout",this._mouseOutHandler),this._on(this.element.find("> li"),"mouseover",this._mouseOverHandler),this._on(this.element.find("> li > ul >li"),"mouseout",this._mouseOutHandler),this._on(this.element.find("> li > ul >li"),"mouseover",this._mouseOverHandler),this._on(this.element.find("> li"),"mousedown",this._onClickHandler),this._on(this.element.find("> li > ul >li"),"mousedown",this._onClickHandler),this._on(this.element,"keydown",this._onKeyDownHandler),this._on(this.element,"focus",this._OnFocusHandler),this._on(this.element,"blur",this._OnFocusOutHandler),this.model.menuType=="ContextMenu"&&n("#"+this.model.contextTargetId)[0]!=null?this._contextMenuEvents():this.model.openOnClick&&this._on(n(document),"click",this._onDocumentClick)},_contextMenuEvents:function(){this._on(n(document.getElementById(this.model.contextTargetId)),"mousedown",this._ContextMenuHandler),this._on(this.element,"contextmenu",this._onDefaultPreventer),this._on(n(document.getElementById(this.model.contextTargetId)),"contextmenu",this._onDefaultPreventer),this._on(n(document),"click",this._onContextClose)},_init:function(){this._cloneElement=this.element.clone(),this._setValues(),t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null||this._generateTemplate(this.model.fields.dataSource),this._renderControl(),this._addArrow(this.model.showTopLevelArrows,this.model.showBottomLevelArrows),this._intializeMenu(),this._wireEvents()},_renderControl:function(){this.element.addClass("e-menu").attr("tabindex",0),this.model.rtl&&this._setRTL(this.model.rtl),this.model.menuType=="NormalMenu"?this.model.orientation=="horizontal"?this.element.addClass(this.model.cssClass+"e-horizontal"):this.element.addClass(this.model.cssClass+"e-vertical"):this._contextMenu_Template(),this.element.find('li:has("> ul")').find("> a").addClass("aschild"),this.model.centerAlign&&this._centerAlign(this.model.centerAlign)},_addArrow:function(t,i){t?this.element.find('>li:has("> ul")').children("a").append(n("<span>").addClass("arrows")).addClass("arrow-space"):this.element.find('>li:has("> ul")').children("a").removeClass("arrow-space").children("span").remove(),i?this.element.find(">li > ul >li:has(>ul)").children("a").append(n("<span>").addClass("arrows")).addClass("arrow-space"):this.element.find(">li > ul >li:has(>ul)").children("a").removeClass("arrow-space").children("span").remove()},_setOrientation:function(n){n=="horizontal"?(this.element.removeClass(this.model.cssClass+"e-vertical"),this.element.addClass(this.model.cssClass)):(this.element.removeClass(this.model.cssClass),this.element.addClass(this.model.cssClass+"e-vertical"))},_setHeight:function(){this.element.height(this.model.height)},_setWidth:function(){this.element.width(this.model.width)},_setRTL:function(n){n?(this.element.addClass("rtl"),this.model.subMenuDirection="Left"):(this.element.removeClass("rtl"),this.model.subMenuDirection="Right")},_centerAlign:function(n){this.model.orientation=="horizontal"&&n?this.element.css("text-align","center"):this.model.orientation=="horizontal"&&this.element.css("text-align","inherit")},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="child"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u),this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_generateTemplate:function(n){var i=this,r;n instanceof t.DataManager?(r=n.executeQuery(this._columnToSelect(this.model.fields)),r.done(function(n){i._generateItemTemplate(n.result)})):this._generateItemTemplate(i.model.fields.dataSource)},_generateItemTemplate:function(n){for(var i,t=0;t<n.length;t++)n[t][this.model.fields.parentId]==null&&(i=this._menuTemplate(n[t],n,this.model.fields),this.element.append(i))},_menuTemplate:function(i,r,u){var o,h,a,y,s,v,p,f,c,e,l;if(o=n(document.createElement("li")),i[u.htmlAttribute]&&this._setAttributes(i[u.htmlAttribute],o),i[u.text]&&i[u.text]!=""&&(h=n(document.createElement("a")),i[u.imageUrl]&&i[u.imageUrl]!=""?(a=n(document.createElement("img")),a.attr("src",i[u.imageUrl]),i[u.imageAttribute]&&this._setAttributes(i[u.imageAttribute],a),h.append(a)):i[u.spriteCssClass]&&i[u.spriteCssClass]!=""&&(y=n(document.createElement("span")),y.addClass(i[u.spriteCssClass]),h.append(y)),h.append(i[u.text]),i[u.linkAttribute]?h.attr("href",i[u.linkAttribute]):h.attr("href","#"),o.append(h)),i[u.id]&&o.prop("id",i[u.id]),t.isNullOrUndefined(u.child)){if(!this._odataFlag&&(f=t.DataManager(u.dataSource).executeLocal(t.Query().where(u.parentId,t.FilterOperators.equal,i[u.id])),f&&f.length>0)){for(c=t.buildTag("ul"),e=0;e<f.length;e++)l=this._menuTemplate(f[e],u.dataSource,u),c.append(l);o.append(c)}}else if(this._odataFlag=!0,u.child.dataSource instanceof t.DataManager)s=this,v=t.Query(),v=this._columnToSelect(u.child),v.where(u.child.parentId,t.FilterOperators.equal,i[u.id]),p=u.child.dataSource.executeQuery(v),p.done(function(t){var i=t.result,f,r,e;if(i&&i.length>0){for(f=n(document.createElement("ul")),r=0;r<i.length;r++)e=s._menuTemplate(i[r],u.child.dataSource,u.child),f.append(e);o.append(f)}s.element.find('>li:has("> ul")').find("> a").addClass("aschild"),s.element.find('>li > ul > li:has("ul")').find("> a").addClass("aschild"),s._addArrow(s.model.showTopLevelArrows,s.model.showBottomLevelArrows),s._wireEvents()});else if(f=t.DataManager(u.child.dataSource).executeLocal(t.Query().where(u.child.parentId,t.FilterOperators.equal,i[u.id])),f&&f.length>0){for(c=n(document.createElement("ul")),e=0;e<f.length;e++)l=this._menuTemplate(f[e],u.child.dataSource,u.child),c.append(l);o.append(c)}return o},_setAttributes:function(n,t){for(var i in n)t.attr(i,n[i])},_max_zindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_recursiveFunction:function(t,i){var r=this,u=!1;n.each(t,function(n,t){return t.Text==i?(r.selectedItem=t,u=!0,!1):(t.ChildItems!=null&&r._recursiveFunction(t.ChildItems,i),u?!1:void 0)})},_contextMenu_Template:function(){this.model.orientation="vertical",this._hideAnimation(this.element,this._hideAnim),this.element.addClass(this.model.cssClass+"e-context"),n("body").append(this.element)},_intializeMenu:function(){this.model.height!=0&&this._setHeight(this.model.height),this.model.width!=0&&this._setWidth(this.model.width),this.model.menuType=="ContextMenu"&&(this.model.openOnClick=!1),this.model.openOnClick&&(this._hoverOpen=!1,this._hoverClose=!1)},_CloseMenu:function(){this._hideAnimation(this.element.find('li:has("> ul")').find("> ul:visible"),this._hideAnim)},_onMenuIntent:function(n,t,i){t._delayMenuHover=window.setTimeout(function(){if(t._mouseOver==!0&&i){var r=t._showAnim,u=t._hideAnim,f=t._showSpeed,e=t._hideSpeed;t._show(n,r,u)}},this._showSpeed)},_onHide:function(n,t,i){t._delaySubMenuHover=window.setTimeout(function(){if(t._mouseOver==!1&&i){var n=t._id,r=t._hideAnim,u=t._hideSpeed;t._closeAll()}},t._hideSpeed)},_subMenuPos:function(t,r){var h="#"+this._id,e=n(t).offset(),f=n("ul:first",t),u,o,s;if(e==null||e==i)return!1;u=f.outerWidth(),o=document.documentElement.clientWidth+n(document).scrollLeft(),this.model.menuType=="NormalMenu"?n(t.parentNode).is(h)?this.model.orientation=="horizontal"?f.css("top",t.offsetHeight+"px"):r=="Left"&&e.left>u&&f.css("left",-(u+4)+"px"):r=="Left"&&e.left>u&&f.css("left",-(u+4)+"px"):(o-=e.left+2*u+4,o<0?(s=u==null?"-206.5px":"-"+(u+5)+"px",f.css("left",s)):f.parent("li").parent("ul").width()&&r=="Right"?f.css("left",f.parent("li").parent("ul").width()+4+"px"):e.left>u&&f.css("left",-(u+4)+"px"))},_show:function(t,i,r){var u=n("> ul",t);this._hideAnimation(n(t).siblings().find(" > ul:visible"),r),n.inArray(this._disabledMenuItems,t)>-1||(u.css("display")!="none"?this._hideAnimation(u.children().find("> ul"),r):n("> ul",t).children().find("> ul").hide(),this._subMenuPos(t,this.model.subMenuDirection),u.css({"z-index":this._max_zindex()+1}),n("> ul",t).css("display")!="block"&&this._showAnimation(u,i))},_closeAll:function(){this._hideAnimation(this.element.find('li:has("> ul")').find("> ul:visible"),this._hideAnim),this._hideAnimation(this.element.find("> ul:visible"),this._hideAnim)},_showAnimation:function(n,t){switch(t){case"slideDown":n.slideDown(200,"easeOutQuad")}},_hideAnimation:function(n,t){switch(t){case"slideUp":n.slideUp(100,"easeOutQuad")}},ShowContextMenu:function(t,r,u,f){return(this._CloseMenu(),this._eventArgs=f,f!=i&&f.stopPropagation&&f.stopPropagation(),this._trigger("beforeContextOpen",{target:u}))?!1:(this._preventContextOpen&&(this.element.css({left:t,top:r}),this._showAnimation(n("#"+this._id),this._showAnim),this._isContextMenuOpen=!0,this.model.contextOpen&&this._trigger("contextOpen",{target:u})),!1)},HideContextMenu:function(t){this._CloseMenu(),this._hideAnimation(n("#"+this._id),this._hideAnim),this._isContextMenuOpen=!1,this.model.contextClose&&this._trigger("contextClose",{Events:t})},DisableMenuItem:function(t){var i=this.element.find(" >li >a , >ul >li >a").filter(function(){return n(this).text()===t});i.length>0&&!(n.inArray(t,this._disabledMenuItems)>-1)&&(i.parent().addClass("Disable_MenuItem"),this._disabledMenuItems.push(i[0].text))},DisableMenuItembyID:function(t){if(t&&t!=""){var r=this.element.find("#"+t)?this.element.find("#"+t)[0]:i;!r||n.inArray(r,this._disabledMenuItems)>-1||(n(r).addClass("Disable_MenuItem"),this._disabledMenuItems.push(r))}},EnableMenuItem:function(t){var i=this.element.find("> li >a , >ul >li >a").filter(function(){return n(this).text()===t});i&&n.inArray(t,this._disabledMenuItems)>-1&&(i.parent().removeClass("Disable_MenuItem"),this._disabledMenuItems.pop(i[0].text))},EnableMenuItembyID:function(t){if(t&&t!=""){var i=this.element.find("#"+t)[0];i&&n.inArray(i,this._disabledMenuItems)>-1&&(n(i).removeClass("Disable_MenuItem"),this._disabledMenuItems.pop(i))}},disable:function(){var t=this.element.find(">li[class!=separator]"),i=this;n.each(t,function(t,r){n(r).addClass("Disable_MenuItem"),i._disabledMenuItems.push(r)})},enable:function(){var t=this.element.find("li.Disable_MenuItem");n.each(t,function(t,i){n(i).removeClass("Disable_MenuItem")}),this._disabledMenuItems.pop(this._disabledMenuItems)},_mouseOverHandler:function(t){var i,r;if(this.element.find(".e-mhover").removeClass("e-mhover e-mfocused"),n(t.currentTarget).hasClass("Disable_MenuItem"))return this._closeAll(),t.preventDefault(),!1;if(t.stopPropagation&&t.stopPropagation(),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delaySubMenuHover),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delayMenuHover),this._mouseOver=!0,this._isMenuOpen=!0,r="#"+this._id,this._isSubMenuOpen=n(t.currentTarget.parentNode.parentNode).is(r)?!1:!0,t.currentTarget.nodeName!="LI"||n(t.currentTarget).hasClass("separator"))if(t.currentTarget.parentNode){if(t.currentTarget.parentNode.nodeName!="LI"||n(t.currentTarget.parentNode).hasClass("separator"))return!1;i=t.currentTarget.parentNode}else return t.preventDefault(),!1;else i=t.currentTarget;if(this._onMenuIntent(i,this,this._hoverOpen),!(n.inArray(i,this._disabledMenuItems)>-1)){var u=this._id,f=n(i).children("a").text(),e={menuId:u,menuText:f,element:i,event:t};this.model.mouseOver&&this._trigger("mouseOver",{Events:e})}},_mouseOutHandler:function(t){var i;if(n(t.currentTarget).hasClass("Disable_MenuItem"))return this._closeAll(),t.preventDefault(),!1;if(t.stopPropagation&&t.stopPropagation(),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delaySubMenuHover),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delayMenuHover),this._mouseOver=!1,this._isMenuOpen=!1,t.currentTarget.nodeName!="LI"||n(t.currentTarget).hasClass("separator"))if(t.currentTarget.parentNode){if(t.currentTarget.parentNode.nodeName!="LI"||n(t.currentTarget.parentNode).hasClass("separator"))return!1;i=t.currentTarget.parentNode}else return t.preventDefault(),!1;else i=t.currentTarget;if(this._onHide(i,this,this._hoverClose),!(n.inArray(i,this._disabledMenuItems)>-1)){var r=this._id,u=n(i).children("a").text(),f={menuId:r,menuText:u,element:i,event:t};this.model.mouseOut&&this._trigger("mouseOut",{Events:f})}},_onClickHandler:function(t){var i,r;if(this._isFocused=!0,r=!1,t.target.nodeName!="LI"||n(t.target).hasClass("separator")||n(t.target).hasClass("Disable_MenuItem"))if(!t.target.parentNode||t.target.parentNode.nodeName!="LI"||n(t.target.parentNode).hasClass("separator")||n(t.target.parentNode).hasClass("Disable_MenuItem"))if(n(t.target).hasClass("arrows")&&!n(t.target.parentNode.parentNode).hasClass("Disable_MenuItem"))i=t.target.parentNode.parentNode;else return t.preventDefault(),!1;else i=t.target.parentNode;else i=t.target;if(!this._hoverOpen&&n(i).find(">a").hasClass("aschild")&&(this._show(i,this._showAnim,this._hideAnim),this._hoverOpen=!1,r=!0),!(n.inArray(i,this._disabledMenuItems)>-1)){this.model.menuType=="ContextMenu"&&this._isContextMenuOpen&&(this._hideAnimation(n("#"+this._id),this._hideAnim),this._isContextMenuOpen=!1,this.model.contextClose&&this._trigger("contextClose",{Events:t})),r||(this._CloseMenu(),this.model.openOnClick&&(this._hoverOpen=!1));var u=this._id,f=n(i).children("a").text(),e={menuId:u,menuText:f,element:i,event:t,selectedItem:this.selectedItem};this.model.click&&this._trigger("click",{Events:e}),this.selectedItem=null}},_onKeyDownHandler:function(t){var u,i,r;if(t.preventDefault(),i=this.element.find(".e-mhover"),r=this.element.find(".e-mfocused"),t.keyCode==40&&(this.model.orientation!="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0&&(r.removeClass("e-mfocused"),i.next().hasClass("separator")?i.next().next().addClass("e-mfocused"):i.is(":last-child")&&i.siblings().first().addClass("e-mfocused")),this.model.orientation=="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0?(this._show(i[0],this._showAnim,this._hideAnim),i.removeClass("e-mhover").children("ul:first").find("li:first").addClass("e-mhover")):i.is(":last-child")?i.removeClass("e-mhover").siblings().first().addClass("e-mhover"):i.next().hasClass("separator")?i.removeClass("e-mhover").next().next().addClass("e-mhover"):i.removeClass("e-mhover").next().addClass("e-mhover")),t.keyCode==39&&(this.model.orientation=="horizontal"&&this.element.find(">li").hasClass("e-mhover")?i.is(":last-child")?(i.removeClass("e-mhover e-mfocused"),this.element.find("li").first().hasClass("separator")?this.element.find("li").first().next().addClass("e-mhover e-mfocused"):this.element.find("li").first().addClass("e-mhover e-mfocused")):i.next().hasClass("separator")?i.removeClass("e-mhover e-mfocused").next().next().addClass("e-mhover e-mfocused"):i.removeClass("e-mhover e-mfocused").next().addClass("e-mhover e-mfocused"):this.element.find("li.e-mhover").children("ul").length>0?(this._show(i[0],this._showAnim,this._hideAnim),i.removeClass("e-mhover").children("ul:first").find("li:first").addClass("e-mhover")):i.children("ul").length<=0&&(this.element.find(".e-mfocused >ul , .e-mfocused >ul >li >ul").hide(),i.removeClass("e-mhover"),r.next().hasClass("separator")?r.removeClass("e-mfocused").next().next().addClass("e-mhover e-mfocused"):r.next().length<=0?r.removeClass("e-mfocused").siblings().first().addClass("e-mhover e-mfocused"):r.removeClass("e-mfocused").next().addClass("e-mhover e-mfocused"))),t.keyCode==38&&(this.model.orientation!="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0&&(i.children("ul").hide(),r.removeClass("e-mfocused"),i.prev().hasClass("separator")?i.prev().prev().addClass("e-mfocused"):i.is(":first-child")&&i.siblings().last().addClass("e-mfocused")),i.is(":first-child")?i.removeClass("e-mhover").siblings().last().addClass("e-mhover"):i.prev().hasClass("separator")?i.removeClass("e-mhover").prev().prev().addClass("e-mhover"):i.removeClass("e-mhover").prev().addClass("e-mhover")),t.keyCode==37&&(this.model.orientation=="horizontal"&&this.element.find(">li").hasClass("e-mhover")?i.is(":first-child")?(i.removeClass("e-mhover e-mfocused"),this.element.find(">li").last().hasClass("separator")?this.element.find(">li").last().prev().addClass("e-mhover e-mfocused"):this.element.find(">li").last().addClass("e-mhover e-mfocused")):i.prev().hasClass("separator")?i.removeClass("e-mhover e-mfocused").prev().prev().addClass("e-mhover e-mfocused"):i.removeClass("e-mhover e-mfocused").prev().addClass("e-mhover e-mfocused"):this.element.find("li.e-mhover")?(this._hideAnimation(i.parent(),this._hideAnim),i.parent().closest("li").addClass("e-mhover"),i.removeClass("e-mhover")):(this._hideAnimation(i,this._showAnim,this._hideAnim),i.removeClass("e-mhover").parent().addClass("e-mhover"))),t.keyCode==13&&(this.element.find(".e-mhover >a ").focus(),this.element.find(">li , >li >ul >li").removeClass("e-mhover e-mfocused"),this._closeAll()),t.keyCode==27&&this._closeAll(),t.target.nodeName=="DIV"&&n(t.target).children()[0].id==this._id)u=n(t.target).children()[0];else if(t.target.nodeName!="LI"||n(t.target).hasClass("separator"))if(t.target.parentNode){if(t.target.parentNode.nodeName!="LI"||n(t.target.parentNode).hasClass("separator"))return!1;u=t.target.parentNode}else return!1;else u=t.target;if(!(n.inArray(u,this._disabledMenuItems)>-1)){var f=this._id,e=n(u).children("a").text(),o={menuId:f,menuText:e,element:u,event:t};this.model.keyDown&&this._trigger("keyDown",{Events:o})}},_OnFocusHandler:function(){this._isFocused?this._isFocused=!1:this.element.find(">li:first").addClass("e-mhover e-mfocused")},_OnFocusOutHandler:function(){this.element.find(">li , >li >ul >li").removeClass("e-mhover e-mfocused"),this._closeAll()},_onDocumentClick:function(t){n(t.target).parents("ul[id="+this._id+"]")[0]||(this._hoverOpen=!1,this._CloseMenu())},_ContextMenuHandler:function(t){var i=!1,r,u,f;if(t.button?i=t.button==2:t.which&&(i=t.which==3),r=t.target,i){var e=t.clientX+this.element.width()<n(window).width()?t.pageX:t.pageX-this.element.width(),o=t.clientY+this.element.height()<n(window).height()?t.pageY:t.pageY-this.element.height(),s=this._showSpeed;this.ShowContextMenu(e,o,r,t)}else this._isContextMenuOpen&&(u=this._hideAnim,f=this._hideSpeed,this.HideContextMenu(u,f,t))},_onDefaultPreventer:function(n){return n.preventDefault(),n.stopPropagation(),!1},_onContextClose:function(t){var e=this,i,r,u,f;if(this._isContextMenuOpen&&(i=!1,t.button?i=t.button==2:t.which&&(i=t.which==3),!i)){if(t.target.id==this.model.contextTargetId)return;r=this._hideAnim,u=this._hideSpeed,this.HideContextMenu(r,u,t),f=n(t.target).parents(),n.each(f,function(n,t){t.id==e._ContextTargetId})}}}),t.menuType={NormalMenu:"NormalMenu",ContextMenu:"ContextMenu"},t.direction={Left:"Left",Right:"Right"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejPager","ej.Pager",{_rootCSS:"e-pager",defaults:{pageSize:12,pageCount:10,currentPage:1,localization:"en-US",masterObject:null,click:null,totalRecordsCount:null,totalPages:null},_init:function(){this._initPrivateProperties(),this.renderPager(),this._wireEvents()},_initPrivateProperties:function(){this._links=[],this._$prev=null,this._$first=null,this._$PP=null,this._$NP=null,this._lastNP=!1,this._lastpageCount=null,this._$last=null,this._$next=null,this._prevPageNo=null},_wireEvents:function(){this.model.click!=i&&this._on(this.element,"click",this._pagerClickHandler)},renderPager:function(){var n=t.buildTag("div.e-pagercontainer","",{},{unselectable:"on"}),i=t.buildTag("div.parentmsgbar");this._renderPagerContainer(n),this._renderMsgBar(i),this.element.append(n).append(i).addClass(this.model.masterObject.model.rtl?"e-pager e-rtl":"e-pager")},_renderPagerContainer:function(n){this._renderBackwardButton(n),this._renderpreviousPager(n),this._renderNumericItem(n),this._renderForwardPager(n),this._renderForwardButton(n)},_renderMsgBar:function(n){var i=t.buildTag("span",String.format(this._getLocalizedLabels("pagerInfo"),this.model.currentPage,this.model.totalPages||0,this.model.totalRecordsCount||0));n.append(i),n.css("text-align",t.textAlign.Right)},_renderpreviousPager:function(n){this._$PP=t.buildTag("a","...").addClass("nextprevitemdisabled spacing PP"),n.append(this._$PP)},_renderForwardPager:function(n){this._$NP=t.buildTag("a","...").addClass("NP numericitem spacing"),n.append(this._$NP)},_renderBackwardButton:function(n){this._$first=t.buildTag("div.first","",{},{unselectable:"on"}).addClass("firstpagedisabled"),this._$prev=t.buildTag("div.prev","",{},{unselectable:"on"}).addClass("prevpagedisabled"),n.append(this._$first),n.append(this._$prev)},_renderNumericItem:function(n){var i=t.buildTag("div.numericcontainer","",{},{unselectable:"on",id:"NumericContainer"});this._renderNumericLinks(i,this.model.pageCount),n.append(i)},_renderNumericLinks:function(n){var i,r;for(n.empty(),i=1;i<=this.model.pageCount;i++)r=t.buildTag("a",i).addClass("numericitem spacing"),i==this.model.currentPage&&r.addClass("currentitem"),n.append(r);this._links=n.children()},_renderForwardButton:function(n){this._$next=t.buildTag("div.nextpage","",{},{unselectable:"on"}),this._$last=t.buildTag("div.lastpage","",{},{unselectable:"on"}),n.append(this._$next),n.append(this._$last)},_applyCss:function(){this.model.currentPage>1?(this._$prev.removeClass("prevpagedisabled").addClass("prevpage"),this._$first.removeClass("firstpagedisabled").addClass("firstpage")):(this._$prev.addClass("prevpagedisabled").removeClass("prevpage"),this._$first.addClass("firstpagedisabled").removeClass("firstpage")),this.model.currentPage>this.model.pageCount?this._$PP.removeClass("nextprevitemdisabled").addClass("numericitem"):this._$PP.addClass("nextprevitemdisabled").removeClass("numericitem"),this._lastNP=parseInt(this._links[0].innerHTML,10)+this.model.pageCount>this.model.totalPages?!0:!1,this._lastNP==!1?this._$NP.removeClass("nextprevitemdisabled").addClass("numericitem"):this._$NP.addClass("nextprevitemdisabled").removeClass("numericitem"),this._lastpageCount=this.model.totalPages%this.model.pageCount,this._lastpageCount==0&&(this._lastpageCount=this.model.pageCount),this.model.currentPage>this.model.totalPages-this._LastpageCount&&(this._$PP.removeClass("nextprevitemdisabled").addClass("numericitem"),this._$NP.addClass("nextprevitemdisabled").removeClass("numericitem")),this.model.currentPage==this.model.totalPages||this.model.totalRecordsCount==0?(this._$last.addClass("lastpagedisabled").removeClass("lastpage"),this._$next.addClass("nextpagedisabled").removeClass("nextpage"),this._$NP.addClass("nextprevitemdisabled").removeClass("numericitem")):(this._$last.addClass("lastpage").removeClass("lastpagedisabled"),this._$next.addClass("nextpage").removeClass("nextpagedisabled")),this._links.length&&(this._links.removeClass("currentitem"),n(this._links[(this.model.currentPage-1)%this.model.pageCount]).addClass("currentitem"),n(this._links[(this._prevPageNo-1)%this.model.pageCount]).addClass("numericitem")),this.model.pageSize>=this.model.totalRecordsCount/this.model.pageCount&&this._$PP!=null&&this._$PP.length!=0&&(this._$PP.addClass("nextprevitemdisabled").removeClass("numericitem"),this._$NP.addClass("nextprevitemdisabled").removeClass("numericitem"))},_SetTotalPages:function(){this.model.totalPages=this.model.totalRecordsCount%this.model.pageSize==0?this.model.totalRecordsCount/this.model.pageSize:parseInt(this.model.totalRecordsCount/this.model.pageSize,10)+1},_refreshNumericItem:function(){var t,n,i;if(this._links.length!=0&&this._links!=null)for(this.model.currentPage=this.model.totalPages==1?1:this.model.currentPage,this.model.currentPage>this.model.totalPages&&this.model.totalPages!=0&&(this.model.currentPage=this.model.totalPages),t=parseInt(this.model.currentPage/this.model.pageCount,10),this.model.currentPage%this.model.pageCount==0&&t>0&&(t=t-1),this._links.css("display","none"),n=0;n<this.model.pageCount;n++)i=t*this.model.pageCount+1+n,i<=this.model.totalPages&&(this._links[n].style.display="",this._links[n].innerHTML=i)},_refreshPagerInfo:function(){this.model.totalRecordsCount==0&&(this.model.currentPage=0),this.element.find("span").text(String.format(this._getLocalizedLabels("pagerInfo"),this.model.currentPage,this.model.totalPages||0,this.model.totalRecordsCount||0))},refreshPager:function(){this._SetTotalPages(),this._refreshNumericItem(),this._refreshPagerInfo(),this._applyCss()},_kDownHandler:function(n){var t;if(t=n.keyCode?n.keyCode:n.which?n.which:n.charCode,n.target=null,this.model.masterObject.checkKey("firstPage",t,n))n.target=this._$first;else if(this.model.masterObject.checkKey("previousPager",t,n))n.target=this._$PP;else if(this.model.masterObject.checkKey("previousPage",t,n))n.target=this._$prev;else if(this.model.masterObject.checkKey("lastPage",t,n))n.target=this._$last;else if(this.model.masterObject.checkKey("nextPager",t,n))n.target=this._$NP;else if(this.model.masterObject.checkKey("nextPage",t,n))n.target=this._$next;else return!1;this._pagerClickHandler(n)},_pagerClickHandler:function(t){this._prevPageNo=this.model.currentPage;var r=n(t.target);return n.inArray(t.target,this._links)!=-1?this.model.currentPage=parseInt(t.target.innerHTML,10):r.hasClass("nextpage")&&r.hasClass("nextpagedisabled")!=!0?this.model.currentPage%this.model.pageCount==0?(this.model.currentPage++,this._links!=i&&this._links.length!=0&&(this.model.currentPage=parseInt(this._links[0].innerHTML,10)+this.model.pageCount),parseInt(this._links[this.model.pageCount-1].innerHTML,10)+this.model.pageCount>=this.model.totalPages&&(this._lastNP=!0)):this.model.currentPage++:r.hasClass("prevpage")&&r.hasClass("prevpagedisabled")!=!0?(this.model.currentPage%this.model.pageCount==1&&(this._lastNP=!1),this.model.currentPage--,this.model.currentPage<0&&(this.model.currentPage=0)):r.hasClass("lastpage")&&r.hasClass("lastpagedisabled")!=!0?(this._LastpageCount=this.model.totalPages%this.model.pageCount,this._LastpageCount==0?this._LastpageCount=this.model.pageCount:null,this.model.currentPage=this.model.totalPages,this._lastNP=!0):r.hasClass("firstpage")&&r.hasClass("firstpagedisabled")!=!0?(this.model.currentPage=1,this._lastNP=!1):r.hasClass("NP")&&r.hasClass("nextprevitemdisabled")!=!0?(this._links!=i&&(this.model.currentPage=parseInt(this._links[0].innerHTML,10)+this.model.pageCount),parseInt(this._links[this.model.pageCount-1].innerHTML,10)+this.model.pageCount>=this.model.totalPages&&(this._lastNP=!0,this._LastpageCount=this.model.totalRecordsCount-this.model.pageSize<this.model.pageSize?this.model.totalRecordsCount-this.model.pageSize:this.model.totalRecordsCount/this.model.pageSize%this.model.pageCount,this._LastpageCount==0?this._LastpageCount=this.model.pageCount:null,this._links!=i&&(this.model.currentPage=parseInt(this._links[this.model.pageCount-1].innerHTML,10)+1))):r.hasClass("PP")&&r.hasClass("nextprevitemdisabled")!=!0&&(this._links!=i&&(this.model.currentPage=parseInt(this._links[0].innerHTML,10)-this.model.pageCount),this._lastNP=!1),this.goToPage(this.model.currentPage),!1},goToPage:function(n){n!=this.model.currentPage&&(this._prevPageNo=this.model.currentPage),this._prevPageNo!==n&&n>=1&&n<=this.model.totalPages&&(this.model.currentPage=n,this._trigger("click",{currentPage:n}))},_getLocalizedLabels:function(n){return t.Pager.localization[this.model.localization][n]===i?t.Pager.localization["en-US"][n]:t.Pager.localization[this.model.localization][n]},_setFirst:!0,_setModel:function(n){for(var t in n)switch(t){case"pageCount":this._renderNumericLinks(this.element.find("#NumericContainer"))}this.refreshPager()},_destroy:function(){this.element.empty().removeClass("e-pager")}}),t.Pager.localization={},t.Pager.localization["en-US"]={pagerInfo:"{0} of {1} pages ({2} items)"}}(jQuery,Syncfusion),function(n,t,i,r){"use strict";t.widget("ejScroller","ej.Scroller",{defaults:{height:250,width:0,oneStep:57,buttonSize:18,scrollLeft:0,scrollTop:0,scrollerSize:18,persist:!1,rtl:r},dataTypes:{height:"number",width:"number",buttonSize:"number",oneStep:"number"},keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children("div").first().addClass("content")),this._content},_setFirst:!0,_init:function(){this.content(),this._ensureScrollers(),this.model.rtl===r&&(this.model.rtl=this.element.css("direction")==="rtl"),this.model.rtl&&this.element.addClass("e-rtl"),this.model.scrollLeft&&this.content().scrollLeft(this.model.scrollLeft),this.model.scrollTop&&this.content().scrollTop(this.model.scrollTop),this._on(this.content(),"scroll",this._scroll)},_ensureScrollers:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this.isVScroll()?this._v||this.createScroller("Height","Y","Top","v",this.isHScroll()):(this._v=null,this.element.find(".vScroll").remove()),this.isHScroll()?this._h||this.createScroller("Width","X","Left","h",this.isVScroll()):(this.element.find(".hScroll").remove(),this._h=null),this.isHScroll()||this.isVScroll()?(this.content().addClass("content"),this.content().outerHeight(this.element.outerHeight()-(this.isHScroll()?this.model.scrollerSize:0)),this.content().outerWidth(this.element.outerWidth()-(this.isVScroll()?this.model.scrollerSize:0))):this.content().removeClass("content")},isHScroll:function(){return this.model.width>0&&this.content()[0].scrollWidth>this.model.width},isVScroll:function(){return this.model.height>0&&this.content()[0].scrollHeight>this.model.height},_setModel:function(n){for(var t in n)if(t==="rtl")n[t]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");else if(t==="scrollLeft")this.content().scrollLeft(this.model.scrollLeft);else if(t==="scrollTop")this.content().scrollTop(this.model.scrollTop);else{this.model.scrollTop=0,this.model.scrollLeft=0,this.refresh();break}},createScroller:function(n,t,i,r,u){var f=this["_"+r]={},e,o;f.dimension=n,f.xy=t,f.position=i,f.css=r,f.isOtherScroll=u,f.uDimension=n,e=n==="Width"?"Height":"Width",this.content()["outer"+e](this.element["outer"+e]()-(this.isVScroll()?this.model.scrollerSize:0)),this._calculateLayout(f),this._createLayout(f),o=this[f.main].find(".button"),this._off(o,"mousedown")._on(o,"mousedown",{d:f,step:1},this._spaceMouseDown),this._off(r==="v"?this.element:this[f.scroll],"mousewheel DOMMouseScroll")._on(r==="v"?this.element:this[f.scroll],"mousewheel DOMMouseScroll",{d:f},this._mouseWheel),this._off(this[f.scroll],"mousedown")._on(this[f.scroll],"mousedown",{d:f},this._spaceMouseDown),this._off(this[f.handler],"mousedown")._on(this[f.handler],"mousedown",{d:f},this._mouseDown)},_createLayout:function(n){var i="<div class='"+n.css+"{0}' style='"+n.dimension+":{1}px'>{2}<\/div>",r={},u;r[n.dimension]=n.modelDim,u=t.buildTag("div."+n.css+"Scroll",[String.format(i,"Up button",n.buttonSize),String.format(i,"HandleSpace",n.handleSpace,String.format(i,"Handle",n.handle)),String.format(i,"Down button",n.buttonSize)],r),this.element.append(u),this[n.handler]=this.element.find("."+n.handler)["outer"+n.uDimension](n.handle),this[n.scroll]=this[n.handler].parent(),this[n.main]=this[n.scroll].parent(),this[n.main].find(".button")["outer"+n.uDimension](n.buttonSize)},_calculateLayout:function(n){n.rtl=this.model.rtl===r?this.element.css("direction")==="rtl":this.model.rtl,n.rtl=n.css==="h"?n.rtl:!1,n.scrollDim="scroll"+n.dimension,n.lPosition=n.position.toLowerCase(),n.clientXy="page"+n.xy,n.scrollVal="scroll"+n.position,n.oneStep=this.model.oneStep,n.modelDim=this.model[n.dimension=n.dimension.toLowerCase()]-(n.isOtherScroll?this.model.scrollerSize:0),n.handler=n.css+"Handle",n.buttonSize=this.model.buttonSize,n.main=n.css+"Scroll",n.scroll=n.css+"ScrollSpace",n.handleSpace=n.modelDim-2*n.buttonSize,n.sScrollDim=this.content()[0][n.scrollDim],n.scrollable=n.sScrollDim-n.modelDim,n.tolStep=(n.scrollable+n.buttonSize*2)/n.oneStep,n.handle=Math.ceil(n.handleSpace/(n.tolStep<1.35?n.tolStep<=1?1:1.35:n.tolStep)),n.handle<20&&(n.handle=20),n.onePx=n.scrollable/(n.handleSpace-n.handle),n.fromScroller=!1,n.up=!0,n.vInterval=r,n.scrollable*=n.rtl?-1:1},_updateLayout:function(n){this.element.find("."+n.css+"Scroll").css(n.dimension,n.modelDim+"px").find(".button").css(n.dimension,this.model.buttonSize).end().find("."+n.css+"HandleSpace").css(n.dimension,n.handleSpace+"px").find("."+n.css+"Handle").css(n.dimension,n.handle+"px")},refresh:function(){this._ensureScrollers(),this.model.scrollLeft&&this.content().scrollLeft(this.model.scrollLeft),this.model.scrollTop&&this.content().scrollTop(this.model.scrollTop),this._v&&(this._v.dimension="Height",this.isVScroll()&&!this._calculateLayout(this._v)&&this._updateLayout(this._v)),this._h&&(this._h.dimension="Width",this.isHScroll()&&!this._calculateLayout(this._h)&&this._updateLayout(this._h))},_keyPressed:function(n,t){if(["input","select","textarea"].indexOf(t.tagName.toLowerCase())!==-1)return!0;var i,r;if(["up","down","pageUp","pageDown"].indexOf(n)!==-1)i=this._v,r="o";else if(["left","right","pageLeft","pageRight"].indexOf(n)!==-1)i=this._h,r="i";else return!0;return i?!this._changeTop(i,(n.indexOf(r)<0?-1:1)*(n[0]!=="p"?1:3)*i.oneStep):!0},scrollY:function(n,t){if(t){this.content().scrollTop(n);return}this.content().stop().animate({scrollTop:n},100,"linear")},scrollX:function(n,t){if(t){this.content().scrollLeft(n);return}this.content().stop().animate({scrollLeft:n},100,"linear")},_changeTop:function(n,t){var r=this.content()[n.scrollVal](),i=r+t;return(n.rtl?i<n.scrollable:i>n.scrollable)&&(i=n.scrollable),(n.rtl?i>0:i<0)&&(i=0),i!==r&&this["scroll"+n.xy](i,!0),i!==r},_mouseWheel:function(n){if(n.data){var t=0,r=n.data.d,u=n;(n=n.originalEvent,n.wheelDelta?(t=-n.wheelDelta/120,i.opera&&parseFloat(i.opera.version,10)<10&&(t=-t)):n.detail&&(t=n.detail/3),t)&&this._changeTop(r,t*r.oneStep)&&(n.preventDefault?n.preventDefault():u.preventDefault(),r.css==="h"&&(u.stopImmediatePropagation(),u.stopPropagation()))}},_mouseUp:function(t){if(t.data){var i=t.data.d;t.type==="mouseup"&&this[i.handler].removeClass("active"),t.type!=="mouseup"&&(t.toElement||t.relatedTarget)||(this._off(n(document),"mousemove"),n(document).off("mouseout mouseup"),i.fromScroller=!1,this[i.scroll].off("mousemove"),this[i.handler].off("mousemove").css("transition","")),i.up=!0}},_mouseDown:function(i){var r,f,u;if(i.which===1){r=i.data.d,r.fromScroller=!0,this[r.handler].css("transition","none"),u=parseInt(this[r.handler].css(r.lPosition))||0,this._on(n(document),"mousemove",function(n){var t=1;f&&n[r.clientXy]!==f&&(u+=n[r.clientXy]-f,(r.rtl?u>0:u<0)&&(t=u=0),u*(r.rtl?-1:1)+r.handle>=r.handleSpace&&(t=u=(r.handleSpace-r.handle)*(r.rtl?-1:1)),this["scroll"+r.xy](Math.ceil(u*r.onePx),!0),this[r.handler].css(r.position.toLowerCase(),u+"px")),t===1&&(f=n[r.clientXy])});n(document).one("mouseup",{d:r},t.proxy(this._mouseUp,this));n(document).mouseout({d:r},t.proxy(this._mouseUp,this))}},_spaceMouseDown:function(i){var r,u,f;if(i.data&&(r=i.data.d,i.which===1&&i.target!==this[r.handler][0])){u=(i.data.step||3)*r.oneStep,f=i.data.top||this[r.handler].offset()[r.lPosition],i[r.clientXy]=i[r.clientXy]||0,i[r.clientXy]<f&&(u*=-1),this._changeTop(r,u),i.data.step!==1&&this[r.scroll].mousemove(function(){r.up=!0}),r.up=!1,r.vInterval=setInterval(t.proxy(function(){if((u<0?f+u/r.onePx<i[r.clientXy]:f+r.handle+u/r.onePx>i[r.clientXy])&&(r.up=!0),r.up){clearInterval(r.vInterval);return}this._changeTop(r,u),f=i.data.top||this[r.handler].offset()[r.lPosition]},this),150);n(document).one("mouseup",{d:r},t.proxy(this._mouseUp,this));n(document).mouseout({d:r},t.proxy(this._mouseUp,this))}},_scroll:function(n){for(var r=[this._v,this._h],t,i=0;i<2;i++)if(t=r[i],t){if(t.sTop=n.target[t.scrollVal],this.model[t.scrollVal]=t.sTop,t.fromScroller)return;this[t.handler].css(t.lPosition,t.sTop/t.onePx+"px")}},_destroy:function(){this.element.css({width:"",height:""}).find(".vScroll,.hScoll").remove(),this.content().removeClass("content").css({width:"",height:""})}})}(jQuery,Syncfusion,window),function(n,t){t.widget("ejSlider","ej.Slider",{element:{target:null},model:null,_rootCSS:"e-slider",defaults:{orientation:"horizontal",animate:!0,animationSpeed:500,showTooltip:!0,cssClass:"",roundedCorner:!1,rtl:!1,startValue:0,endValue:100,sliderType:"default",value:0,values:null,step:1,height:null,width:null,disabled:!1,showScale:!1,largeStep:null,smallStep:null,showSmallTicks:!0,persist:!1,start:null,stop:null,slide:null,change:null},dataTypes:{orientation:"enum",animate:"boolean",animationSpeed:"number",cssClass:"string",rtl:"boolean",startValue:"number",endValue:"number",sliderType:"enum",value:"number",step:"number",disabled:"boolean",persist:"boolean"},enable:function(){this.element.hasClass("disabled")&&(this.element.removeClass("disabled"),this._wireEvents())},disable:function(){this.element.hasClass("disabled")||(this.element.addClass("disabled"),this._unWireEvents())},_setValue:function(n){this.model.sliderType=="range"||isNaN(n)||typeof n!="number"||(this._setHandleValue(n),this._raiseChangeEvent(1))},_setValues:function(n){this.model.sliderType!="range"||isNaN(n[0])||isNaN(n[1])||typeof n[0]!="number"||typeof n[1]!="number"||this._setHandlesValue(n)},_outerCorner:function(n){n?this._roundedCorner():this._sharpedCorner()},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.model.showScale&&this.ul.removeClass(this.model.cssClass).addClass(n))},getValue:function(){return this._getCurrentHandleValue()},_init:function(){this._initialize(),this._render()},_setModel:function(n){if(this.element.hasClass("disabled"))return!1;var t;for(t in n)switch(t){case"value":this._setValue(n[t]);break;case"values":this._setValues(n[t]);break;case"height":this.model.height=n[t],this._setHeightWidth();break;case"width":this.model.width=n[t],this._setHeightWidth();break;case"sliderType":this._changeSliderType(n[t]);break;case"disabled":this._disabled(n[t]);break;case"roundedCorner":this._outerCorner(n[t]);break;case"rtl":this._checkRTL(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"showScale":this._renderScale(n[t])}},_destroy:function(){this.model.showScale&&this._destroyScale(),this.element.empty(),this.element.removeClass(this.model.cssClass+" e-slider-"+this.model.orientation)},_initialize:function(){this.target=this.element[0],this.model.sliderType=="range"&&this.model.values==null&&(this.model.values=[this.model.startValue,this.model.endValue]),this.horDir="left",this.verDir="bottom",this.setHandleActive=!1,this.isActive=!1},_render:function(){this.element.addClass(this.model.cssClass),this.model.sliderType!="default"&&(this.header=t.buildTag("div.e-slider-range"),this.element.append(this.header),this.model.sliderType=="range"&&(this.secondHandle=this._createHandle())),this.firstHandle=this._createHandle(),this._setOrientation(),this._checkProperties(),this._insertHiddenField()},_renderScale:function(i){var e,o,u,k,y,p,c;if(i){var w=12,l=20,f="height",s="width",h="top",r="h";this.model.orientation=="vertical"&&(f="width",h="right",s="height",r="v"),this.model.showSmallTicks?this.model.smallStep==null&&(this.model.smallStep=this.model.step):this.model.smallStep=this.model.largeStep?this.model.largeStep:this.model.endValue-this.model.startValue,this.wrapper=t.buildTag("div.e-slider-wrapper#"+this.target.id+"_wrapper"),this.wrapper.insertAfter(this.element),e=f=="height"?this.element.height():this.element.width(),this.wrapper.css(f,e+l);var d=this.model.endValue-this.model.startValue,a=Math.abs(d)/this.model.smallStep,b=f=="height"?this.element[0].offsetWidth:this.element[0].offsetHeight,v=b/a;for(this.ul=t.buildTag("ul.e-scale "+this.model.cssClass),u=this.model.startValue,k=0,r=="v"&&(u=this.model.endValue),y=0;y<=a;y++)o=t.buildTag("li.e-tick "+r+"-tick","",{},{title:u}),o.css(s,v),u%this.model.largeStep!=0?this.model.showSmallTicks&&o.addClass("e-tick-small"):(p=t.buildTag("span.tick-value",""+u),r=="v"&&p.css("right",e+l+2),o.append(p)),this.ul.append(o),r=="h"?u+=this.model.smallStep:u-=this.model.smallStep,k+=this.model.smallStep;n(this.ul.children()[0]).addClass("first").css(s,v/2),n(this.ul.children()[a]).addClass("last").css(s,v/2),this.wrapper.append(this.ul),this.wrapper.append(this.element),this.element.css(h,-(e+11)),r=="v"&&this.element.css("top",-b).css(h,-9),this.model.rtl&&this.ul.addClass("e-rtl"),c=-(l-w)/2,this.model.largeStep==null&&r!="v"&&(c=-c),n("#"+this.target.id+"_wrapper .e-tick-small").css(f,e+w).css(h,c)}else this._destroyScale()},_destroyScale:function(){this.element.insertAfter(this.wrapper).css({top:0,right:0}),this.wrapper.remove()},_createHandle:function(){var n=t.buildTag("a.e-slider-handle e-state-default","",{},{tabindex:0});return this.element.append(n),n},_insertHiddenField:function(){this._hidden=t.buildTag("input","",{display:"none"},{type:"text",name:this.element[0].id}).val(this._getCurrentHandleValue()),this.element.append(this._hidden)},_checkProperties:function(){this.model.disabled?this.element.addClass("disabled"):this._wireEvents(),this.model.showScale&&this._renderScale(!0),this.model.rtl&&this._checkRTL(!0),this.model.roundedCorner&&this._roundedCorner(),this._handleAlignment(this.model.rtl)},_roundedCorner:function(){this.element.addClass("e-corner-all"),this.firstHandle.addClass("e-corner-all"),this.model.sliderType!="default"&&(this.header.addClass("e-corner-all"),this.model.sliderType=="range"&&this.secondHandle.addClass("e-corner-all"))},_sharpedCorner:function(){this.element.removeClass("e-corner-all"),this.firstHandle.removeClass("e-corner-all"),this.model.sliderType!="default"&&(this.header.removeClass("e-corner-all"),this.model.sliderType=="range"&&this.secondHandle.removeClass("e-corner-all"))},_handleAlignment:function(n){var t=-(this.firstHandle[0].offsetWidth/2)+"px",i;i=this.model.orientation!="vertical"?n?"0 "+t+" 0 0":"0 0 0 "+t:n?t+" 0 0 0":"0 0 "+t+" 0",this.element.find(".e-slider-handle").css("margin",i)},_checkRTL:function(n){var t=this.model.orientation!="vertical"?this.horDir:this.verDir,i;n?(this.element.addClass("e-rtl"),this.model.showScale&&this.ul.addClass("e-rtl"),this.horDir="right",this.verDir="top"):(this.element.removeClass("e-rtl"),this.model.showScale&&this.ul.removeClass("e-rtl"),this.horDir="left",this.verDir="bottom"),i=this.model.orientation!="vertical"?this.horDir:this.verDir,this.firstHandle.css(i,this.firstHandle.css(t)).css(t,"auto"),this.model.sliderType!="default"&&(this.header.css(i,this.header.css(t)).css(t,"auto"),this.model.sliderType=="range"&&this.secondHandle.css(i,this.secondHandle.css(t)).css(t,"auto")),this._handleAlignment(n)},_setOrientation:function(){this.model.orientation!="vertical"?this.element.addClass("e-slider-horizontal"):(this.element.addClass("e-slider-vertical"),this.firstHandle.css(this.verDir,"0")),this._setHeightWidth(),this._initializeDefaultValues(),this._setRangeShadow()},_setHeightWidth:function(){this.model.width&&this.element.width(this.model.width),this.model.height&&this.element.height(this.model.height),this._setHandleSize()},_setHandleSize:function(){var t;t=this.model.orientation!="vertical"?this.element.height()+4:this.element.width()+4,n("#"+this.target.id+" .e-slider-handle").height(t).width(t)},_disabled:function(n){n?this.disable():this.enable()},_changeSliderType:function(n){this.model.sliderType=n,this._destroy(),this._init()},_showTooltip:function(i){this.model.showTooltip&&(n("body .e-slider-tooltip").remove(),this.tooltip=t.buildTag("div.e-slider-tooltip "+this.model.cssClass+" e-corner-all"),n("body").append(this.tooltip),this._setTooltipPosition(i))},_hideTooltip:function(){this.model.showTooltip&&this.tooltip.fadeOut(800)},_showhideTooltip:function(n,t){this.model.showTooltip&&t&&(this._showTooltip(n),this._hideTooltip())},_setTooltipPosition:function(n){if(this.model.showTooltip){this._updateTooltipValue();var u,f,i,r,t,e=5;t=n==1?this.firstHandle:this.secondHandle,this.model.orientation=="vertical"?(r=(this.tooltip[0].offsetHeight-t[0].offsetHeight)/2,i=t[0].offsetWidth+e,u=t.offset().top-r,f=t.offset().left+i):(i=(this.tooltip[0].offsetWidth-t[0].offsetWidth)/2,r=this.tooltip[0].offsetHeight+e,u=t.offset().top-r,f=t.offset().left-i),this.tooltip.css({top:u,left:f})}},_updateTooltipValue:function(){var t=0,i=1,n;this.model.rtl&&(t=1,i=0),n=this._getCurrentHandleValue(),this.tooltip[0].innerHTML=this.model.sliderType!="range"?n:n[t]+" - "+n[i]},_setRangeShadow:function(){if(this.model.sliderType!="default"){var i="width",n=this.horDir,t={};this.model.orientation=="vertical"&&(i="height",n=this.verDir),this.model.sliderType=="range"?(t[i]=this.handlePos-this.handlePos2+"%",t[n]=this.handlePos2+"%",this.secondHandle.css(n,this.handlePos2+"%")):this.model.sliderType=="minrange"&&(t[i]=this.handlePos+"%",t[n]=0),this.firstHandle.css(n,this.handlePos+"%"),this.header.css(t)}},_increaseHeaderWidth:function(n){if(this.model.sliderType!="default"){var i="width",r=this.horDir,t={};this.model.orientation=="vertical"&&(i="height",r=this.verDir),this.model.sliderType=="range"?(t[i]=this.handlePos-this.handlePos2+"%",t[r]=this.handlePos2+"%"):(t[i]=this.handlePos+"%",t[r]=0),n?this.header.animate(t,this.model.animationSpeed):this.header.css(t)}},_initializeDefaultValues:function(){this.model.sliderType=="range"?(this.handleVal2=this._checkHandleValue(this.model.values[0]),this.handlePos2=this._checkHandlePosition(this.handleVal2),this.preHandlePos2=this.handlePos2,this.handleVal=this._checkHandleValue(this.model.values[1]),this.handlePos=this._checkHandlePosition(this.handleVal),this.preHandlePos=this.handlePos):this.model.value!=0?this._setHandleValue(this.model.value):(this.handlePos=this.model.value,this.handleVal=this.model.startValue,this.preHandlePos=this.handlePos)},_hoverOnHandle:function(t){n(t.target).addClass("e-state-hover")},_leaveFromHandle:function(t){n(t.target).removeClass("e-state-hover")},_firstHandleClick:function(t){t.preventDefault(),this.mouseDownPos=this.handlePos,this.model.start&&this._raiseEvent("start",1),n(document).bind("mousemove",n.proxy(this._firstHandleMove,this)),n(document).bind("mouseup",n.proxy(this._firstHandleUp,this)),this._showTooltip(1)},_firstHandleMove:function(n){n.preventDefault();var t={x:n.pageX,y:n.pageY};this.handlePos=this._getHandlePosition(t),this.model.sliderType!="default"&&this.handlePos<this.handlePos2&&(this.handlePos=this.handlePos2),this.handlePos!=this.preHandlePos&&(this.preHandlePos=this.handlePos,this.handleVal=this._getHandleValue(this.handlePos),this._setHandlePosition(this.handlePos,1,!1,!1),this._increaseHeaderWidth(!1),this.model.slide&&this._raiseEvent("slide",1)),this._setTooltipPosition(1)},_firstHandleUp:function(t){t.preventDefault(),n(document).unbind("mousemove",n.proxy(this._firstHandleMove,this)),n(document).unbind("mouseup",n.proxy(this._firstHandleUp,this)),this._increaseHeaderWidth(!1),this.model.stop&&this._raiseEvent("stop",1),this.mouseDownPos!=this.handlePos&&this._raiseChangeEvent(1),this._setZindex(1),this._hideTooltip()},_secondHandleClick:function(t){t.preventDefault(),this.mouseDownPos2=this.handlePos2,this.model.start&&this._raiseEvent("start",2),n(document).bind("mousemove",n.proxy(this._secondHandleMove,this)),n(document).bind("mouseup",n.proxy(this._secondHandleUp,this)),this._showTooltip(2)},_secondHandleMove:function(n){n.preventDefault();var t={x:n.pageX,y:n.pageY};this.handlePos2=this._getHandlePosition(t),this.model.sliderType!="default"&&this.handlePos2>this.handlePos&&(this.handlePos2=this.handlePos),this.handlePos2!=this.preHandlePos2&&(this.preHandlePos2=this.handlePos2,this.handleVal2=this._getHandleValue(this.handlePos2),this._setHandlePosition(this.handlePos2,2,!1,!1),this._increaseHeaderWidth(!1),this.model.slide&&this._raiseEvent("slide",2)),this._setTooltipPosition(2)},_secondHandleUp:function(t){t.preventDefault(),n(document).unbind("mousemove",n.proxy(this._secondHandleMove,this)),n(document).unbind("mouseup",n.proxy(this._secondHandleUp,this)),this.model.stop&&this._raiseEvent("stop",2),this.mouseDownPos2!=this.handlePos2&&this._raiseChangeEvent(2),this._setZindex(2),this._hideTooltip()},_focusElement:function(){this.model.sliderType=="range"?this.secondHandle.focus():this.firstHandle.focus()},_focusInHandle:function(t){this.isActive||(this.isActive=!0,n(document).bind("keydown",n.proxy(this._moveHandle,this)),n(document).bind("mousedown",n.proxy(this._documentClick,this))),n(t.target).addClass("e-focused"),this.activeHandle=t.target==this.firstHandle[0]?1:2},_focusOutHandle:function(t){n(t.target).removeClass("e-focused"),this.isActive=!1,n(document).unbind("keydown",n.proxy(this._moveHandle,this)),n(document).unbind("mousedown",n.proxy(this._documentClick,this))},_moveHandle:function(n){var t="none",r,u,i;switch(n.keyCode){case 37:case 40:n.preventDefault(),t="sub";break;case 38:case 39:n.preventDefault(),t="add";break;case 36:n.preventDefault(),this.model.sliderType!="range"?this._changeHandleValue(this.model.startValue,1,this.model.animate):(r=this.activeHandle==2?this.model.startValue:this.handleVal2,this._changeHandleValue(r,this.activeHandle,this.model.animate));break;case 35:n.preventDefault(),this.model.sliderType!="range"?this._changeHandleValue(this.model.endValue,this.activeHandle,this.model.animate):(r=this.activeHandle==1?this.model.endValue:this.handleVal,this._changeHandleValue(r,this.activeHandle,this.model.animate));break;case 27:n.preventDefault(),u=this.activeHandle==1?this.firstHandle:this.secondHandle,u.focusout()}(t=="add"||t=="sub")&&(this.activeHandle==1?(this.preHandlePos=this.handlePos,i=t=="add"?this.handleVal+this.model.step:this.handleVal-this.model.step,t=="sub"&&this.model.sliderType=="range"&&i<this.handleVal2&&(i=this.handleVal2)):(this.preHandlePos2=this.handlePos2,i=t=="add"?this.handleVal2+this.model.step:this.handleVal2-this.model.step,t=="add"&&i>this.handleVal&&(i=this.handleVal)),this._changeHandleValue(i,this.activeHandle,!1))},_changeHandleValue:function(n,t,i){t==1?(this.handleVal=this._checkHandleValue(n),this.handlePos=this._checkHandlePosition(this.handleVal),n=this.handlePos):(this.handleVal2=this._checkHandleValue(n),this.handlePos2=this._checkHandlePosition(this.handleVal2),n=this.handlePos2),this._setHandlePosition(n,t,i,!0),this._increaseHeaderWidth(i),this._raiseChangeEvent(t)},_documentClick:function(n){if(n.target!=this.element[0]&&n.target!=this.firstHandle[0]){if(this.model.sliderType!="default"&&n.target==this.header[0]||this.model.sliderType=="range"&&n.target==this.secondHandle[0])return!1;var t=this.activeHandle==1?this.firstHandle:this.secondHandle;t.focusout()}},_sliderBarClick:function(n){n.preventDefault();var i={x:n.pageX,y:n.pageY},t=this._getHandlePosition(i);n.target==this.firstHandle[0]||this.model.sliderType=="range"&&n.target==this.secondHandle[0]?n.target.focus():this.setHandleActive=!0,this.model.sliderType=="default"?n.target==this.target&&(this.handleVal=this._getHandleValue(t),this.handlePos=t,this.preHandlePos=this.handlePos,this._setHandlePosition(t,1,this.model.animate,!0),this._raiseChangeEvent(1)):this.model.sliderType=="range"?(n.target==this.target||n.target==this.header[0])&&(this.handlePos-t>t-this.handlePos2?(this.handlePos2=t,this.handleVal2=this._getHandleValue(t),this.preHandlePos2=this.handlePos2,this._setHandlePosition(t,2,this.model.animate,!0),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(2)):(this.handlePos=t,this.handleVal=this._getHandleValue(t),this.preHandlePos=this.handlePos,this._setHandlePosition(t,1,this.model.animate,!0),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(1))):(n.target==this.target||n.target==this.header[0])&&(this.handlePos=t,this.handleVal=this._getHandleValue(t),this.preHandlePos=this.handlePos,this._setHandlePosition(t,1,this.model.animate,!0),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(1))},_setHandlePosition:function(n,t,i,r){var u=t==1?this.firstHandle:this.secondHandle,e=this.horDir,f={},o;this.model.orientation=="vertical"&&(e=this.verDir),f[e]=n+"%",i?(o=this,u.animate(f,this.model.animationSpeed,function(){o._showhideTooltip(t,r)})):(u.css(f),this._showhideTooltip(t,r)),this.setHandleActive&&(this.setHandleActive=!1,u.focus())},_getHandlePosition:function(n){if(this.model.startValue==this.model.endValue)return 100;if(this.model.orientation!="vertical")var r=n.x-this.element.offset().left,i=this.element.width()/100,t=r/i;else var u=n.y-this.element.offset().top,i=this.element.height()/100,t=100-u/i;return(t=this._stepValueCalculation(t),t<0?t=0:t>100&&(t=100),this.model.rtl)?100-t:t},_setHandleValue:function(n){this.handleVal=this._checkHandleValue(n),this.handlePos=this._checkHandlePosition(this.handleVal),this.preHandlePos=this.handlePos,this._setHandlePosition(this.handlePos,1,this.model.animate,!1),this._increaseHeaderWidth(this.model.animate)},_setHandlesValue:function(n){this.handleVal=this._checkHandleValue(n[1]),this.handleVal2=this._checkHandleValue(n[0]),this.handlePos=this._checkHandlePosition(this.handleVal),this.handlePos2=this._checkHandlePosition(this.handleVal2),this.handlePos<this.handlePos2&&(this.handlePos=this.handlePos2,this.handleVal=this.handleVal2),this._setHandlePosition(this.handlePos,1,this.model.animate,!1),this._setHandlePosition(this.handlePos2,2,this.model.animate,!1),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(1)},_checkHandlePosition:function(n){if(this.model.startValue==this.model.endValue)return this.model.startValue;var t=this._tempStartEnd();return n>=t.start&&n<=t.end?100*(n-this.model.startValue)/(this.model.endValue-this.model.startValue):n<t.start?0:100},_checkHandleValue:function(n){if(this.model.startValue==this.model.endValue)return this.model.startValue;var t=this._tempStartEnd();return n<t.start?n=t.start:n>t.end&&(n=t.end),n},_tempStartEnd:function(){var n,t;return this.model.startValue>this.model.endValue?(n=this.model.endValue,t=this.model.startValue):(n=this.model.startValue,t=this.model.endValue),{start:n,end:t}},_getHandleValue:function(n){var i=this.model.endValue-this.model.startValue,r=i*n/100,t=r+this.model.startValue;return t%this.model.step!=0?Math.round(t):t},_getCurrentHandle:function(n){return this.model.sliderType=="range"&&n==1?2:1},_getCurrentHandleValue:function(){return this.model.sliderType!="range"?this.handleVal:[this.handleVal2,this.handleVal]},_raiseChangeEvent:function(n){var t=this._getCurrentHandleValue();this._updateModelValue(t),this._hidden.val(t),this.model.change&&this._raiseEvent("change",n)},_raiseEvent:function(n,t){var i=t!=2?this._getCurrentHandle(t):1;this._trigger(n,{id:this.target.id,handleValue:this._getCurrentHandleValue(),handleNo:i})},_updateModelValue:function(n){this.model.sliderType!="range"?this.model.value=n:this.model.values=n},_setZindex:function(n){this.model.sliderType=="range"&&(n==1?(this.firstHandle.css("z-index",2),this.secondHandle.css("z-index",1)):(this.firstHandle.css("z-index",1),this.secondHandle.css("z-index",2)))},_stepValueCalculation:function(n){this.model.step==0&&(this.model.step=1);var i=this.model.step/((this.model.endValue-this.model.startValue)/100),t=n%Math.abs(i);return t!=0&&(i/2>t?n-=t:n+=Math.abs(i)-t),n},_wireEvents:function(){this._on(this.element,"mousedown",this._sliderBarClick),this._on(this.element,"focus",this._focusElement),this._on(this.firstHandle,"mousedown",this._firstHandleClick),this._on(this.firstHandle,"mouseenter",this._hoverOnHandle),this._on(this.firstHandle,"mouseleave",this._leaveFromHandle),this._on(this.firstHandle,"focus",this._focusInHandle),this._on(this.firstHandle,"focusout",this._focusOutHandle),this.model.sliderType=="range"&&(this._on(this.secondHandle,"mousedown",this._secondHandleClick),this._on(this.secondHandle,"mouseenter",this._hoverOnHandle),this._on(this.secondHandle,"mouseleave",this._leaveFromHandle),this._on(this.secondHandle,"focus",this._focusInHandle),this._on(this.secondHandle,"focusout",this._focusOutHandle))},_unWireEvents:function(){this.element.unbind("mousedown"),this.element.unbind("focus"),this.firstHandle.unbind("mousedown"),this.firstHandle.unbind("mouseenter"),this.firstHandle.unbind("mouseleave"),this.firstHandle.unbind("focus"),this.firstHandle.unbind("focusout"),this.model.sliderType=="range"&&(this.secondHandle.unbind("mousedown"),this.secondHandle.unbind("mouseenter"),this.secondHandle.unbind("mouseleave"),this.secondHandle.unbind("focus"),this.secondHandle.unbind("focusout"))}}),t.sliderType={Default:"default",Range:"range",MinRange:"minrange"}}(jQuery,Syncfusion),function(n,t){t.widget("ejSplitButton","ej.SplitButton",{element:null,model:null,_rootCSS:"e-splitbutton",defaults:{size:"normal",width:"",height:"",disabled:!1,text:null,contentType:"textonly",imagePosition:"imageleft",targetId:null,roundedCorner:!0,prefixIcon:null,suffixIcon:null,cssClass:"",rtl:!1,create:null,click:null,itemMouseOver:null,itemMouseOut:null,itemSelected:null,destroy:null},dataTypes:{size:"string",height:"string",width:"string",disabled:"boolean",roundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",targetId:"string",prefixIcon:"string",suffixIcon:"string",cssClass:"string",rtl:"boolean"},disable:function(){this.element.addClass("e-state-disabled e-bgdisable"),this.dropbutton.addClass("e-state-disabled e-bgdisable"),this.element.removeClass("e-bgdefault"),this.dropbutton.removeClass("e-bgdefault")},enable:function(){this.element.removeClass("e-state-disabled e-bgdisable"),this.dropbutton.removeClass("e-state-disabled e-bgdisable"),this.element.addClass("e-bgdefault"),this.dropbutton.addClass("e-bgdefault")},_init:function(){this._initialize(),this._controlStatus(this.model.disabled),this._wireEvents()},_destroy:function(){this.element.removeClass(this.model.cssClass+" e-bgdefault e-corner-left"),this.element.removeClass(this.model.cssClass+" e-state-disabled e-disable-bgdefault e-corner-left"),this.dropbutton.remove(),n("#"+this.model.targetId).ejMenu("destroy"),n("#"+this.model.targetId).insertAfter(this.element),n("#"+this.model.targetId).show()},_setModel:function(t){var i;for(i in t)switch(i){case"size":this._setSize(t[i]);break;case"width":this._splitbtnWidth(t[i]);break;case"height":this._splitbtnHeight(t[i]);break;case"contentType":this._setContentType(t[i]);break;case"imagePosition":this._setImagePosition(t[i]);break;case"text":this._setText(t[i]);break;case"prefixIcon":this._setMajorIcon(t[i]);break;case"suffixIcon":this._setMinorIcon(t[i]);break;case"disabled":this._controlStatus(t[i]);break;case"targetId":this._setTargetId(t[i]);break;case"roundedCorner":this._roundedCorner(t[i]);break;case"cssClass":this._setSkin(t[i]);break;case"rtl":this._setRTL(t[i]),n("#"+this.model.targetId).ejMenu({rtl:t[i]});break;case"itemMouseOver":n("#"+this.model.targetId).ejMenu({mouseOver:t[i]});break;case"itemMouseOut":n("#"+this.model.targetId).ejMenu({mouseOut:t[i]});break;case"itemSelected":n("#"+this.model.targetId).ejMenu({click:t[i]})}},_setText:function(n){this.model.contentType==t.contents.textOnly?this.element.html(n):this.textspan.html(n)},_setMajorIcon:function(n){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(n)},_setMinorIcon:function(n){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(n)},_setTargetId:function(n){this.model.targetId=n,this._renderContxtMenu()},_setContentType:function(n){n!=this.model.contentType&&(this.element.empty(),this.model.contentType=n,this._renderButtonContent())},_setImagePosition:function(n){this.model.contentType==t.contents.textAndImage&&n!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=n,this._renderButtonContent())},_setRTL:function(n){n?(this.splitwrap.addClass("e-rtl btnrtl"),this.dropbutton.css("border-right","medium none"),this.dropbutton.css("border-left","")):(this.splitwrap.removeClass("e-rtl btnrtl"),this.dropbutton.css("border-left","medium none"),this.dropbutton.css("border-right","")),this.model.rtl=n,this._roundedCorner(this.model.roundedCorner)},_roundedCorner:function(n){n?this.model.rtl?(this.element.addClass("e-corner-right"),this.dropbutton.addClass("e-corner-left"),this.element.removeClass("e-corner-left"),this.dropbutton.removeClass("e-corner-right")):(this.element.addClass("e-corner-left"),this.dropbutton.addClass("e-corner-right"),this.element.removeClass("e-corner-right"),this.dropbutton.removeClass("e-corner-left")):this.model.rtl?(this.element.removeClass("e-corner-right"),this.dropbutton.removeClass("e-corner-left")):(this.element.removeClass("e-corner-left"),this.dropbutton.removeClass("e-corner-right"))},_controlStatus:function(n){n?this.disable():this.enable()},_setSkin:function(t){this.element.removeClass(this.model.cssClass),this.dropbutton.removeClass(this.model.cssClass),this.element.addClass(t),this.dropbutton.addClass(t),n("#"+this.model.targetId).ejMenu("option","skin",t)},_initialize:function(){this.element.is("button")?this._render():this.element.removeClass("e-splitbutton"),this._timeout=null},_render:function(){this.element.addClass(this.model.cssClass),(this.model.text==null||this.model.text=="")&&(this.model.text=this.element.text()),this.element.empty(),this.splitwrap=t.buildTag("div.e-splitwidget"),this.splitwrap.insertBefore(this.element),this.dropbutton=t.buildTag("button.e-splitbutton "+this.model.cssClass+" e-drpbtn#"+this.element[0].id+"drpbtn"),this.dropdownimg=t.buildTag("span.e-btnimg splitarrowicon"),this.btnimgwrap=t.buildTag("div.e-splitbuttondiv"),this.btnimgwrap.append(this.dropdownimg),this.dropbutton.append(this.btnimgwrap),this.dropbutton.insertAfter(this.element),this.model.contentType==t.contents.textOnly?this.dropbutton.addClass("e-rhtbtntxtspan"):this.dropbutton.addClass("e-rhtbtnspan"),this._setSize(this.model.size),this.element.addClass("e-leftbtnspan"),this._renderButtonContent(),this.splitwrap.append(this.element,this.dropbutton),this._renderContxtMenu(),this._roundedCorner(this.model.roundedCorner),this._setRTL(this.model.rtl)},_renderButtonContent:function(){this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.majorimgtag=t.buildTag("span.e-icons "+this.model.prefixIcon),this.minorimgtag=t.buildTag("span.e-icons "+this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div.e-splitbuttondiv"),this.model.contentType==t.contents.textAndImage?this.model.imagePosition==t.imagePositions.imageRight?(this.majorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.textspan,this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.majorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag,this.textspan),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageTextImage?(this.majorimgtag.addClass("e-btnimg"),this.minorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageBoth?(this.majorimgtag.addClass("e-btnimg"),this.minorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageOnly?(this.majorimgtag.addClass("e-btnimg"),this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-inpttxt"),this.element.text(this.model.text))},_setSize:function(n){var t=this.model.height,i=this.model.width;switch(n){case"mini":t==""&&(t="28px"),i==""&&(i="43px"),this._splitbtnHeight(t),this._splitbtnWidth(i),this.element.css("font-size","12px");break;case"small":t==""&&(t="32px"),i==""&&(i="69px"),this._splitbtnHeight(t),this._splitbtnWidth(i),this.element.css("font-size","13px");break;case"medium":t==""&&(t="36px"),i==""&&(i="93px"),this._splitbtnHeight(t),this._splitbtnWidth(i),this.element.css("font-size","14px");break;case"large":t==""&&(t="40px"),i==""&&(i="108px"),this.element.css("font-size","15px"),this._splitbtnHeight(t),this._splitbtnWidth(i);break;default:this._splitbtnHeight(t),this._splitbtnWidth(i)}},_splitbtnHeight:function(n){(n==""||n==null)&&(n="30px"),this.splitwrap.css("height",n),this.dropbutton.css("height",n),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&this.element.css("height",this.dropbutton.outerHeight())},_splitbtnWidth:function(n){this.splitwrap.css("width",n)},_renderContxtMenu:function(){n("#"+this.model.targetId).ejMenu({menuType:t.menuType.ContextMenu,openOnClick:!1,contextTargetId:"",showArrow:!0,cssClass:this.model.cssClass,rtl:this.model.rtl,mouseOver:this.model.itemMouseOver,mouseOut:this.model.itemMouseOut,click:this.model.itemSelected})},_wireEvents:function(){this._on(this.element,"click",this._btnMouseClick),this._on(this.element,"mousedown",this._btnMouseDown),this._on(this.dropbutton,"click",this._btnMouseClick),this._on(this.dropbutton,"mousedown",this._btnMouseDown),this._on(n(document),"click",this._hidecontext),this._on(n(document),"mousedown",this._docrhtclk)},_btnMouseClick:function(t){var e,i,r,u,f;n(t.currentTarget).hasClass("e-state-disabled")||(t.currentTarget.id!=this.element[0].id+"drpbtn"?(e={target:t.currentTarget,status:this.model.disabled},this._trigger("click",e)):(f=this.dropbutton,i=this.dropbutton.offset(),r=i.left,u=i.top+this.dropbutton.height(),this.contstatus?this._hidecontext(t):(this.model.rtl?(n("#"+this.model.targetId).ejMenu("ShowContextMenu",r-(n("#"+this.model.targetId).width()-this.dropbutton.width()),u,f,t),this.contstatus=!0):(n("#"+this.model.targetId).ejMenu("ShowContextMenu",r,u,f,t),this.contstatus=!0),n(document).bind("mousedown",n.proxy(this._hidecontext,this)))))},_btnMouseDown:function(t){n(t.currentTarget).hasClass("e-state-disabled")||this._docrhtclk(t)},_hidecontext:function(t){n("#"+this.model.targetId).ejMenu("HideContextMenu",t),this.contstatus=!1,n(document).unbind("mousedown",n.proxy(this._hidecontext,this))},_docrhtclk:function(n){var t,i;t=!1,n.button?t=n.button==2:n.which&&(t=n.which==3),i=n.target,t&&n.preventDefault()}}),t.contents={textOnly:"textonly",imageOnly:"imageonly",imageBoth:"imageboth",textAndImage:"textandimage",imageTextImage:"imagetextimage"},t.imagePositions={imageRight:"imageright",imageLeft:"imageleft"},t.buttonSize={mini:"mini",small:"small",medium:"medium",large:"large"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTimePicker","ej.TimePicker",{element:{target:null},model:null,_rootCSS:"e-timepicker",defaults:{cssClass:"",timeFormat:"h:mm tt",time:null,localize:"en-EN",disableManualInput:!1,showButton:!0,interval:30,hourInterval:1,minInterval:1,secInterval:1,height:26,width:110,minTime:null,maxTime:null,roundedCorner:!1,rtl:!1,popupHeight:null,popupWidth:null,persist:!1,change:null,cultureChange:null},dataTypes:{timeFormat:"string",time:"string",minTime:"string",maxTime:"string",interval:"number",showButton:"boolean",localize:"string",hourInterval:"number",minInterval:"number",secInterval:"number",persist:"boolean"},enable:function(){this.element[0].disabled=!1,this.wrapper.removeClass("disabled")},disable:function(){this.element[0].disabled=!0,this.wrapper.addClass("disabled")},getTime:function(){return this.element.val()},updateCurrentTime:function(){this.wrapper.hasClass("disabled")||this._setMask()},_timeFormat:function(n){var t=this._validateTimeFormat(n);return t&&this.element.val(this._localizeTime(this.getTime(),t)),t},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.wrapper.removeClass(this.model.cssClass).addClass(n))},_localize:function(t){var s=this.model.localize,r,u=this.model.timeFormat.split(" "),e="",i="",f=!1,o;for(this.model.localize=t,r=0;r<u.length;r++)u[r]!="tt"?(o=this.target.value.split(" ")[r].replace(new RegExp(this.seperator,"gi"),":"),i=this._localizeTime(o,u[r])):u[r]=="tt"&&(i=this.target.value.split(" ")[r],i==this.ttAM?(this._getAmPm(),i=this.ttAM,f=!0):i==this.ttPM&&(this._getAmPm(),i=this.ttPM,f=!0),i||(i="")),e+=i+" ";f||this._getAmPm(),this.element.val(n.trim(e)),this.model.cultureChange&&this._trigger("cultureChange",{preCulture:s,culture:t})},_init:function(){this._initialize(),this._render(),this._wireEvents()},_setModel:function(n){var t,i;if(this.wrapper.hasClass("disabled"))return!1;for(t in n)switch(t){case"timeFormat":i=this._timeFormat(n[t]),n[t]=i?i:this.model.timeFormat,this.model.timeFormat=n[t],this.seperator=this._getSeperator(),this.model.showButton&&this._reRenderDropdown();break;case"localize":this._localize(n[t]),this.model.showButton&&this._reRenderDropdown();break;case"interval":this.model.interval=n[t],this.model.showButton&&this._reRenderDropdown();break;case"showButton":this._showButton(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"roundedCorner":this._checkRoundedCorner(n[t]);break;case"rtl":this._checkRTL(n[t]);break;case"height":this.element.height(n[t]);break;case"width":this.element.width(n[t]),this.element.width(this.element.width()-this.ddWidth),this._setListWidth();break;case"minTime":this._isValid(n[t])?(this.model.minTime=n[t],this.model.showButton&&this._reRenderDropdown()):n[t]=null;break;case"maxTime":this._isValid(n[t])?(this.model.maxTime=n[t],this.model.showButton&&this._reRenderDropdown()):n[t]=null;break;case"time":this._isValid(n[t])?(this.model.time=n[t],this._enableMask()):n[t]=this.getTime()}},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-rtl e-input "+this.model.cssClass).val(""),this.popupList&&this.popupList.remove()},_initialize:function(){this.target=this.element[0],this.timeIcon=null,this.focused=!1,this.start=0,this.end=0,this.increment=null,this.min=null,this.max=null,this.incomplete=!1,this.downPosition=0,this.amLength=2,this.pmLength=2,this._getAmPm(),this._timeListID="#"+this.target.id+"_popup ul li",this.showDropdown=!1,this._activeItem=0,this._manualFocus=!1,this.seperator=this._getSeperator(),this.ddWidth=0},_render:function(){this.element.addClass("e-input "+this.model.cssClass).attr({ondragstart:"return false",draggable:"false"}),this.wrapper=t.buildTag("span.e-timepicker-wrapper "+this.model.cssClass+"#"+this.target.id+"_timepicker_wrapper"),this.wrapper.insertAfter(this.element),this.wrapper.append(this.element),this._validateTimes(),this._renderTimeIcon(),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._enableMask()},_renderTimeIcon:function(){this.timeIcon=t.buildTag("span.e-imgcontainer");var n=t.buildTag("span.e-time-icon");this.timeIcon.append(n),this.wrapper.append(this.timeIcon),this.ddWidth=this.timeIcon[0].offsetWidth>0?this.timeIcon[0].offsetWidth:24},_renderDropdown:function(){if(this.popupList)return!1;this.popupList=t.buildTag("div.e-time-popup "+this.model.cssClass+"#"+this.target.id+"_popup","",{visibility:"hidden"}),this.model.roundedCorner&&this.popupList.addClass("e-corner-all"),this.ul=t.buildTag("ul");var i=t.buildTag("div").append(this.ul);this.popupList.append(i),n("body").append(this.popupList),this._renderLiTags(),this._setListHeight(),this._setListWidth(),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css({display:"none",visibility:"visible"})},_renderLiTags:function(){if(this.model.interval<1)return!1;for(var u,i=this.model.minTime?this._createObject(this.model.minTime):this._createObject("12:00:00 AM"),r=this.model.maxTime?this._createObject(this.model.maxTime):this._createObject("11:59:59 PM");this._compareTime(r,i,!0);)u=this._localizeTime(i,this.model.timeFormat),this.ul.append(t.buildTag("li",u)),i=this._createObject(i).getTime()+this.model.interval*6e4;this._on(n(this._timeListID),"mouseenter",n.proxy(this._OnMouseEnter,this)),this._on(n(this._timeListID),"mouseleave",n.proxy(this._OnMouseLeave,this)),this._on(n(this._timeListID),"mousedown",n.proxy(this._OnMouseClick,this))},_reRenderDropdown:function(){this.ul.empty(),this._renderLiTags(),this._refreshScroller(),this.model.time=this.getTime(),this._enableMask()},_refreshScroller:function(){this.popupList.css("height","auto"),this.popupList.find(".content, .vScroll").removeAttr("style"),this.popupList.find(".vScroll div").removeAttr("style"),this.popupList.css({display:"block",visibility:"hidden"}),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this.popupList.css({display:"none",visibility:"visible"})},_setListWidth:function(){this.model.popupWidth?this.popupList.width(this.model.popupWidth):this.popupList.css("min-width",this.element.width()+this.ddWidth)},_setListHeight:function(){this.popupList.css({"max-height":this.model.popupHeight||"189px"})},_setListPosition:function(){var n=this.wrapper?this.wrapper.offset():this.element.offset(),t=n.left,i=this.wrapper.outerHeight(),r=(i-this.wrapper.height())/2,u=this._getZindexPartial();this.model.rtl&&(t-=this.popupList.outerWidth()-this.wrapper.outerWidth()),this.popupList.css({left:t+"px",top:n.top+i-r+3+"px","z-index":u})},_getZindexPartial:function(){var u="#"+this.target.id+"_popup",r=this.element.parents(),f=r.length,e=n("body").children(":not("+u+")"),t;return n(e).each(function(n,t){r[f+n]=t}),t=Math.max.apply(t,n.map(r,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),t==i||t==null||t<1e4?t=1e4:t+=1,t},_enableMask:function(){this.model.minTime||this.model.maxTime?this.model.time?this.model.minTime&&this._compareTime(this.model.minTime,this.model.time)?this._setTime(this.model.minTime):this.model.maxTime&&this._compareTime(this.model.time,this.model.maxTime)?this._setTime(this.model.maxTime):this._setTime(this.model.time):this._setTime(this.model.minTime):this.model.time?this._setTime(this.model.time):this._setMask()},_validateTimes:function(){this._isValid(this.model.minTime)||(this.model.minTime=null),this._isValid(this.model.maxTime)||(this.model.maxTime=null),this._isValid(this.model.time)||(this.model.time=null),this.model.minTime&&this.model.maxTime&&this._compareTime(this.model.minTime,this.model.maxTime)&&(this.model.maxTime=null)},_checkProperties:function(){this._checkRTL(this.model.rtl);var n=this._validateTimeFormat(this.model.timeFormat);this.model.timeFormat=n?n:this.defaults.timeFormat,this.model.roundedCorner&&(this.wrapper.addClass("e-corner-all"),this.popupList&&this.popupList.addClass("e-corner-all")),this.model.showButton||this._showButton(!1),this._checkNameAttr()},_checkRTL:function(n){n?(this.model.showButton?this.wrapper.css("padding","0 0 0 "+this.ddWidth+"px"):this.wrapper.css("padding","0"),this.element.addClass("e-rtl"),this.timeIcon.addClass("e-rtl"),this.popupList&&this.popupList.addClass("e-rtl")):(this.model.showButton?this.wrapper.css("padding","0 "+this.ddWidth+"px 0 0"):this.wrapper.css("padding","0"),this.element.removeClass("e-rtl"),this.timeIcon.removeClass("e-rtl"),this.popupList&&this.popupList.removeClass("e-rtl"))},_showButton:function(n){this.model.showButton=n,n?(this.timeIcon.css("display","block"),this.element.width(this.element.width()-this.ddWidth),this._renderDropdown(),this._checkRTL(this.model.rtl)):(this.timeIcon.css("display","none"),this.wrapper.css("padding","0"),this.element.width(this.element.width()+this.ddWidth),this.popupList.remove(),this.popupList=null)},_checkRoundedCorner:function(n){n?(this.wrapper.addClass("e-corner-all"),this.popupList&&this.popupList.addClass("e-corner-all")):(this.wrapper.removeClass("e-corner-all"),this.popupList&&this.popupList.removeClass("e-corner-all"))},_checkNameAttr:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id})},_getAmPm:function(){this.ttAM=n.trim(this._localizeMeridian("00:00")),this.ttPM=n.trim(this._localizeMeridian("23:00")),this.amLength=this.ttAM.length,this.pmLength=this.ttPM.length},_setDimentions:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this.element.width(this.element.width()-this.ddWidth)},_setTime:function(n){var t=this._localizeTime(n,this.model.timeFormat);t.indexOf("NaN")==-1?this.element.val(t):this._setMask()},_validateTimeFormat:function(t){var i=t.split(" "),r="";return i.length==1||i.length==2?(n(i).each(function(t,i){r+=n.trim(i)+" "}),n.trim(r)):null},_setMask:function(){var n=this._localizeTime(new Date,this.model.timeFormat);this.element.val(n)},_getSeperator:function(){for(var i=this._getElePlace(),t=this.model.timeFormat.split(" ")[i.time],r=new RegExp("^[a-zA-Z0-9]+$"),n=0;n<t.length;n++)if(!r.test(t[n]))return t[n]},_checkInComplete:function(){var r=this._getCaretSelection(),i="00",t=this._getSelectedValue(),n=this._getCurrentPart();return n!="tt"&&(this._findCategoryPosition(n),t=="__"?((n=="h"||n=="hh")&&(i="12"),this._changeToDefault(i)):n.length!=1&&t.length==1&&(t=this._changeWhole(t),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))),n},_changeToDefault:function(n){this.incomplete=!0,this.element[0].value=this._replaceAt(this.target.value,this.start,this.end,n),this._setSelection(this.start,this.end),this._raiseChangeEvent()},_setSelection:function(n,t){this.target.setSelectionRange&&this.target.setSelectionRange(n,t)},_getCurrentPart:function(){var n=this._getCaretSelection(),t=this._getStartEnd(n);return this._getCategory(t)},_getSelectedValue:function(){var t=this._getCaretSelection(),n=this._getStartEnd(t);return this.target.value.substring(n.start,n.end)},_getMinMax:function(n,t){n=="hh"||n=="h"?(this.min=1,this.max=11,t&&(this.max=12)):n=="HH"||n=="H"?(this.min=0,this.max=23):(n=="mm"||n=="m"||n=="ss"||n=="s")&&(this.min=0,this.max=59)},_focusElement:function(){this._manualFocus=!0,this.element.focus()},_targetFocus:function(t){t.preventDefault(),this.focused=!0,this.element.bind("mousewheel DOMMouseScroll",n.proxy(this._mouseWheel,this)),this.focusVal=this.target.value,this.wrapper?this.wrapper.addClass("e-focused"):this.element.addClass("e-focused"),this._manualFocus||(this._findCategoryPosition(this._getLeast(!1)),this._setSelection(this.start,this.end)),this._manualFocus=!1},_targetBlur:function(){this.focused=!1,this.element.unbind("mousewheel DOMMouseScroll",n.proxy(this._mouseWheel,this)),this._hideResult(),this.wrapper?this.wrapper.removeClass("e-focused"):this.element.removeClass("e-focused"),this._checkInComplete(),this._checkMinMax(this.target.value)||(this.element.val(this.focusVal),this._raiseChangeEvent())},_getCaretSelection:function(){var n=this.element[0],t=0,i=0;return isNaN(n.selectionStart)||(t=n.selectionStart,i=n.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},_mouseDownOnInput:function(){this.focused||this._focusElement(),this.downPosition=this._getCaretSelection(),this._checkInComplete(),n(document).bind("mouseup",n.proxy(this._mouseUpOnInput,this))},_mouseUpOnInput:function(t){var i,r;t.preventDefault(),n(document).unbind("mouseup",n.proxy(this._mouseUpOnInput,this)),i=this._getCaretSelection(),this.incomplete&&(this.incomplete=!1,i=this.downPosition),r=this._getStartEnd(i),this._setSelection(r.start,r.end)},_getCategoryPosition:function(n){var i=0,r=0,u=this.target.value.split(" "),t=this._getElePlace(),o=this.seperator,e=!1,f;if(n=="tt")(u[t.tt]==this.ttAM||u[t.tt]==this.ttPM)&&(i=t.tt==0?0:u[t.time].length+1,r=i+u[t.tt].length,e=!0);else{i=t.time==0?0:u[t.tt].length+1;var s=this.model.timeFormat.split(" ")[t.time].split(o),c=this.target.value.split(" ")[t.time].split(o),h=s.indexOf(n);if(h!=-1){for(f=0;f<s.length;f++)if(r=c[f].length+1,f==h)break;else i+=r;r+=i-1,e=!0}}return{start:i,end:r,isValid:e}},_getCategory:function(n){var t=this.model.timeFormat.split(" "),r=this.seperator,i=this._getElePlace();return n.isTT?t[i.tt]:t[i.time].split(r)[n.index]},_getStartEnd:function(n){for(var s=this.seperator,h=this.target.value,i=h.split(" "),r=0,f=0,e=tt=null,u,t=0;t<i.length;t++)if(i[t]!=this.ttAM&&i[t]!=this.ttPM){var o=i[t].split(s),c=r,l=r+o[0].length;for(u=0;u<o.length;u++)if(f=o[u].length+r,n.start<=f){e=u,tt=!1,t=i.length;break}else r+=o[u].length+1}else if(n.start<=r+i[t].length){f=i[t].length+r,e=0,tt=!0,t=i.length;break}else r+=i[t].length+1;return e==null&&(r=c,f=l,e=0,tt=!1),{start:r,end:f,index:e,isTT:tt}},_modifyValue:function(){var t=this._getCaretSelection(),n,i,r;t.start==t.end?(i=this._getLeast(!0),r=this._getCategoryPosition(i),n=this._getStartEnd(r)):n=this._getStartEnd(t),this.start=n.start,this.end=n.end,this._changeValue(n)},_keyUpOnInput:function(n){n.preventDefault()},_getNextCategory:function(t,i){var r=[],e=this.seperator,o=this.model.timeFormat.split(" "),u,f;return(n(o).each(function(n,t){if(t=="tt")r.push(t);else{var i=t.split(e);r=i.concat(r)}}),u=r.indexOf(t),u!=-1)?(f=i?u==0?r.length-1:u-1:u==r.length-1?0:u+1,r[f]):t},_getElePlace:function(){var i=this.model.timeFormat.split(" "),n,t;return i[0]=="tt"?(n=1,t=0):(n=0,t=1),{time:n,tt:t}},_movePosition:function(n,t){var i=this._getStartEnd(n),r=this._getCategory(i),u=this._getNextCategory(r,t),i=this._getCategoryPosition(u);i.isValid&&this._setSelection(i.start,i.end)},_moveLeft:function(){var n=this._getCaretSelection();this._movePosition(n,!0)},_moveRight:function(n){this._movePosition(n,!1)},_keyDownOnInput:function(n){var i=this._getCaretSelection(),k,t=n.keyCode,a,f,v,e,h,o,r,y,c,l;if(k=this.target.value,this.showDropdown&&t!=38&&t!=40&&t!=9&&t!=13&&t!=27&&t!=35&&t!=36)return!1;switch(n.keyCode){case 38:n.preventDefault(),this.showDropdown?(this._activeItem>1&&(this._activeItem-=1),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(this.increment=!0,this._checkInComplete(),this._modifyValue());break;case 40:n.preventDefault(),n.altKey?this._showhidePopup():this.showDropdown?(this._activeItem<this._listSize&&(this._activeItem+=1),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(this.increment=!1,this._checkInComplete(),this._modifyValue());break;case 37:n.preventDefault(),this._navigateLeft(i);break;case 39:n.preventDefault(),this._navigateRight(i);break;case 36:n.preventDefault(),this.showDropdown?(this._activeItem=1,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(a=this._firstlastVal(!0),f=this._getCategoryPosition(a),f.isValid&&this._setSelection(f.start,f.end));break;case 35:n.preventDefault(),this.showDropdown?(this._activeItem=this._listSize,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(v=this._firstlastVal(!1),e=this._getCategoryPosition(v),e.isValid&&this._setSelection(e.start,e.end));break;case 9:this._hideResult(),n.shiftKey&&i.start>0?(n.preventDefault(),this._navigateLeft(i)):!n.shiftKey&&i.end<this.element.val().length&&(n.preventDefault(),this._navigateRight(i));break;case 27:case 13:this._hideResult();break;case 8:case 46:n.preventDefault(),h=this._getCurrentPart(),h!="tt"&&(this._findCategoryPosition(h),o=this.start,r=this.end,this.element[0].value=this._replaceAt(this.target.value,o,r,"__"),y=r-o!=2?r+1:r,this._setSelection(o,y))}if(this.model.disableManualInput)return this._allowKeyCodes(n);var s=this._getCurrentPart(),p=this._getCaretSelection(),w=this._getSelectedValue(),b=n.keyCode?n.keyCode:n.charCode,u;n.keyCode>47&&n.keyCode<58?u=String.fromCharCode(b):n.keyCode>95&&n.keyCode<106&&(u=String.fromCharCode(b-48)),s=="tt"&&(!n.shiftKey&&!n.ctrlKey&&!n.altKey&&n.keyCode>64&&n.keyCode<91||n.keyCode>47&&n.keyCode<58||n.keyCode>95&&n.keyCode<106)&&(n.preventDefault(),c=this._getCategoryPosition(s),this.start=c.start,this.end=c.end,this._changeAmPm(w),this._raiseChangeEvent()),!n.shiftKey&&!n.ctrlKey&&!n.altKey&&n.keyCode>47&&n.keyCode<58||n.keyCode>95&&n.keyCode<106?s!="tt"&&(this._getMinMax(s,!0),p.start==p.end?(l=w+u,Number(l)>=this.min&&this.max>=Number(l)||n.preventDefault()):Number(u)>=this.min&&this.max>=Number(u)||n.preventDefault()):this._allowKeyCodes(n)||n.preventDefault()},_navigateLeft:function(){this._checkInComplete(),this._moveLeft()},_navigateRight:function(n){this._checkInComplete(),this._moveRight(n)},_allowKeyCodes:function(n){return n.ctrlKey&&(n.keyCode==65||n.keyCode==67||n.keyCode==90||n.keyCode==89)||n.keyCode==9||n.keyCode==116?!0:!1},_firstlastVal:function(n){var t=this.model.timeFormat.split(" "),i=this.seperator;return n?t[0]!="tt"?t[0].split(i)[0]:"tt":t[0]!="tt"?"tt":t[1]?t[1].split(i).lastItem():"tt"},_mouseWheel:function(n){n.preventDefault();var t,i=n.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?(this.increment=!0,this._checkInComplete(),this._modifyValue()):t<0&&(this.increment=!1,this._checkInComplete(),this._modifyValue())},_removeListHover:function(){n(this._timeListID).removeClass("time-selected")},_addListHover:function(){this._removeListHover();var n=this._getActiveItem();n.addClass("time-selected"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),n.focus()},_getActiveItem:function(){return n(n(this._timeListID)[this._activeItem-1])},_timeIconClick:function(n){if(n.preventDefault(),this.wrapper.hasClass("disabled")||this.ul.find("li").length<1)return!1;this._showhidePopup();var t=this.element.val().length;this._setSelection(t,t)},_showhidePopup:function(){this.showDropdown?this._hideResult():this._showResult()},_showResult:function(){this._refreshScroller(),this.focused||this._focusElement(),this._changeActiveEle(),this._setListPosition();var t=this._vissibleAndCalculateTop();this.popupList.slideDown(200,"easeOutQuad"),this.scrollerObj.setModel({scrollTop:t}),this.showDropdown=!0,this._listSize=n(this._timeListID).size(),n(document).bind("mousedown",n.proxy(this._OnDocumentClick,this))},_hideResult:function(){this.showDropdown&&(this.showDropdown=!1,this.popupList.slideUp(100,"easeOutQuad"),n(document).unbind("mousedown",n.proxy(this._OnDocumentClick,this)))},_vissibleAndCalculateTop:function(){this.popupList.css({display:"block",visibility:"hidden"});var n=this._calcScrollTop();return this.popupList.css({display:"none",visibility:"visible"}),n},_calcScrollTop:function(){var i=this.ul[0].offsetHeight,n=this.ul.find("li")[0].offsetHeight,t;return t=this.ul.find("li.time-selected").index(),n*t-(this.popupList[0].offsetHeight-n)/2},_changeActiveEle:function(){var i=this.getTime(),t=this,r=this.ul.find("li"),u=r.length;n(r).each(function(n,f){return Date.parse(t._createObject(f.innerHTML))==Date.parse(t._createObject(i))||t._compareTime(i,f.innerHTML)&&(u==n+1||t._compareTime(r[n+1].innerHTML,i))?(t._activeItem=n+1,!1):u==n+1?(t._activeItem=n,!1):void 0}),this._addListHover()},_OnDocumentClick:function(t){(n(t.target).parents().hasClass("vScroll")||n(t.target).hasClass("vScroll"))&&t.preventDefault()},_OnMouseEnter:function(t){if(this.wrapper.hasClass("disabled"))return!1;var i=t.target;n(this._timeListID).removeClass("listHover"),n(i).addClass("listHover")},_OnMouseLeave:function(){n(this._timeListID).removeClass("listHover")},_OnMouseClick:function(t){t.preventDefault(),this._selectTimeItem(n(t.target)),this._activeItem=n(t.target).index()+1,this._showhidePopup()},_selectTimeItem:function(n){this.element.val(n.text()),this._raiseChangeEvent()},_findCategoryPosition:function(n){var i,t;i=n=="least"?this._getLeast(!0):n,t=this._getCategoryPosition(i),this.start=t.start,this.end=t.end},_getLeast:function(t){var r=this.model.timeFormat.split(" "),u=this.seperator,i=null;return n(r).each(function(n,r){if(r!="tt"){var f=r.split(u);i=t?f[f.length-1]:f[0]}}),i},_changeValue:function(n){var r=this.target.value,t,u=this._getCategory(n),i;this._setSelection(this.start,this.end),t=this.target.value.substring(this.start,this.end),t!=this.ttAM&&t!=this.ttPM?(i=u,t=this._changeCurrentValue(t),i.length!=1&&(t=this._changeWhole(t)),this._findCategoryPosition(i),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)),this.end=this.start+t.toString().length,this._setSelection(this.start,this.end)):this._changeAmPm(t),this._checkMinMax(this.target.value)?this._raiseChangeEvent():(this.element.val(r),this._setSelection(this.start,this.end))},_checkMinMax:function(n){var t=r2=!0;return(this.model.minTime&&!this._compareTime(n,this.model.minTime,!0)&&(t=!1),this.model.maxTime&&!this._compareTime(this.model.maxTime,n,!0)&&(r2=!1),t&&r2)?!0:!1},_changeWhole:function(n){return n>9?""+n:"0"+n},_changeAmPm:function(n){n=n==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)),this._setSelection(this.start,this.end)},_changeMinute:function(){var t=this._getExactFormat(["mm","m"]),n;t&&(this._findCategoryPosition(t),n=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(t),this.increment?n==this.max?(n=this.min,this._changeHour()):n+=1:n==this.min?(n=this.max,this._changeHour()):n-=1,this._findCategoryPosition(t),t.length!=1&&(n=this._changeWhole(n)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)))},_changeHour:function(){var t=this._getExactFormat(["hh","h","HH","H"]),n;t&&(this._findCategoryPosition(t),n=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(t),this.increment?n==this.max?(n+=1,this._changeMeridian()):n>this.max?n=this.min:n+=1:n==this.min?n=this.max+1:n>this.max?(n=this.max,this._changeMeridian()):n-=1,this._findCategoryPosition(t),t.length!=1&&(n=this._changeWhole(n)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)))},_getExactFormat:function(n){for(var i=this.model.timeFormat,t=0;t<n.length;t++)if(i.indexOf(n[t])!=-1)return n[t];return null},_changeMeridian:function(){var t=this.model.timeFormat.indexOf("tt"),n;t!=-1&&(this._findCategoryPosition("tt"),n=this.target.value.substring(this.start,this.end),n=n==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)))},_changeCurrentValue:function(n){n=Number(n);var t=this._getCurrentPart(),i=1,r=!0;return(this._getMinMax(t),t=="hh"||t=="h"||t=="HH"||t=="H"?i=this.model.hourInterval:t=="mm"||t=="m"?i=this.model.minInterval:(t=="ss"||t=="s")&&(i=this.model.secInterval),i<=0)?n:(this.increment?((t=="hh"||t=="h")&&n>this.max?n=this.min-1+i:n<this.max?n+=i:(r=!1,t!="hh"&&t!="h"?n=this.min-1+i:n+=i,this._changeAdjacent(t)),(t=="hh"||t=="h")&&n==this.max+1?r&&this._changeAdjacent(t):n>this.max+1&&(n=n-(this.max+1),r&&this._changeAdjacent(t)),t!="hh"&&t!="h"&&n==this.max+1&&(n=this.min,r&&this._changeAdjacent(t))):(t!="hh"&&t!="h"&&n>this.min?n-=i:(t=="hh"||t=="h")&&n>this.min&&n<=this.max?n-=i:(t=="hh"||t=="h")&&n==this.min?n=this.max+2-i:(r=!1,n=this.max+1-i,this._changeAdjacent(t)),n<this.min&&(n=n+(this.max+1),r&&this._changeAdjacent(t))),n)},_changeAdjacent:function(n){n=="ss"||n=="s"?this._changeMinute():n=="mm"||n=="m"?this._changeHour():(n=="hh"||n=="h"||n=="HH"||n=="H")&&this._changeMeridian()},_valueChange:function(){this._raiseChangeEvent()},_raiseChangeEvent:function(){if(this.model.time==this.target.value)return!1;this._checkMinMax(this.target.value)&&(this.focusVal=this.target.value,this.model.time=this.target.value,this.model.change&&this._trigger("change",{value:this.target.value}))},_replaceAt:function(n,t,i,r){return n.substring(0,t)+r+n.substring(i)},_localizeTime:function(t,i){return n.trim(Globalize.format(this._createObject(t),i,this.model.localize))},_localizeMeridian:function(t){return n.trim(Globalize.format(this._createObject(t),"tt",this.model.localize))},_compareTime:function(n,t,i){return i=i?!0:!1,i?Date.parse(this._createObject(n))>=Date.parse(this._createObject(t)):Date.parse(this._createObject(n))>Date.parse(this._createObject(t))},_isValid:function(n){return isFinite(this._createObject(n).getTime())},_createObject:function(n){return typeof n=="string"||n==null?new Date("1/1/2000 "+n):typeof n=="number"?new Date(n):n},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"mousedown",this._mouseDownOnInput),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._keyUpOnInput),this._on(this.element,"input",this._valueChange),this._on(this.timeIcon,"mousedown",this._timeIconClick)}})}(jQuery,Syncfusion),function(n,t){t.widget("ejToggleButton","ej.ToggleButton",{element:null,model:null,_rootCSS:"e-togglebutton",defaults:{size:"normal",height:"",width:"",disabled:!1,checkedStatus:!1,defaultText:null,activeText:null,contentType:"textonly",imagePosition:"imageleft",roundedCorner:!0,persist:!1,cssClass:"",defaultPrefixIcon:null,defaultSuffixIcon:null,activePrefixIcon:null,activeSuffixIcon:null,rtl:!1,create:null,click:null,change:null,destroy:null},dataTypes:{size:"string",height:"string",weight:"string",disabled:"boolean",roundedCorner:"boolean",checkedStatus:"boolean",defaultText:"string",activeText:"string",contentType:"enum",imagePosition:"enum",defaultPrefixIcon:"string",defaultSuffixIcon:"string",activePrefixIcon:"string",activeSuffixIcon:"string",cssClass:"string",rtl:"boolean",persist:"boolean"},disable:function(){this.buttontag.addClass("e-state-disabled")},enable:function(){this.buttontag.hasClass("e-state-disabled")&&this.buttontag.removeClass("e-state-disabled")},_init:function(){this._initialize(),this._controlStatus(this.model.disabled),this._wireEvents()},_destroy:function(){this.element.insertBefore(this.labelFinder),this.element.removeClass("e-chkbx-hidden"),this.labelFinder.empty(),this.labelFinder.text(this.model.defaultText)},_setModel:function(n){var t;for(t in n)switch(t){case"size":this._setSize(n[t]);break;case"height":this._setHeight(n[t]);break;case"width":this._setWidth(n[t]);break;case"contentType":this._setContentType(n[t]);break;case"imagePosition":this._setImagePosition(n[t]);break;case"defaultText":this._setDefaultText(n[t]);break;case"activeText":this._setActiveText(n[t]);break;case"defaultPrefixIcon":this._setDefaultMajorIcon(n[t]);break;case"defaultSuffixIcon":this._setDefaultMinorIcon(n[t]);break;case"activePrefixIcon":this._setActiveMajorIcon(n[t]);break;case"activeSuffixIcon":this._setActiveMinorIcon(n[t]);break;case"disabled":this._controlStatus(n[t]);break;case"checkedStatus":this._tglevaluestatus(n[t]);break;case"roundedCorner":this._roundedCorner(n[t]);break;case"rtl":this._setRTL(n[t])}},_setSize:function(n){switch(n){case"mini":this.buttontag.addClass("btnmini");break;case"small":this.buttontag.addClass("btnsmall");break;case"medium":this.buttontag.addClass("btnmedium");break;case"large":this.buttontag.addClass("btnlarge")}},_setHeight:function(n){this.buttontag.css("height",n)},_setWidth:function(n){this.buttontag.css("width",n)},_setDefaultText:function(n){this.model.contentType==t.contents.textOnly?this.buttontag.html(n):this.defaulttxtspan.html(n)},_setActiveText:function(n){this.model.checkedStatus&&(this.model.contentType==t.contents.textOnly?this.buttontag.html(n):this.defaulttxtspan.html(n))},_setDefaultMajorIcon:function(n){this.defMainIcon.removeClass(this.model.defaultPrefixIcon),this.defMainIcon.addClass(n)},_setDefaultMinorIcon:function(n){this.defMiniIcon.removeClass(this.model.defaultSuffixIcon),this.defMiniIcon.addClass(n)},_setActiveMajorIcon:function(n){this.model.checkedStatus&&(this.defMainIcon.removeClass(this.model.activePrefixIcon),this.defMainIcon.addClass(n))},_setActiveMinorIcon:function(n){this.model.checkedStatus&&(this.defMiniIcon.removeClass(this.model.activeSuffixIcon),this.defMiniIcon.addClass(n))},_setContentType:function(n){n!=this.model.contentType&&(this.buttontag.empty(),this.model.contentType=n,this._renderButtonContent())},_setImagePosition:function(n){this.model.contentType==t.contents.textAndImage&&n!=this.model.imagePosition&&(this.buttontag.empty(),this.model.imagePosition=n,this._renderButtonContent())},_setRTL:function(n){n?this.buttontag.addClass("e-rtl"):this.buttontag.removeClass("e-rtl")},_controlStatus:function(n){n?this.disable():this.enable()},_setSkin:function(n){this.buttontag.removeClass(this.model.cssClass),this.buttontag.addClass(n)},_initialize:function(){this.element.is('[type = "checkbox"]')?this._render():this.element.removeClass("e-togglebutton"),this._timeout=null},_render:function(){var n,i;this.element.addClass("e-chkbx-hidden"),n=this.element.parents().last(),i="label[for='"+this.element[0].id+"']",this.labelFinder=n.find(i),this.labelFinder.length||(this.labelFinder=t.buildTag("label","Button",{},{"for":this.element[0].id}),this.labelFinder.insertAfter(this.element)),(this.model.defaultText==null||this.model.defaultText=="")&&(this.model.defaultText=this.labelFinder.text()),this.labelFinder.empty(),this.labelFinder.append(this.element),this.buttontag=t.buildTag("button.e-togglebutton "+this.model.cssClass+" e-bgdefault","",{}),this.labelFinder.append(this.buttontag),t.util.isNullOrUndefined(this.model.activeText)&&(this.model.activeText=this.model.defaultText),t.util.isNullOrUndefined(this.model.activePrefixIcon)&&(this.model.activePrefixIcon=this.model.defaultPrefixIcon),t.util.isNullOrUndefined(this.model.activeSuffixIcon)&&(this.model.activeSuffixIcon=this.model.defaultSuffixIcon),this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.rtl),this._renderButtonContent(),this._tglevaluestatus(this.model.checkedStatus),this._roundedCorner(this.model.roundedCorner)},_renderButtonContent:function(){this.imgtxtwrap=t.buildTag("div.e-tglebuttondiv"),this.defaulttxtspan=t.buildTag("span.e-btntxt#"+this.element[0].id+"textstatic",this.model.defaultText),this.model.contentType.indexOf("image")>-1&&(this.defMainIcon=t.buildTag("span.e-icons "+this.model.defaultPrefixIcon+"#"+this.element[0].id+"mainiconstatic"),this.defMiniIcon=t.buildTag("span.e-icons "+this.model.defaultSuffixIcon+"#"+this.element[0].id+"miniconstatic")),this.model.contentType==t.contents.textAndImage?this.model.imagePosition==t.imagePositions.imageRight?(this.defMainIcon.addClass("e-btnimg"),this.imgtxtwrap.append(this.defaulttxtspan,this.defMainIcon),this.buttontag.append(this.imgtxtwrap)):(this.defMainIcon.addClass("e-btnimg"),this.imgtxtwrap.append(this.defMainIcon,this.defaulttxtspan),this.buttontag.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageTextImage?(this.defMainIcon.addClass("e-btnimg"),this.defMiniIcon.addClass("e-btnimg"),this.imgtxtwrap.append(this.defMainIcon,this.defaulttxtspan,this.defMiniIcon),this.buttontag.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageOnly?(this.defMainIcon.addClass("e-btnimg"),this.imgtxtwrap.append(this.defMainIcon),this.buttontag.append(this.imgtxtwrap)):this.model.contentType==t.contents.imageBoth?(this.defMainIcon.addClass("e-btnimg"),this.defMiniIcon.addClass("e-btnimg"),this.imgtxtwrap.append(this.defMainIcon,this.defMiniIcon),this.buttontag.append(this.imgtxtwrap)):(this.buttontag.addClass("e-inpttxt"),this.buttontag.text(this.model.defaultText))},_tglevaluestatus:function(n){n?(this._toggleButtonStatus(n),this.element.attr("checked","checked")):(this._toggleButtonStatus(n),this.element.removeAttr("checked"))},_roundedCorner:function(n){n==!0?this.buttontag.addClass("e-corner-all"):this.buttontag.removeClass("e-corner-all")},_wireEvents:function(){this._on(this.buttontag,"click",this._tglebtnclicked),this._on(this.buttontag,"mouseenter",function(){this.buttontag.hasClass("e-state-disabled")||this.buttontag.addClass("e-bghover")}),this._on(this.buttontag,"mouseleave",function(){this.buttontag.hasClass("e-state-disabled")||this.buttontag.removeClass("e-bghover")})},_tglebtnclicked:function(n){var i,r,t=0;navigator.userAgent.search("MSIE")>0&&(i=navigator.userAgent.search("MSIE")+5,r=navigator.userAgent.search("; Windows"),t=navigator.userAgent.substring(i,r)),this.buttontag.hasClass("e-state-disabled")||(this.model.checkedStatus?(this.model.checkedStatus=!1,window.navigator.appName=="Microsoft Internet Explorer"&&t=="8.0"?this._tglevaluestatus(this.model.checkedStatus):this._toggleButtonStatus(this.model.checkedStatus)):(this.model.checkedStatus=!0,window.navigator.appName=="Microsoft Internet Explorer"&&t=="8.0"?this._tglevaluestatus(this.model.checkedStatus):this._toggleButtonStatus(this.model.checkedStatus))),this._trigger("click",{isChecked:this.model.checkedStatus,target:n.currentTarget,status:this.model.disabled})},_toggleButtonStatus:function(n){n?(this.model.contentType==t.contents.textOnly?this.buttontag.html(this.model.activeText):(this.defaulttxtspan.html(this.model.activeText),this.defMainIcon.removeClass(this.model.defaultPrefixIcon).addClass(this.model.activePrefixIcon),this.defMiniIcon.removeClass(this.model.defaultSuffixIcon).addClass(this.model.activeSuffixIcon)),this.buttontag.addClass("e-bgselected"),this.buttontag.removeClass("e-bghover")):(this.model.contentType==t.contents.textOnly?this.buttontag.html(this.model.defaultText):(this.defaulttxtspan.html(this.model.defaultText),this.defMainIcon.removeClass(this.model.activePrefixIcon).addClass(this.model.defaultPrefixIcon),this.defMiniIcon.removeClass(this.model.activeSuffixIcon).addClass(this.model.defaultSuffixIcon)),this.buttontag.removeClass("e-bghover"),this.buttontag.removeClass("e-bgselected")),this._trigger("change",{isChecked:this.model.checkedStatus,data:this.model})}}),t.contents={textOnly:"textonly",imageOnly:"imageonly",imageBoth:"imageboth",textAndImage:"textandimage",imageTextImage:"imagetextimage"},t.imagePositions={imageRight:"imageright",imageLeft:"imageleft"},t.buttonSize={mini:"mini",small:"small",medium:"medium",large:"large"}}(jQuery,Syncfusion),function(n,t){t.widget("ejToolbar","ej.Toolbar",{element:null,model:null,_rootCSS:"e-toolbar",defaults:{height:"",width:"",disabled:!1,hide:!1,itemSeparator:!0,orientation:"horizontal",rtl:!1,roundedCorner:!1,dataSource:null,query:null,fields:null,cssClass:"",create:null,click:null,itemHover:null,itemLeave:null,destroy:null},dataTypes:{height:"string",width:"string",disabled:"boolean",hide:"boolean",itemSeparator:"boolean",orientation:"enum",rtl:"boolean",roundedCorner:"boolean",cssClass:"string"},hide:function(){this.element.css("display","none")},show:function(){this.element.css("display","inline-block")},_init:function(){this.model.dataSource!=null&&this._generateTemplate(),this._initialize()},_setModel:function(n){var t;for(t in n)switch(t){case"height":this._setHeight(n[t]);break;case"width":this._setWidth(n[t]);break;case"disabled":this._controlStatus(n[t]);break;case"hide":this._controlVisibleOptions(n[t]);break;case"orientation":this._setOrientation(n[t]);break;case"rtl":this._enableRTL(n[t]);break;case"roundedCorner":this._roundedCorner(n[t]);break;case"cssClass":this._setSkin(n[t])}},_setHeight:function(n){this.element.height(n)},_setWidth:function(n){this.element.width(n)},_setOrientation:function(n){n!=t.orientation.Vertical?(this.element.removeClass("e-toolbar-vertical toolcover "+this.model.cssClass),this.element.addClass("e-toolbar-horizontal toolcover toolbarspan "+this.model.cssClass),this.itemsContainer.removeClass("e-toolbar-vertical "+this.model.cssClass),this.itemsContainer.addClass("e-toolbar-horizontal "+this.model.cssClass),this.items.removeClass("e-toolbar-vertical "+this.model.cssClass),this.items.addClass("e-toolbar-horizontal "+this.model.cssClass)):(this.element.removeClass("e-toolbar-horizontal toolcover toolbarspan "+this.model.cssClass),this.element.addClass("e-toolbar-vertical toolcover "+this.model.cssClass),this.itemsContainer.removeClass("e-toolbar-horizontal "+this.model.cssClass),this.itemsContainer.addClass("e-toolbar-vertical "+this.model.cssClass),this.items.removeClass("e-toolbar-horizontal "+this.model.cssClass),this.items.addClass("e-toolbar-vertical "+this.model.cssClass)),this.items.children("img").addClass("alignmiddle sprite-image"),this.items.children("span").addClass("alignmiddle sprite-image"),this.items.children("div").addClass("alignmiddle sprite-image"),this.items.addClass("toolbartext")},_setSkin:function(n){this.element.removeClass(this.model.cssClass),this.itemsContainer.removeClass(this.model.cssClass),this.items.removeClass(this.model.cssClass),this.element.addClass(n),this.itemsContainer.addClass(n),this.items.addClass(n)},_destroy:function(){this.element.removeClass("e-toolbar-horizontal toolcover "+this.model.cssClass),this.element.removeClass("e-toolbar-vertical toolcover "+this.model.cssClass),this.itemsContainer.removeClass("e-toolbar-horizontal "+this.model.cssClass),this.itemsContainer.removeClass("e-toolbar-vertical "+this.model.cssClass),this.items.removeClass("e-toolbar-horizontal "+this.model.cssClass),this.items.removeClass("e-toolbar-vertical "+this.model.cssClass)},_initialize:function(){this._focusEnable=!0,this._renderControl(),this._roundedCorner(this.model.roundedCorner),this._wireEvents(),this._controlVisibleOptions(this.model.hide),this._enableRTL(this.model.rtl),this._controlStatus(this.model.disabled)},_controlVisibleOptions:function(n){n!=!1?this.hide():this.show()},_controlStatus:function(n){n!=!1?this.disableAll():this.enableAll()},_roundedCorner:function(n){n!=!1?this.element.addClass("e-corner-all"):this.element.removeClass("e-corner-all")},_generateTemplate:function(){var n=this,i;this.element.css("visibility","hidden"),this.model.dataSource instanceof t.DataManager?(i=this.model.dataSource.executeQuery(this.model.query),i.done(function(t){n.itemsSource=t.result,n.element.append(n._generateTagitems()),n._initialize(),n.element.css("visibility","visible")})):(n.itemsSource=n.model.dataSource,n.element.append(n._generateTagitems()),n.element.css("visibility","visible"))},_renderControl:function(){this._renderToolbarItems(),this._setOrientation(this.model.orientation),this._renderToolbarSeparator(),this._setHeight(this.model.height),this._setWidth(this.model.width)},_renderToolbarItems:function(){this.target=this.element[0],this.itemsContainer=this.element.children("ol,ul"),this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),this._liCount=this.items.length},_generateTagitems:function(){var i,n;for(i=this.itemsSource,this.ultag=t.buildTag("ul"),n=0;n<i.length;n++)this.ultag.append(this._generateLi(i[n]));return this.ultag},_generateLi:function(i){var r,f,e,u;if(r=t.buildTag("li"),i[this.model.fields.id]&&r.attr("id",i[this.model.fields.id]),i[this.model.fields.tooltipText]&&r.attr("title",i[this.model.fields.tooltipText]),i[this.model.fields.imageUrl]&&i[this.model.fields.imageUrl]!=""){if(f=t.buildTag("img.alignmiddle","",{},{src:i[this.model.fields.imageUrl],alt:i[this.model.fields.text]}),i[this.model.fields.imageAttributes]&&i[this.model.fields.imageAttributes]!="")for(u=0;u<i[this.model.fields.imageAttributes].length;u++)n.each(i[this.model.fields.imageAttributes][u],function(n,t){f.attr(n,t)});r.append(f)}if(i[this.model.fields.spriteCSS]&&i[this.model.fields.spriteCSS]!=""&&(e=t.buildTag("div.alignmiddle "+i[this.model.fields.spriteCSS]+" sprite-image"),r.append(e)),i[this.model.fields.text]&&i[this.model.fields.text]!=""&&r.append(i[this.model.fields.text]),i[this.model.fields.htmlAttributes]&&i[this.model.fields.htmlAttributes]!="")for(u=0;u<i[this.model.fields.htmlAttributes].length;u++)n.each(i[this.model.fields.htmlAttributes][u],function(n,t){r.attr(n,t)});return r},_renderToolbarSeparator:function(){var i;if(this.model.itemSeparator)for(i=0;i<this.itemsContainer.length-1;i++)this.model.rtl?(n(this.itemsContainer[i]).addClass("toolbarseparator"),this.model.orientation==t.orientation.Horizontal&&(n(this.itemsContainer[i]).addClass("rtltoolbarseparator"),n(this.itemsContainer[i]).removeClass("toolbarseparator"))):(n(this.itemsContainer[i]).addClass("toolbarseparator"),this.model.orientation==t.orientation.Horizontal&&n(this.itemsContainer[i]).removeClass("rtltoolbarseparator"))},_enableRTL:function(n){n?(this.element.addClass("e-rtl"),this.items.addClass("classrtl"),this.model.orientation==t.orientation.Horizontal&&this.itemsContainer.addClass("classrtl")):(this.element.removeClass("e-rtl"),this.items.removeClass("classrtl"),this.model.orientation==t.orientation.Horizontal&&this.itemsContainer.removeClass("classrtl")),this.model.rtl=n,this._renderToolbarSeparator()},disableItem:function(t){var i=n(t);i==null||i.length<=0||i.hasClass("disabletoolli")||(i.css("opacity",.25),i.addClass("disabletoolli"))},enableItem:function(t){var i=n(t);i==null||i.length<=0||(i.removeClass("disabletoolli"),i.css("opacity",1))},disableItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.disableItem(t)},enableItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.enableItem(t)},disableAll:function(){this.items.css("opacity",.25),this.items.addClass("disabletoolli")},enableAll:function(){this.items.css("opacity",1),this.items.removeClass("disabletoolli")},selectItem:function(t){var i=n(t);i==null||i.length<=0||i.hasClass("disabletoolli")||(i.removeClass("toolselected"),i.addClass("toolselected"))},deselectItem:function(t){var i=n(t);i==null||i.length<=0||i.hasClass("disabletoolli")||i.removeClass("toolselected")},selectItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.selectItem(t)},deselectItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.deselectItem(t)},removeItem:function(t){var i=n(t);i==null||i.length<=0||i.remove()},removeItembyID:function(n){var t;(t=this.itemsContainer.find("li#"+n),t==null||t.length<=0)||this.removeItem(t)},_wireEvents:function(){this._on(this.element,"focus",this._focusElement),this._on(this.element,"blur",this._targetBlur),this._on(this.items,"mouseenter",this._onItemHover),this._on(this.items,"mousedown",this._onItemClick),this._on(this.items,"mouseup",this._onItemClick),this._on(this.items,"mouseleave",this._onItemLeave),this._on(this.element,"keyup",this._OnKeyUp),this._on(this.element,"keydown",this._OnKeyDown)},_onItemHover:function(t){var i=t.currentTarget,r=t.target;n(i).hasClass("disabletoolli")||(this.items.removeClass("toolhover"),n(i).addClass("toolhover"),args={currentTarget:i,target:r,status:this.model.disabled},this._trigger("itemHover",args))},_onItemClick:function(t){var i=t.currentTarget,r=t.target;t.type=="mousedown"?this._focusEnable=!1:t.type=="mouseup"&&(n(i).hasClass("disabletoolli")||(args={currentTarget:i,target:r,status:this.model.disabled},this._activeItem=n(t.currentTarget).index(),this._trigger("click",args)))},_onItemLeave:function(t){var i=t.currentTarget,r=t.target;n(i).hasClass("disabletoolli")||(n(i).removeClass("toolhover"),args={currentTarget:i,target:r,status:this.model.disabled},this._trigger("itemLeave",args))},_OnKeyDown:function(n){this._focusEnable=!0,this.e=n;var i=this.items.length-1,t;switch(n.keyCode){case 38:n.preventDefault(),this._removeListHover(),this._activeItem<0||this._activeItem==null||this._activeItem>i?this._activeItem=0:this._activeItem==0?this._activeItem=i:this._activeItem-=1,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover();break;case 40:n.preventDefault(),this._removeListHover(),this._activeItem>i||this._activeItem==null||this._activeItem<0?this._activeItem=i:this._activeItem==i?this._activeItem=0:this._activeItem+=1,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover();break;case 37:n.preventDefault(),this._removeListHover(),this._activeItem<0||this._activeItem==null||this._activeItem>i?this._activeItem=0:this._activeItem==0?this._activeItem=i:this._activeItem-=1,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover();break;case 39:n.preventDefault(),this._removeListHover(),this._activeItem>i||this._activeItem==null||this._activeItem<0?this._activeItem=i:this._activeItem==i?this._activeItem=0:this._activeItem+=1,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover();break;case 33:n.preventDefault(),this._removeListHover(),this._activeItem=0,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover();break;case 34:n.preventDefault(),this._removeListHover(),this._activeItem=i,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover();break;case 35:n.preventDefault(),this._removeListHover(),this._activeItem=i,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover();break;case 36:n.preventDefault(),this._removeListHover(),this._activeItem=0,t=this._getActiveItem(),t.hasClass("disabletoolli")||this._addListHover()}},_OnKeyUp:function(t){var f,u,i,r;this.e=t,f=this.items.length;switch(t.keyCode){case 13:u=this._getActiveItem(),n(t.target).is("div")?(i=this._getTargetItem(),r=this._getTargetItem()):(i=n(t.target).closest("li")[0],r=t.target),n(i).hasClass("disabletoolli")||(args={currentTarget:i,target:r,status:this.model.disabled,event:this.e},this._trigger("click",args),this._removeListHover());break;case 32:u=this._getActiveItem(),n(t.target).is("div")?(i=this._getTargetItem(),r=this._getTargetItem()):(i=n(t.target).closest("li")[0],r=t.target),u.hasClass("disabletoolli")||(args={currentTarget:i,target:r,status:this.model.disabled,event:this.e},this._trigger("click",args),this._removeListHover());break;case 27:this.element.focusout(),this._removeListHover()}},_removeListHover:function(){n(this.items).removeClass("toolhover")},_addListHover:function(){var n=this._getActiveItem();n.addClass("toolhover"),n[0].scrollIntoView(!1),n.focus()},_getActiveItem:function(){return n(n(this.items)[this._activeItem])},_getTargetItem:function(){return n(this.items)[this._activeItem]},_targetBlur:function(n){n.preventDefault(),this.element.focusout(),this._removeListHover(),this.model.focusOut&&this._trigger("focusOut")},_focusElement:function(){if(!this._focusEnable){this._focusEnable=!0;return}this._removeListHover(),this._activeItem=0,activeItem=this._getActiveItem(),activeItem.hasClass("disabletoolli")||this._addListHover()}})}(jQuery,Syncfusion),function(n,t){t.widget("ejWaitingPopup","ej.WaitingPopup",{element:{target:null},model:null,_rootCSS:"e-waitingpopup",defaults:{autoDisplay:!1,showImage:!0,cssClass:"",text:null,template:null},dataTypes:{autoDisplay:"boolean",showImage:"boolean",cssClass:"string"},show:function(){this._refreshPanel(),this.maindiv.css("display","block")},hide:function(){this.maindiv.css("display","none")},refresh:function(){this._refreshPanel()},setText:function(n){this.model.text?this.popupText[0].innerHTML=n:(this.model.text=n,this._generateTextTag(n),this._setContentPosition())},setTheme:function(n){this.maindiv.removeClass(this.model.cssClass).addClass(n)},_init:function(){this._initialize(),this._render()},_setModel:function(n){var t;for(t in n)switch(t){case"text":this.setText(n[t]);break;case"cssClass":this.setTheme(n[t])}},_destroy:function(){this.maindiv.remove()},_initialize:function(){this.target=this.element[0]},_render:function(){this.maindiv=t.buildTag("div.e-waitingPopup-panel "+this.model.cssClass+"#"+this.target.id+"_WaitingPopup"),this.model.template?(this.model.template.css({visibility:"visible",display:"block"}),this.maindiv.append(this.model.template)):(this.model.showImage&&(this.popupImage=t.buildTag("span.e-image"),this.maindiv.append(this.popupImage)),this.model.text&&this._generateTextTag()),n("body").append(this.maindiv),this._setVisibility()},_refreshPanel:function(){this.maindiv.width(this.element[0].offsetWidth),this.maindiv.height(this.element[0].offsetHeight),this._setPanelPosition(),this._setContentPosition()},_setPanelPosition:function(){var n=this.element.offset();this.maindiv.css({left:Math.ceil(n.left)+"px",top:Math.ceil(n.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(this.model.template==null){var t=0,r=0,i,n=null;i=this.element.height(),this.model.text&&(t=this.popupText.height()),this.model.showImage&&(r=this.popupImage.height()),this.model.showImage&&(n=Math.ceil((i-(r+t))/2),this.popupImage.css("top",n+"px")),this.model.text&&(n||(n=Math.ceil((i-t)/2)),this.popupText.css("top",n+"px"))}else this.model.template.css({position:"relative",left:Math.ceil((this.element.width()-this.model.template.width())/2),top:Math.ceil((this.element.height()-this.model.template.height())/2)})},_generateTextTag:function(){this.popupText=t.buildTag("h3",this.model.text),this.maindiv.append(this.popupText)},_setVisibility:function(){this.model.autoDisplay?this.show():this.hide()},_maxZindex:function(){for(var r=document.getElementsByTagName("div"),t=0,i,n=0;n<r.length-1;n++)i=parseInt(r[n].style.zIndex,10),i>t&&(t=i);return t}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejCheckBox","ej.CheckBox",{_rootCSS:"e-checkbox",element:null,model:null,defaults:{id:null,name:null,value:null,checked:null,indeterminate:!1,indeterminateState:!1,roundedCorner:!1,persist:!1,cssClass:"",text:"",rtl:!1,idPrefix:"ej",size:"",beforeChange:null,change:null},dataTypes:{id:"string",name:"string",checked:"boolean",persist:"boolean",indeterminate:"boolean",size:"enum",disable:"boolean",idPrefix:"string"},_init:function(){this._setValue(),this._renderControl(),this.model.disable||this._wireEvents()},_setModel:function(t){for(var i in t)switch(i){case"checked":this.isChecked=t[i],this.isChecked?this._checked():this._unChecked();break;case"indeterminateState":this._setIndeterminate(t[i]);break;case"cssClass":this._changeSkin(t[i]);break;case"rtl":t[i]?n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"):n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass("e-rtl")}},_destroy:function(){var n=this.element.find("input:checkbox");n.removeClass("e-checkbox e-input"),n.insertBefore(this.element),this.element.remove(),this.element=n},_changeSkin:function(t){this.model.cssClass!=t&&(this.element.removeClass(this.model.cssClass).addClass(t),n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this.model.id=this.element.attr("id"),this.model.id||(this.model.id=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.isChecked=this.element.attr("checked")=="checked"?!0:!1,this.isChecked=this.model.checked==null?this.isChecked:this.model.checked,this.sizeCSS=this.model.size=="medium"?"e-checkboxmedium":"e-checkboxsmaller"},_renderControl:function(){var i=t.buildTag("div.e-checkbox "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id),r=n('<div class="e-div"><\/div>'),u,f,e;r.addClass(this.sizeCSS),u=n('<div style="display: none;"><\/div>'),this.span=n("<span><\/span>"),this.spanImg=n('<span class="e-chk-image"><\/span>'),this.element.addClass("e-input"),this.element.attr("id",this.model.id),this.span.addClass("e-innerspan"),this.model.roundedCorner&&this.span.addClass("e-corner-all"),this.isChecked?(this.spanImg.addClass("e-chk-activeicon"),this.span.addClass("e-chk-active")):this.span.addClass("e-chk-inactive"),this.span.append(this.spanImg),r.append(this.span),i.insertBefore(this.element),i.append(this.element),n(this.element).wrap(u),i.append(r),this.model.text!=""&&(f=t.buildTag("div.e-checkbox-wrapper "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id+"_wrapper"),i.wrap(f),e=t.buildTag("div.e-checkbox-text",this.model.text),n("#"+this.model.idPrefix+this.model.id+"_wrapper").append(e),this.model.rtl&&n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl")),this.element=i,this.model.indeterminate==!0&&this.model.indeterminateState==!0&&this._setIndeterminate(this.model.indeterminateState)},_setIndeterminate:function(n){n?(this.spanImg.removeClass("e-chk-activeicon").addClass("e-chk-indetericon"),this.span.removeClass("e-chk-active").removeClass("e-chk-inactive").addClass("e-chk-indeterminate"),this.element.find("input").prop("indeterminate",!0)):(this.element.find(".e-chk-indeterminate").removeClass("e-chk-indeterminate"),this.element.find(".e-chk-image").removeClass("e-chk-indetericon"),this.element.find("input").removeAttr("indeterminate"),this.element.find("input").prop("indeterminate",!1),this.model.checked?this._checked():this._unChecked())},_wireEvents:function(){this._on(this.element,"mousedown",this._checkedHandler)},_unWireEvents:function(){this.element.unbind("mousedown")},_checkedHandler:function(){var n={element:this.element,isChecked:this.isChecked};return!0==this._trigger("beforeChange",n)?!1:(this.element.find(".e-innerspan").hasClass("e-chk-inactive")?(this._checked(),this.isChecked=this.model.checked=!0,this.model.indeterminate&&(this.model.indeterminateState=!0)):this.element.find(".e-innerspan").hasClass("e-chk-active")?this.model.indeterminate==!0&&this.model.indeterminateState==!0?(this._setIndeterminate(!0),this.isChecked=this.model.checked=!0):(this._unChecked(),this.isChecked=this.model.checked=!1):this.element.find(".e-innerspan").hasClass("e-chk-indeterminate")&&(this.isChecked=this.model.checked=!1,this._setIndeterminate(!1),this.model.indeterminateState=!1),n={element:this.element,isChecked:this.isChecked},this._trigger("change",n),!0)},_checked:function(){this.element.find(".e-innerspan").removeClass("e-chk-inactive").addClass("e-chk-active"),this.element.find(".e-chk-image").addClass("e-chk-activeicon"),this.element.find("input[type=checkbox]").prop("checked",!0)},_unChecked:function(){this.element.find(".e-innerspan").removeClass("e-chk-active").addClass("e-chk-inactive"),this.element.find(".e-chk-image").removeClass("e-chk-activeicon").removeClass("e-chk-indetericon"),this.element.find("input[type=checkbox]").removeAttr("checked")},disable:function(){this.element.hasClass("e-state-disabled")||(this.element.addClass("e-state-disabled"),this._unWireEvents())},enable:function(){this.element.hasClass("e-state-disabled")&&(this.element.removeClass("e-state-disabled"),this._wireEvents())},isChecked:function(){if(this.isChecked!=null&&this.isChecked!=i)return this.isChecked}})}(jQuery,Syncfusion),function(n,t){t.widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,model:null,defaults:{id:null,name:null,value:null,checked:null,cssClass:"",text:"",rtl:!1,persist:!1,idPrefix:"ej",size:"smaller",disable:!1,beforeChange:null,change:null},dataTypes:{id:"string",name:"string",checked:"boolean",persist:"boolean",size:"enum",disable:"boolean",idPrefix:"string"},_init:function(){this._setValue(),this._renderControl(),this._wireEvents()},_setModel:function(t){for(var i in t)switch(i){case"cssClass":this._changeSkin(t[i]);break;case"rtl":t[i]?n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"):n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass("e-rtl")}},_destroy:function(){var n=this.element.find("input.e-radiobtn:radio");n.removeClass("e-radiobtn e-input"),n.insertBefore(this.element),this.element.remove()},_changeSkin:function(t){this.model.cssClass!=t&&(this.element.removeClass(this.model.cssClass).addClass(t),n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this.model.id=this.element.attr("id"),this.model.id||(this.model.id=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.isChecked=this.element.attr("checked")=="checked"?!0:!1,this.isChecked=this.model.checked==null?this.isChecked:this.model.checked,this.sizeCSS=this.model.size=="medium"?"e-radmedium":"e-radsmaller"},_renderControl:function(){var i=n("<div><\/div>"),r,u,f,e;i.attr("id",this.model.idPrefix+this.model.id),r=n('<div class="e-div"><\/div>'),u=n('<div style="display: none;"><\/div>'),this.span=n("<span><\/span>"),n(this.span).addClass("e-spanicon e-rad-state-default "+this.sizeCSS),this.spanImg=n('<span class="e-spaninner e-rad-state-default"><\/span>'),this.element.addClass("e-input"),this.element.attr("id",this.model.id),i.addClass("e-radiobtn "+this.model.cssClass),this.span.addClass("e-innerspan"),this.span.append(this.spanImg),r.append(this.span),i.insertBefore(this.element),i.append(this.element),n(this.element).wrap(u),i.append(r),this.model.text!=""&&(f=t.buildTag("div.e-radiobtn-wrapper "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id+"_wrapper"),i.wrap(f),e=t.buildTag("div.e-radiobtn-text",this.model.text),n("#"+this.model.idPrefix+this.model.id+"_wrapper").append(e),this.model.rtl&&n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl")),this.element=i,this.isChecked&&(this.spanImg.addClass("e-rad-state-active"),this.span.addClass("e-rad-state-active"),this.element.find(".e-input").attr("checked",!0))},_wireEvents:function(){this._on(this.element,"mousedown",this._checkedHandler)},_unWireEvents:function(){this.element.unbind("mousedown")},_checkedHandler:function(){var t;if(this.isChecked=this.element.find("input.e-radiobtn:radio").attr("checked")=="checked"?!0:!1,t={element:this.element,isChecked:this.isChecked},!0==this._trigger("beforeChange",t))return!1;if(!n(this.element).find(".e-spaninner").hasClass("e-rad-state-active")){var i=this.element.find(".e-input").attr("name"),r=n("input.e-radiobtn[name="+i+"]:radio"),u=this;n.each(r,function(t,i){n(i).parent().parent().find(".e-spanicon").removeClass("e-rad-state-active").addClass("e-rad-state-default"),n(i).parent().parent().find(".e-spaninner").removeClass("e-rad-state-active").addClass("e-rad-state-default")}),this.element.find(".e-spanicon").addClass("e-rad-state-active").removeClass("e-rad-state-default"),this.element.find(".e-spaninner").addClass("e-rad-state-active").removeClass("e-rad-state-default"),this.element.find(".e-input").click(),this.isChecked=!0}t={element:this.element,isChecked:this.isChecked},this._trigger("change",t)},disable:function(){this.element.hasClass("e-state-disabled")||(this.element.addClass("e-state-disabled"),this._unWireEvents())},enable:function(){this.element.hasClass("e-state-disabled")&&(this.element.removeClass("e-state-disabled"),this._wireEvents())}})}(jQuery,Syncfusion),function(n,t){t.widget("ejAccordion","ej.Accordion",{_rootCSS:"e-acrdn",element:null,model:null,defaults:{collapsible:!1,ajaxOptions:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},event:"click",iconCSS:{header:"e-acrdn-collapsicon",selectedHeader:"e-acrdn-expandicon"},heightStyle:"content",selectedItemIndex:0,cssClass:"",rtl:!1,roundedCorner:!1,allowKeyboardNavigation:!0,multipleOpen:!1,selectedItems:[0],disabled:[],persist:!1,ajaxLoad:null,ajaxBeforeLoad:null,active:null,beforeActive:null,ajaxSuccess:null,ajaxError:null},dataTypes:{cssClass:"string",collapsible:"boolean",event:"string",heightStyle:"enum",selectedItemIndex:"number"},setWidth:function(){},_init:function(){this._renderControl()},_setModel:function(n){for(var t in n)switch(t){case"event":this._unWireEvents(),this._wireEvents();break;case"selectedItemIndex":this._activeTab(n[t]);break;case"heightStyle":this._setHeightStyle(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"roundedCorner":this._roundedCorner(n[t]);break;case"allowKeyboardNavigation":n[t]?this._on(this.element,"keydown",this._keyPress):this._off(this.element,"keydown");break;case"rtl":n[t]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");break;case"selectedItems":this._selectedItemsAction(n[t])}},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_destroy:function(){this._removeBaseClass(),this.element.removeClass("e-acrdn"),this._headers.removeClass("e-acrdn-header-active e-state-active e-state-disabled"),this._contentPanels.removeClass("e-acrdn-content-active e-state-disabled"),n(this._headers.find(".e-icon")).remove()},_renderControl:function(){this._headers=this.element.find("> :even"),this.element.attr("tabindex",0),this._contentPanels=this._headers.next(),this._addBaseClass(),this._setHeightStyle(this.model.heightStyle),this._nagativeIndexCheck(this.model.selectedItemIndex),this._renderHeaderIcon(),this._wireEvents(),this._roundedCorner(this.model.roundedCorner),this._selectedItemsAction(this.model.selectedItems)},_selectedItemsAction:function(n){if(this.model.multipleOpen)for(var t=0;t<n.length;t++)this._activeTab(n[t]);else this._activeTab(this.model.selectedItemIndex)},_addBaseClass:function(){this.element.addClass(this.model.cssClass),this.model.rtl&&this.element.addClass("e-rtl"),this._headers.addClass("e-acrdn-header e-state-default"),this._contentPanels.addClass("e-acrdn-content").hide()},_removeBaseClass:function(){this._headers.removeClass("e-acrdn-header e-state-default"),this._contentPanels.removeClass("e-acrdn-content").show()},_roundedCorner:function(n){n?(this._headers.addClass("e-corner-all"),this.element.find(".e-acrdn-header-active").removeClass("e-corner-all").addClass("e-corner-top"),this.element.find(".e-acrdn-content-active").addClass("e-corner-bottom")):this._headers.hasClass("e-corner-all")&&(this._headers.removeClass("e-corner-all"),this.element.find(".e-acrdn-header-active").removeClass("e-corner-top"),this.element.find(".e-acrdn-content-active").addClass("e-corner-bottom"))},_nagativeIndexCheck:function(n){(n<0||n>=this._headers.length)&&(this.model.selectedItemIndex=0)},_activeTab:function(t){var i,r,u;if(n.inArray(t,this.model.disabled)<0){if(i={activeIndex:t},!0===this._trigger("beforeActive",i))return!1;this.model.multipleOpen||this._hideTab(this.model.selectedItemIndex),this.model.selectedItemIndex=t,r=this.model.iconCSS,this._activeHeader=this._headers.eq(t).addClass("e-acrdn-header-active e-state-active"),this._activeHeader.find(".e-icon").removeClass(r.header).addClass(r.selectedHeader),this._addSelectedItems(t),this._ajaxLoad(),this._roundedCorner(this.model.roundedCorner),i={activeHeader:this._activeHeader,activePanel:this._activeContent,activeIndex:this.model.selectedItemIndex},u=this,this._activeContent=this._activeHeader.next().addClass("e-acrdn-content-active").slideDown(300,"easeOutQuad",function(){u._trigger("active",i)})}},_hideTab:function(n){var t=this.model.iconCSS;n>=0&&(this._activeHeader=this._headers.eq(n).removeClass("e-acrdn-header-active e-state-active"),this._activeHeader.find(".e-icon").removeClass(t.selectedHeader).addClass(t.header),this._activeHeader.next().removeClass("e-acrdn-content-active").slideUp(200,"easeOutQuad"),this._deleteSelectedItems(n))},_renderHeaderIcon:function(){var n,i;this._headers.find(".e-icon").length<=0&&(n=this.model.iconCSS,n&&(i=t.buildTag("span.e-icon "+n.header).prependTo(this._headers),this._headers.eq(this.model.selectedItemIndex).find(".e-icon").removeClass(n.header).addClass(n.selectedHeader)))},_ajaxLoad:function(){var t=this._activeHeader.find("a[href]"),r,i;t.length>0&&(r=n(this._contentPanels[this.model.selectedItemIndex]),i=n(t).attr("href"),i&&i!=="#"&&this._sendAjaxOptions(r,t[0]))},_sendAjaxOptions:function(t,i){if(!0===this._trigger("ajaxBeforeLoad",{url:i}))return!1;t.addClass("e-loading");var r=this,u=n(i).html(),f=i.href.replace("#",""),e={type:this.model.ajaxOptions.type,cache:this.model.ajaxOptions.cache,url:f,data:this.model.ajaxOptions.data,dataType:this.model.ajaxOptions.dataType,contentType:this.model.ajaxOptions.contentType,async:this.model.ajaxOptions.async,success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(){try{r._ajaxErrorHandler(data,i,r.model.selectedItemIndex,u)}catch(n){}}};this._sendAjaxRequest(e)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,i,r,u){u!=null&&n(r).html(u),i.removeClass("e-loading"),i.html(t).addClass("e-acrdn-loaded");var f={data:t,url:r,content:i};this._trigger("ajaxSuccess",f),this._trigger("ajaxLoad")},_ajaxErrorHandler:function(n,t){this._trigger("ajaxError",{data:n,url:t}),this._trigger("ajaxLoad")},_setHeightStyle:function(i){var u=this,r,f;t.Accordion.heightStyle.Fill==i?(r=this._getDimension(n(this.element).parent(),"height"),n(this.element).parent().css({overflow:"auto"}),u._headers.each(function(){r-=u._getDimension(n(this),"outerHeight")}),f=0,u._headers.next().each(function(){f=Math.max(f,u._getDimension(n(this),"innerHeight")-u._getDimension(n(this),"height"))}).height(r-f).css({overflow:"auto"})):t.Accordion.heightStyle.Auto==i&&(r=0,u._headers.next().each(function(){r=Math.max(r,u._getDimension(n(this),"outerHeight"))}).height(r),this.maxAutoHeight=r)},_getDimension:function(t,i){var u,f=n(t).parents().andSelf().filter(":hidden"),r={visibility:"hidden",display:"block"},e=[];return f.each(function(){var t={},n;for(n in r)t[n]=this.style[n],this.style[n]=r[n];e.push(t)}),u=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),f.each(function(n){var i=e[n],t;for(t in r)this.style[t]=i[t]}),u},_headerEventHandler:function(t){t.preventDefault();var r=n(t.currentTarget),i=this._headers.index(r);this.model.multipleOpen&&this._headers.eq(i).hasClass("e-acrdn-header-active")?this._hideTab(i):this.model.selectedItemIndex==i&&this.model.collapsible?(this._hideTab(this.model.selectedItemIndex),this.model.selectedItemIndex=-1):this._headers.eq(i).hasClass("e-acrdn-header-active")||this._activeTab(i)},_addSelectedItems:function(t){n.inArray(t,this.model.selectedItems)<0&&this.model.selectedItems.push(t)},_deleteSelectedItems:function(t){n.inArray(t,this.model.selectedItems)>-1&&(position=n.inArray(t,this.model.selectedItems),this.model.selectedItems.splice(position,1))},_deleteDisabledItems:function(t){n.inArray(t,this.model.disabled)>-1&&(position=n.inArray(t,this.model.disabled),this.model.disabled.splice(position,1))},_keyPress:function(n){n.preventDefault(),code=n.keyCode?n.keyCode:n.which?n.which:n.charCode;switch(code){case 39:case 40:this.model.selectedItemIndex!=this.panelCount()-1?this._activeTab(this.model.selectedItemIndex+1):this.model.selectedItemIndex==this.panelCount()-1&&this._activeTab(0);break;case 38:case 37:this.model.selectedItemIndex!=0?this._activeTab(this.model.selectedItemIndex-1):this.model.selectedItemIndex==0&&this._activeTab(this.panelCount()-1);break;case 35:this.model.selectedItemIndex!=this.panelCount()-1&&this._activeTab(this.panelCount()-1);break;case 36:this.model.selectedItemIndex!=0&&this._activeTab(0)}},_wireEvents:function(){this._on(this._headers,this.model.event,this._headerEventHandler),this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._keyPress)},_unWireEvents:function(){this._headers.unbind(this.model.event)},enable:function(t){if(n.isArray(t))for(var i=0;i<t.length;i++)n(this._headers[t[i]]).removeClass("e-state-disabled"),n(this._contentPanels[t[i]]).removeClass("e-state-disabled"),this._on(n(this._headers[t[i]]),this.model.event,this._headerEventHandler),this._deleteDisabledItems(t[i]);else n(this._headers[t]).removeClass("e-state-disabled"),n(this._contentPanels[t]).removeClass("e-state-disabled"),this._on(n(this._headers[t]),this.model.event,this._headerEventHandler),this._deleteDisabledItems(t)},disable:function(t){if(n.isArray(t))for(var i=0;i<t.length;i++)n(this._headers[t[i]]).addClass("e-state-disabled"),n(this._contentPanels[t[i]]).addClass("e-state-disabled"),n(this._headers[t[i]]).unbind(this.model.event),this.model.disabled.push(t[i]);else n(this._headers[t]).addClass("e-state-disabled"),n(this._contentPanels[t]).addClass("e-state-disabled"),n(this._headers[t]).unbind(this.model.event),this.model.disabled.push(t)},disableAll:function(){for(var i,t=0;t<this._headers.length;t++)n(this._headers[t]).addClass("e-state-disabled"),n(this._contentPanels[t]).addClass("e-state-disabled"),this.model.disabled.push(t);this._unWireEvents(),i={disabledItemsIndex:this.model.disabled},this.model.onDisable&&this._trigger("disable",i)},enableAll:function(){for(var i=[],r,t=0;t<this._headers.length;t++)n(this._headers[t]).removeClass("e-state-disabled"),n(this._contentPanels[t]).removeClass("e-state-disabled"),i.push(t);this.model.disabled=[],this._unWireEvents(),this._wireEvents(),r={enabledItemsIndex:i},this.model.onEnable&&this._trigger("enable",r)},selected:function(n){n!=null&&this.model.selectedItemIndex!=n&&this._activeTab(n)},showAccordion:function(){this.element.css("visibility","visible")},hideAccordion:function(){this.element.css("visibility","hidden")},panelCount:function(){if(this._headers)return this._headers.length}}),t.Accordion.heightStyle={Content:"content",Auto:"auto",Fill:"fill"}}(jQuery,Syncfusion),function(n,t){t.widget("ejProgressBar","ej.ProgressBar",{element:{target:null},model:null,_rootCSS:"e-progressbar",defaults:{text:"",cssClass:"",min:0,max:100,value:0,percentage:0,height:null,width:null,disabled:!1,rtl:!1,start:null,complete:null,change:null},dataTypes:{cssClass:"string",min:"number",max:"number",value:"number",percentage:"number",disabled:"boolean",rtl:"boolean"},_setValue:function(n){isNaN(n)||typeof n!="number"||(this.model.value=this._checkProgressValue(n,this.model.min,this.model.max,"value"),this._setProgressValue())},_setPercent:function(n){isNaN(n)||typeof n!="number"||(this.model.percentage=this._checkProgressValue(n,0,100,"percent"),this._setProgressPercent())},_setText:function(n){this.text?this.text[0].innerHTML=n:(this.text=t.buildTag("div.e-progress-text",n),this.element.append(this.text),this.header.remove(),this.element.append(this.header),this._setTop())},_setHeightWidth:function(){this._setDimention(),this.text&&this._setTop()},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},enable:function(){this.element.hasClass("disabled")&&this.element.removeClass("disabled")},disable:function(){this.element.hasClass("disabled")||this.element.addClass("disabled")},getValue:function(){return this.progressVal},getPercent:function(){return this.progressPos},_init:function(){this._initialize(),this._render()},_setModel:function(n){if(this.element.hasClass("disabled"))return!1;var t;for(t in n)switch(t){case"value":this._setValue(n[t]);break;case"percentage":this._setPercent(n[t]);break;case"text":this._setText(n[t]);break;case"height":this.model.height=n[t],this._setHeightWidth(n[t]);break;case"width":this.model.width=n[t],this._setHeightWidth(n[t]);break;case"disabled":this._disabled(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"rtl":this._rtl(n[t])}},_destroy:function(){this.element.empty(),this.element.removeClass(this.model.cssClass)},_initialize:function(){this.progressVal=this.model.min,this.progressPos=0,this.text=null,this.header=null},_render:function(){this.element.addClass(this.model.cssClass),this._setDimention(),this.model.text&&(this.text=t.buildTag("div.e-progress-text",this.model.text),this.element.append(this.text),this._setTop()),this.header=t.buildTag("div.e-progress-range"),this.element.append(this.header),this._setInitialValue(),this._checkProperties()},_setDimention:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width)},_setInitialValue:function(){this.model.percentage!=0?(this.model.percentage=this._checkProgressValue(this.model.percentage,0,100,"percent"),this._setProgressPercent()):(this.model.value=this._checkProgressValue(this.model.value,this.model.min,this.model.max,"value"),this._setProgressValue()),this.model.disabled&&this._disabled(!0)},_disabled:function(n){n?this.disable():this.enable()},_checkProperties:function(){this.model.rtl&&this._rtl(this.model.rtl)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setTop:function(){var n=(this.element.height()-this.text.height())/2;this.text.css("margin-top",Math.floor(n))},_increaseProgressWidth:function(){this.header.css("width",this.progressPos+"%").css("left",0),this.initial==0&&this.progressPos!=this.initial&&this.model.start&&this._trigger("start",{value:this.progressVal,percentage:this.progressPos}),this.model.change&&this._trigger("change",{value:this.progressVal,percentage:this.progressPos}),this.progressPos==100&&this.model.complete&&this._trigger("complete",{value:this.progressVal,percentage:this.progressPos})},_setProgressValue:function(){this.initial=this.progressPos,this.progressVal=this.model.value,this.progressPos=this._valueToPercent(this.progressVal),this._increaseProgressWidth()},_setProgressPercent:function(){this.initial=this.progressPos,this.progressVal=this._percentToValue(this.model.percentage),this.progressPos=this.model.percentage,this._increaseProgressWidth()},_checkProgressValue:function(n,t,i,r){return this.model.max<=this.model.min?n=r=="value"?t:i:n<t?n=t:n>i&&(n=i),n},_valueToPercent:function(n){return this.model.max<=this.model.min?100:n>=this.model.min&&n<=this.model.max?100*(n-this.model.min)/(this.model.max-this.model.min):n<this.model.min?0:100},_percentToValue:function(n){if(this.model.max<=this.model.min)return this.model.min;if(n>=0&&n<=100){var t=this.model.max-this.model.min,i=t*n/100;n=i+this.model.min}else n<0?n=this.model.min:n>100&&(n=this.model.max);return n}})}(jQuery,Syncfusion),function(n,t){t.widget("ejRating","ej.Rating",{_rootCSS:"e-rating",element:null,model:null,defaults:{maxValue:5,minValue:0,currentValue:1,allowReset:!0,shapeWidth:23,shapeHeight:23,orientation:"horizontal",incrementStep:1,readOnly:!1,showTooltip:!0,precision:"full",cssClass:"",width:null,height:null,click:null,mouseOver:null,mouseOut:null,valueChanged:null},dataTypes:{maxValue:"number",minValue:"number",currentValue:"number",allowReset:"boolean",shapeWidth:"number",shapeHeight:"number",orientation:"enum",incrementStep:"number",readOnly:"boolean",precision:"enum"},setWidth:function(){},_init:function(){this._initialize()},_setModel:function(n){for(var t in n)switch(t){case"allowReset":n[t]?this.showResetButton():this.hideResetButton();break;case"currentValue":this.setCurrentValue(n[t]);break;case"readOnly":this._unWireEvents();break;case"orientation":this.model.orientation=n[t],this.refresh();break;case"shapeWidth":this.model.shapeWidth=n[t],this.refresh();break;case"shapeHeight":this.model.shapeHeight=n[t],this.refresh()}},_destroy:function(){this.element.show(),this._unWireEvents(),this._mainDiv.remove()},_initialize:function(){this.element.hide(),this._mainDiv=t.buildTag("div.e-rating "+this.model.cssClass),t.isNullOrUndefined(this.model.width)||this._mainDiv.width(this.model.width),t.isNullOrUndefined(this.model.height)||this._mainDiv.height(this.model.height),this._mainDiv.insertBefore(this.element),this.model.orientation==t.orientation.Horizontal?this._mainDiv.addClass("horizontal"):this._mainDiv.addClass("vertical"),this.model.allowReset&&!this.model.readOnly&&this._createReset(),this._validation(),this._renderShape(),this._shapes=this._mainDiv.find("div.shape"),this._wireEvents(),this._CurrentIndex=0,this._initCurrentValue()},_validation:function(){this.model.incrementStep<1?this.model.incrementStep=1:this.model.incrementStep>this.model.maxValue&&(this.model.incrementStep=this.model.maxValue)},_createReset:function(){this._mainDiv.find("div.reset").length<=0?t.buildTag("div.reset","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight}).appendTo(this._mainDiv):this._mainDiv.find("div.reset").show()},_renderShape:function(){var n=Math.round(this.model.maxValue/this.model.incrementStep),i,r,u,f,e;if(this.model.orientation==t.orientation.Horizontal?(i=(n+1)*this.model.shapeWidth,r=this.model.shapeHeight):this.model.orientation==t.orientation.Vertical&&(i=this.model.shapeWidth,r=this.model.shapeHeight*n),n>0){for(u=t.buildTag("ul.shape-container","",{width:i+"px",height:r}),f=0;f<n;f++)e=t.buildTag("li.shape-list","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight}),t.buildTag("div.shape inactive","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight}).appendTo(e),e.appendTo(u);u.appendTo(this._mainDiv)}},_initCurrentValue:function(){var i=this.model.currentValue/this.model.incrementStep,t;for(this._CurrentIndex=i,this._valueRefresh(this._CurrentIndex),t=0;t<i;t++)this._shapes[t]&&n(this._shapes[t]).removeClass("inactive").removeClass("active").addClass("selected")},_valueRefresh:function(i){var r,u;if(i=Math.round(i),r=(this.model.currentValue/this.model.incrementStep).toFixed(1),this.model.orientation==t.orientation.Horizontal){for(r=((r%1).toFixed(1)!=0?(r%1).toFixed(1):r/this._CurrentIndex)*this.model.shapeWidth,u=0;u<i;u++)n(this._shapes[u]).css({width:this.model.shapeWidth+"px"});this._shapes!=null&&n(this._shapes[i-1]).css({width:r+"px"})}else{for(r=((r%1).toFixed(1)!=0?(r%1).toFixed(1):r/this._CurrentIndex)*this.model.shapeHeight,u=0;u<i;u++)n(this._shapes[u]).css({height:this.model.shapeHeight+"px"});this._shapes!=null&&n(this._shapes[i-1]).css({height:r+"px"})}},_reset:function(){n(this._shapes).removeClass("active").removeClass("selected").addClass("inactive"),this.model.currentValue=0,this._CurrentIndex=0,this.element.value=this._CurrValue,this._valueChanged()},_fillExactPrecision:function(i,r){var e=this._shapes.index(i)+1,f=this.model,u;if(f.orientation==t.orientation.Horizontal){for(u=0;u<this._shapes.length;u++)u<e?n(this._shapes[u]).css({width:f.shapeWidth+"px"}):n(this._shapes[u]).css({width:"0px"});n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*f.incrementStep+r/f.shapeWidth*f.incrementStep).toFixed(1)}else{for(u=0;u<e;u++)n(this._shapes[u]).css({height:f.shapeHeight+"px"});for(u=e;u<this._shapes.length;u++)n(this._shapes[u]).css({height:"0px"});n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*f.incrementStep+r/f.shapeHeight*f.incrementStep).toFixed(1)}},_fillHalfPrecision:function(i,r){var e=this._shapes.index(i)+1,u=this.model,f;if(u.orientation==t.orientation.Horizontal){for(f=0;f<this._shapes.length;f++)f<e?n(this._shapes[f]).css({width:u.shapeWidth+"px"}):n(this._shapes[f]).css({width:"0px"});(r+1)%2==0?(r=u.shapeWidth/2,n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeWidth*u.incrementStep).toFixed(1)):(r=u.shapeWidth,n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeWidth*u.incrementStep).toFixed(1))}else{for(f=0;f<this._shapes.length;f++)f<e?n(this._shapes[f]).css({height:this._starHeight+"px"}):n(this._shapes[f]).css({height:"0px"});r<=u.shapeHeight/2?(r=u.shapeHeight/2,n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeHeight*u.incrementStep).toFixed(1)):(r=u.shapeHeight,n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeHeight*u.incrementStep).toFixed(1))}},_ClickHandler:function(i){var r,e,u,f,o;if(i.target.tagName=="LI"?r=i.target.firstChild:i.target.parentNode.tagName=="LI"&&(r=i.target),r){for(e=this._shapes.index(r)+1,u=0;u<e;u++)this._shapes[u]&&n(this._shapes[u]).removeClass("inactive").removeClass("active").addClass("selected");this._CurrentIndex=e,f=this.model.incrementStep,o=this.model.orientation==t.orientation.Horizontal?((this._CurrentIndex-1)*f+r.clientWidth/this.model.shapeWidth*f).toFixed(1):((this._CurrentIndex-1)*f+r.clientHeight/this.model.shapeHeight*f).toFixed(1),this.element.value=o,this.model.currentValue=o,this.model.click&&this._trigger("click",{event:i,Value:this.model.currentValue}),this._valueChanged()}n(i.target).hasClass("reset")&&this._reset()},_MouseOverHandler:function(t){var r,u,i;if(t.target.tagName=="LI")r=t.target.firstChild;else if(t.target.parentNode.tagName=="LI")r=t.target;else return!1;for(u=this._shapes.index(r)+1,i=0;i<=this._shapes.length;i++)this._shapes[i]&&(i<u?n(this._shapes[i]).removeClass("inactive").removeClass("selected").addClass("active"):n(this._shapes[i]).removeClass("active").removeClass("selected").addClass("inactive"));this.model.mouseOver&&this._trigger("mouseOver",{event:t,index:u,Value:this.model.currentValue})},_MouseOutHandler:function(i){var u,r;if(!this.model.readOnly){if(u=this._CurrentIndex,u!=0)for(r=0;r<this._shapes.length;r++)this._shapes[r]&&(r<u?n(this._shapes[r]).removeClass("active").removeClass("inactive").addClass("selected"):n(this._shapes[r]).removeClass("active").addClass("inactive"));else n(this._shapes).removeClass("active").addClass("inactive");this.model.precision!==t.Rating.Precision.Full&&this._valueRefresh(u),this.model.mouseOut&&this._trigger("mouseOut",{event:i,Value:this.model.currentValue})}this._hideTooltip(1e3)},_MouseMoveHandler:function(i){if(this.model.readOnly)this.toolTipValue=this.model.currentValue+" / "+this.model.maxValue;else{var r,u;if(i.target.tagName=="LI")r=i.target.firstChild;else if(i.target.parentNode.tagName=="LI")r=i.target;else return!1;u=this.model.orientation==t.orientation.Horizontal?t.isNullOrUndefined(i.offsetX)?i.pageX-n(i.target).offset().left:i.offsetX+1:t.isNullOrUndefined(i.offsetY)?i.pageY-n(i.target).offset().top:i.offsetY+1,this.toolTipValue=this._shapes.index(r)+1,this.model.precision==t.Rating.Precision.Exact?this._fillExactPrecision(r,u):this.model.precision==t.Rating.Precision.Half&&this._fillHalfPrecision(r,Math.round(u))}this._showhideTooltip(i.target)},_showTooltip:function(i){this.model.showTooltip&&(n(".e-rating-tooltip").remove(),this.tooltip=t.buildTag("div.e-rating-tooltip "+this.model.cssClass+" e-corner-all"),n("body").append(this.tooltip),this._isTooltip=!0,this._setTooltipPosition(i))},_hideTooltip:function(t){this.model.showTooltip&&(n(this.tooltip).fadeOut(t,function(){n(".e-rating-tooltip").remove()}),this._isTooltip=!1)},_showhideTooltip:function(n){this.model.showTooltip&&this._showTooltip(n)},_setTooltipPosition:function(t){if(this.model.showTooltip){this._updateTooltipValue();var f,e,r,u,i,o=5;i=n(t),this.model.orientation=="vertical"?(u=(this.tooltip[0].offsetHeight-i[0].offsetHeight)/2,r=i[0].offsetWidth+o,f=i.offset().top-u,e=i.offset().left+r):(r=(this.tooltip[0].offsetWidth-i[0].offsetWidth)/2,u=this.tooltip[0].offsetHeight+o,f=i.offset().top-u,e=i.offset().left-r),this.tooltip.css({top:f,left:e})}},_updateTooltipValue:function(){this.tooltip[0].innerHTML=this.toolTipValue},_wireEvents:function(){this.model.readOnly||(this._on(this._mainDiv,"mousedown",this._ClickHandler),this._on(this._mainDiv.find("li"),"mouseenter",this._MouseOverHandler)),this._on(this._mainDiv.find("li"),"mouseleave",this._MouseOutHandler),this._on(this._mainDiv.find("li"),"mousemove",this._MouseMoveHandler)},_unWireEvents:function(){this._mainDiv.find("li").unbind("mouseenter"),this._mainDiv.find("li").unbind("mouseleave"),this._mainDiv.unbind("mousedown"),this.model.precision!==t.Rating.Precision.Full&&this._mainDiv.find("li").unbind("mousemove")},_valueChanged:function(){this.model.valueChanged&&this._trigger("valueChanged",{Value:this.model.currentValue})},reset:function(){this._reset()},showRating:function(){this._mainDiv.css("visibility","visible")},hideRating:function(){this._mainDiv.css("visibility","hidden")},showResetButton:function(){this._createReset()},hideResetButton:function(){this._mainDiv.find("div.reset").hide()},getCurrentValue:function(){return this.model.currentValue},setCurrentValue:function(t){t!=null&&(this.model.currentValue=t,n(this._shapes).removeClass("selected").addClass("inactive"),this._initCurrentValue())},refresh:function(){this._destroy(),this._unWireEvents(),this._initialize()}}),t.Rating.Precision={Full:"full",Half:"half",Exact:"exact"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejSplitter","ej.Splitter",{element:{target:null},model:null,_rootCSS:"e-splitter",defaults:{cssClass:"",orientation:"horizontal",properties:[{paneSize:"0px",minSize:"0px",maxSize:null,collapsible:!0,resizable:!0}],height:null,width:null,windowResizing:!1,rtl:!1,animationSpeed:300,expandCollapse:null,resize:null},dataTypes:{cssClass:"string",orientation:"enum",properties:[{paneSize:"string",minSize:"string",maxSize:"string",collapsible:"boolean",resizable:"boolean"}],windowResizing:"boolean",rtl:"boolean",animationSpeed:"number"},_init:function(){this._initialize(),this._render(),this._wireEvents(this.model.windowResizing)},_setModel:function(n){var t;for(t in n)switch(t){case"cssClass":this._changeSkin(n[t]);break;case"windowResizing":this._windowResizing(n[t]);break;case"rtl":this._rtl(n[t]);break;case"orientation":this._setOrientation(n[t])}},refresh:function(){this._setPanesDimentions(),this._getPaneSizeByPercent()},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_windowResizing:function(n){this.model.windowResizing!=n&&(n?this._wireEvents(n):this._unWireEvents())},_setOrientation:function(n){this._destroy(),this.model.orientation=n,this._init()},_destroy:function(){this.element.removeClass(this.model.cssClass+" e-splitter-"+this.model.orientation);for(var t=0,i=0;t<this.target.children.length;t++)n(this.target.children[t]).hasClass("splitbar")&&n(this.target.children[t]).remove(),n(this.target.children[t]).hasClass("pane")&&(n(this.target.children[t]).removeClass("pane"),n(this.target.children[t]).removeClass(this.model.orientation.substr(0,1)+"-pane"),this.target.children[t].style.width=null,this.target.children[t].style.height=null);this._unWireEvents()},_initialize:function(){this.target=this.element[0],this.panes=[],this.oldPaneSize=[],this.oldPanePercent=[],this.panesCount=0,this.currArrow=null,this.control=n("#"+this.target.id),this.shadowBar=null,this.containerCss=this.model.orientation=="horizontal"?"width":"height",this.displayCss=this.model.orientation=="horizontal"?"left":"top",this._bar=7},_render:function(){this.element.addClass(this.model.cssClass+" e-splitter-"+this.model.orientation);for(var t=0,i=0;t<this.target.children.length;t++)this.target.children[t].nodeName=="DIV"&&(n(this.target.children[t]).addClass("pane "+this.model.orientation.substr(0,1)+"-pane"),this.panes.push(this.target.children[t]));this.panesCount=this.panes.length,this._setPanesProperty(),this._insertSplitBar(),this._setDimentions(),this._setPanesDimentions(),this._initializeSizeArray(),this._getPaneSizeByPercent(),this._checkProperties()},_setPanesProperty:function(){for(var n=0;n<this.panesCount;n++)this.model.properties[n]!=i?(this.model.properties[n].paneSize=this.model.properties[n].paneSize==i?"0px":this.model.properties[n].paneSize,this.model.properties[n].minSize=this.model.properties[n].minSize==i?"0px":this.model.properties[n].minSize,this.model.properties[n].maxSize=this.model.properties[n].maxSize==i?null:this.model.properties[n].maxSize,this.model.properties[n].collapsible=this.model.properties[n].collapsible==i?!0:this.model.properties[n].collapsible,this.model.properties[n].resizable=this.model.properties[n].resizable==i?!0:this.model.properties[n].resizable):this.model.properties.push({paneSize:"0px",minSize:"0px",maxSize:null,collapsible:!0,resizable:!0})},_insertSplitBar:function(){if(this.panes.length>1)for(var r=this.model.orientation.substr(0,1),u,f,i,n=0;n<this.panes.length-1;n++)i=t.buildTag("span.splitbar "+r+"-bar","",{},{index:n}),this.model.properties[n].collapsible&&this.model.properties[n+1].collapsible&&(u=t.buildTag("span.collapse "+r+"-arrow "+r+"-backward"),i.append(u),f=t.buildTag("span.expand "+r+"-arrow "+r+"-forward"),i.append(f),this._on(u,"mousedown",this._collapseArrowClick),this._on(f,"mousedown",this._expandArrowClick)),i.insertAfter(this.panes[n]),this.model.properties[n].resizable&&this.model.properties[n+1].resizable&&(i.addClass("r"),this._on(i,"mousedown",this._mouseDownOnDivider))},_initializeSizeArray:function(){var r=this.element.parent().width(),u=this.element.parent().height(),i=r-(this.panesCount-1)*this._bar,f=u-(this.panesCount-1)*this._bar,t;if(this.model.orientation=="horizontal")for(t=0;t<this.panes.length;t++)n(this.panes[t]).hasClass("collapsed")||(this.oldPaneSize[t]=n(this.panes[t]).width(),this.oldPanePercent[t]=this._convertToPercent(i,this.oldPaneSize[t]));else for(t=0;t<this.panes.length;t++)n(this.panes[t]).hasClass("collapsed")||(this.oldPaneSize[t]=n(this.panes[t]).height(),this.oldPanePercent[t]=this._convertToPercent(i,this.oldPaneSize[t]))},_getPaneSizeByPercent:function(){var i=this.element.parent().width(),r=this.element.parent().height(),u=i-(this.panesCount-1)*this._bar,f=r-(this.panesCount-1)*this._bar,t;if(this.widPercent=[],this.heightPercent=[],this.model.orientation=="horizontal")for(t=0;t<this.panes.length;t++)this.widPercent.push(this._convertToPercent(u,n(this.panes[t]).width()));else for(t=0;t<this.panes.length;t++)this.heightPercent.push(this._convertToPercent(f,n(this.panes[t]).height()))},_setDimentions:function(){this.model.height&&this.element.css("height",this.model.height),this.model.width&&this.element.css("width",this.model.width)},_checkProperties:function(){this.model.rtl&&this._rtl(this.model.rtl)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setPanesDimentions:function(){var r=this.containerCss,h=0,t=0,u=r=="width"?this.element.width():this.element.height(),a=!1,f=this._bar,v=[],e,i,c,y,o,s,l,p,w;if(this.panesCount>1)for(i=0;i<this.panesCount;i++)n(this.panes[i]).css(r,this.model.properties[i].paneSize),f=i==this.panesCount-1?0:f,e=r=="width"?n(this.panes[i]).width():n(this.panes[i]).height(),e=Math.round(e),e<=0?(h++,v.push(i),t+=f):a?(n(this.panes[i]).css(r,0),t+=e+f):(t+=e+f,t>u&&(t-=e-f,c=u-t,y=this.panesCount-i-1,c-=y*f,n(this.panes[i]).css(r,c),a=!0,t+=c+f));else this.panesCount==1&&(n(this.panes[0]).css(r,"100%"),t=u);if(t!=u)if(s=n(this.panes[this.panesCount-1]),t>u)o=t-u,s.css(r,o);else if(t<u)if(o=u-t,h>0)for(p=Math.round(o/h),l=0;l<h;l++)n(this.panes[v[l]]).css(r,p);else w=r=="width"?s.width():s.height(),s.css(r,Math.round(w+o));this._checkPaneSize()},_getUnit:function(n){return n=="px"?"px":n=="pt"?"pt":n.substr(1)=="%"?"%":"px"},_getNormalValue:function(n){var i=this.control,r,t,u,f;return this.model.orientation=="vertical"?(r=n.y-i.offset().top,t=r/i[0].offsetHeight,u=this.control.height()):(r=n.x-i.offset().left,t=r/i[0].offsetWidth,u=this.control.width()),t>1&&(t=1),t<0&&(t=0),f=t*u,this._trimValue(f)},_trimValue:function(n){var t,i,r;return t=1,i=n%t,r=n-i,Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_paneResize:function(){if(this.shadowBar==null)return!1;this.currentSplitBar=this.shadowBar.next();var t=null,i,r,u,f;i=this.shadowBar.prev(),r=this.currentSplitBar.next(),u=parseInt(this.currentSplitBar.attr("index"),10),f=parseInt(this.currentSplitBar.attr("index"),10)+1,this.model.orientation=="horizontal"?(t=this.shadowBar.offset().left,t=t-this.currentSplitBar.offset().left,n(i).css({width:t+n(i).width()+"px"}),n(r).css({width:n(r).width()-t+"px"}),this.oldPaneSize[u]=n(i).width(),this.oldPaneSize[f]=n(r).width()):(t=this.shadowBar.offset().top,t=t-this.currentSplitBar.offset().top,n(i).css({height:t+n(i).height()+"px"}),n(r).css({height:n(r).height()-t+"px"}),this.oldPaneSize[u]=n(i).height(),this.oldPaneSize[f]=n(r).height()),n("#"+this.target.id+" .shadowbar").remove(),this._checkPaneSize()},_checkPaneSize:function(){for(var i=0,u,r,f,e,t=0;t<this.panesCount;t++)u=this.containerCss=="width"?n(this.panes[t]).width():n(this.panes[t]).height(),i+=u+this._bar;i-=this._bar,r=this.containerCss=="width"?this.element.width():this.element.height(),i!=r&&(f=r-i,e=this.containerCss=="width"?n(this.panes[this.panesCount-1]).width():n(this.panes[this.panesCount-1]).height(),n(this.panes[this.panesCount-1]).css(this.containerCss,e+f))},_maxminDraggableRange:function(t){var s,h,v,y,c,e,o,u,f,i,r,l,a;s=this.shadowBar.prev(),this.currentSplitBar=this.shadowBar.next(),h=this.currentSplitBar.next(),v=this.containerCss=="width"?s.width():s.height(),y=this.containerCss=="width"?h.width():h.height(),c=this.model.orientation=="horizontal"?this.currentSplitBar[0].offsetLeft:this.currentSplitBar[0].offsetTop,e=c-v,o=y+c,u=parseInt(this.currentSplitBar.attr("index"),10),f=parseInt(this.currentSplitBar.attr("index"),10)+1,i=this.model.properties[u].maxSize,r=this.model.properties[f].maxSize,i=i!=null?parseInt(i,10):null,r=r!=null?parseInt(r,10):null,this.model.properties[u].minSize=parseInt(this.model.properties[u].minSize,10),this.model.properties[f].minSize=parseInt(this.model.properties[f].minSize,10),l=this.model.properties[u].minSize<30?30:this.model.properties[u].minSize,a=this.model.properties[f].minSize<30?30:this.model.properties[f].minSize,n(this.shadowBar).removeClass("endrangeindicator"),t>o-a?(this.resizedPosition=o-a,n(this.shadowBar).addClass("endrangeindicator")):t<e+l&&(this.resizedPosition=e+l,n(this.shadowBar).addClass("endrangeindicator")),i!=null&&t>e+i&&(this.resizedPosition=e+i,n(this.shadowBar).addClass("endrangeindicator")),r!=null&&t<o-r&&(this.resizedPosition=o-r,n(this.shadowBar).addClass("endrangeindicator"))},_collapseArrowClick:function(t){var o,r,i,s,f,e,c,u,l,a,v,y,h;if(this.currentSplitBar=n(t.target).parent(),u={},o=parseInt(this.currentSplitBar.attr("index"),10),r=this.currentSplitBar.prev(),i=this.currentSplitBar.next(),s=o,f=o+1,e=this.containerCss=="width"?r.width():r.height(),c=this.containerCss=="width"?i.width():i.height(),l=this,a={paneObj:r,paneIndex:s,prevSize:e},v={paneObj:i,paneIndex:f,prevSize:c},i.hasClass("collapsed")){if(e<this.oldPaneSize[f])return this.currArrow=n(t.target),n(t.target).addClass("endrangeindicator"),n(window).bind("mouseup",n.proxy(this._mouseUpOnArrow,this)),!1;r.removeClass("expanded"),i.removeClass("collapsed"),n(t.target).parent().addClass("r"),n(t.target).siblings().css("display","block"),f!=this.panesCount-1&&(h=i.next(),h.find(".collapse").css("display","block"),h.next().hasClass("collapsed")||h.addClass("r")),u[this.containerCss]=this.oldPaneSize[f],i.animate(u,this.model.animationSpeed),u[this.containerCss]=e-this.oldPaneSize[f],r.animate(u,this.model.animationSpeed,function(){l._raiseEvent(a,v,o)})}else this.oldPaneSize[s]=e,r.addClass("collapsed"),i.addClass("expanded"),n(t.target).parent().removeClass("r"),n(t.target).css("display","none"),s!=0&&(y=r.prev(),y.find(".expand").css("display","none"),y.removeClass("r")),u[this.containerCss]=0,r.animate(u,this.model.animationSpeed),u[this.containerCss]=e+c,i.animate(u,this.model.animationSpeed,function(){l._raiseEvent(a,v,o)});this._getPaneSizeByPercent()},_expandArrowClick:function(t){var o,i,r,f,s,c,e,u,l,a,v,y,h;if(this.currentSplitBar=n(t.target).parent(),u={},o=parseInt(this.currentSplitBar.attr("index"),10),i=this.currentSplitBar.prev(),r=this.currentSplitBar.next(),f=o,s=o+1,c=this.containerCss=="width"?i.width():i.height(),e=this.containerCss=="width"?r.width():r.height(),l=this,a={paneObj:r,paneIndex:s,prevSize:e},v={paneObj:i,paneIndex:f,prevSize:c},i.hasClass("collapsed")){if(e<this.oldPaneSize[f])return this.currArrow=n(t.target),n(t.target).addClass("endrangeindicator"),n(window).bind("mouseup",n.proxy(this._mouseUpOnArrow,this)),!1;i.removeClass("collapsed"),r.removeClass("expanded"),n(t.target).parent().addClass("r"),n(t.target).siblings().css("display","block"),f!=0&&(h=i.prev(),h.find(".expand").css("display","block"),h.prev().hasClass("collapsed")||h.addClass("r")),u[this.containerCss]=this.oldPaneSize[f],i.animate(u,this.model.animationSpeed),u[this.containerCss]=e-this.oldPaneSize[f],r.animate(u,this.model.animationSpeed,function(){l._raiseEvent(a,v,o)})}else this.oldPaneSize[s]=e,i.addClass("expanded"),r.addClass("collapsed"),n(t.target).parent().removeClass("r"),n(t.target).css("display","none"),s!=this.panesCount-1&&(y=r.next(),y.find(".collapse").css("display","none"),y.removeClass("r")),u[this.containerCss]=c+e,i.animate(u,this.model.animationSpeed),u[this.containerCss]=0,r.animate(u,this.model.animationSpeed,function(){l._raiseEvent(a,v,o)});this._getPaneSizeByPercent()},_raiseEvent:function(n,t,i){this.model.expandCollapse&&this._trigger("expandCollapse",{collapsed:n,expanded:t,splitbarIndex:i,splitterId:this.element[0].id})},_mouseUpOnArrow:function(){this.currArrow.removeClass("endrangeindicator"),n(window).unbind("mouseup",n.proxy(this._mouseUpOnArrow,this))},_mouseDownOnDivider:function(t){if(t.preventDefault(),n(t.target).hasClass("splitbar")&&n(t.target).hasClass("r")){var i=this.displayCss=="left"?t.target.offsetLeft:t.target.offsetTop;this.shadowBar=n(t.target).clone().addClass("shadowbar").insertBefore(t.target).css(this.displayCss,i),this.shadowBar.children().remove(),n(document).bind("mousemove",n.proxy(this._mouseMoveOnDivider,this)),n(document).bind("mouseup",n.proxy(this._mouseUpOnDivider,this))}},_mouseMoveOnDivider:function(t){var i={x:t.pageX,y:t.pageY};this.resizedPosition=this._getNormalValue(i),this._maxminDraggableRange(this.resizedPosition),n(".e-splitter .shadowbar").css(this.displayCss,this.resizedPosition)},_mouseUpOnDivider:function(){this._paneResize(),this._getPaneSizeByPercent(),this.model.resize&&this._trigger("resize"),n(document).unbind("mousemove",n.proxy(this._mouseMoveOnDivider,this)),n(document).unbind("mouseup",n.proxy(this._mouseUpOnDivider,this)),this.shadowBar=null},_windowResized:function(){var e=this.element.parent().width(),o=this.element.parent().height(),i=e-(this.panesCount-1)*this._bar,r=o-(this.panesCount-1)*this._bar,t,u,f;if(this.model.orientation=="horizontal")for(t=0;t<this.panesCount;t++)u=this._convertToPixel(i,this.widPercent[t]),n(this.panes[t]).css("width",u+"px");else for(t=0;t<this.panesCount;t++)f=this._convertToPixel(r,this.heightPercent[t]),n(this.panes[t]).css("height",f+"px");if(this._checkPaneSize(),this.model.orientation=="horizontal")for(t=0;t<this.oldPaneSize.length;t++)this.oldPaneSize[t]=this._convertToPixel(i,this.oldPanePercent[t]);else for(t=0;t<this.oldPaneSize.length;t++)this.oldPaneSize[t]=this._convertToPixel(r,this.oldPanePercent[t])},_convertToPercent:function(n,t){return t*100/n},_convertToPixel:function(n,t){return Math.round(n*t/100)},_wireEvents:function(t){t&&n(window).bind("resize",n.proxy(this._windowResized,this))},_unWireEvents:function(){n(window).unbind("resize",n.proxy(this._windowResized,this))}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTab","ej.Tab",{_rootCSS:"e-tab",element:null,model:null,defaults:{collapsible:!1,ajaxOptions:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},disabled:[],event:"click",idPrefix:"ej-tab-",heightStyle:"content",selectedItemIndex:0,cssClass:"",showCloseButton:!1,headerPosition:"top",width:null,height:null,rtl:!1,allowKeyboardNavigation:!0,roundedCorner:!1,persist:!1,ajaxLoad:null,ajaxBeforeLoad:null,active:null,beforeActive:null,itemAdd:null,itemRemove:null,beforeItemRemove:null,itemEnable:null,itemDisable:null},dataTypes:{cssClass:"string",collapsible:"boolean",event:"string",heightStyle:"enum",selectedItemIndex:"number"},_init:function(){this.tabId=0,this.initialize()},_destroy:function(){this._unWireEvents(),this._removeBaseClass()},_setModel:function(n){for(var i in n)switch(i){case"event":this._unWireEvents(),this._wireEvents(n[i]);break;case"disabled":this._disableTabs();break;case"selectedItemIndex":this.show(n[i]);break;case"heightStyle":this._setTabsHeightStyle(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"roundedCorner":this._roundedCorner(n[i]);break;case"allowKeyboardNavigation":n[i]?this._on(this.element,"keydown",this._docKeyPress):this._off(this.element,"keydown");break;case"headerPosition":this.model.headerPosition=n[i],this.model.headerPosition==t.Tab.Position.Top&&(this.itemsContainer.remove(),this.itemsContainer.insertBefore(this.element.find(">div").first()),this.element.find("div.e-tab-activeContent").removeClass("activebottom")),this._unWireEvents(),this.initialize();break;case"showCloseButton":n[i]?(this._addDeleteIcon(),this._on(this.element.find("div.deleteicon"),"click",this._tabDeleteClick)):this.element.find("div.deleteicon").remove();break;case"rtl":n[i]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")}},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},initialize:function(){var i;for(this.element.attr("tabindex",0),this.itemsContainer=this.element.find("ol,ul").eq(0),this.items=this.itemsContainer.find(" > li:has(a[href])"),this.anchors=this.items.find("a[href]"),n(this.anchors).addClass("e-link"),this._preTabIndex=-1,t.isNullOrUndefined(this.model.width)&&this.element.width(this.model.width),t.isNullOrUndefined(this.model.height)&&this.element.height(this.model.height),this._setTabPosition(this.model.headerPosition),this.model.showCloseButton&&this._addDeleteIcon(),this._wireEvents(this.model.event),this.contentPanels=[],i=0;i<this.anchors.length;i++){var u=this.anchors[i],r=n(u).attr("href"),f=r.split("#")[0];f&&f===location.toString().split("#")[0]&&(r=a.hash,u.href=r),r&&r!=="#"?this._addContentTag(r,i):this.model.disabled.push(i)}this._addBaseClass(),this._setTabsHeightStyle(this.model.heightStyle),this._disableTabs(),this._roundedCorner(this.model.roundedCorner),this.show(this.model.selectedItemIndex)},_setTabPosition:function(n){n==t.Tab.Position.Bottom?(this.itemsContainer.remove(),this.element.append(this.itemsContainer),this.items.removeClass("borderbottom"),this.items.addClass("bordertop")):n==t.Tab.Position.Top&&(this.items.removeClass("bordertop"),this.items.addClass("borderbottom"))},_addDeleteIcon:function(){if(this.element.find("div.deleteicon").length<=0&&this.items.length>0){var n=t.buildTag("div.deleteicon e-icon");this.items.append(n)}},_addBaseClass:function(){this.element.addClass(this.model.cssClass+" e-tab-content"),this.model.rtl&&this.element.addClass("e-rtl"),this.items.length>0&&this.itemsContainer.addClass("e-tab-header"),this.items.addClass("e-state-default e-tab-item"),n(this.contentPanels).addClass("e-tab-content e-tab-panel e-tab-cntitem")},_removeBaseClass:function(){this.element.removeClass("e-widget e-tab-content"),this.itemsContainer.removeClass("e-tab-header e-clearall e-state-default"),this.anchors.removeClass("e-link"),this.items.removeClass("e-state-default e-tab-item e-state-active borderbottom bordertop"),n(this.contentPanels).removeClass("e-tab-content e-tab-panel e-tab-cntitem"),n(this.contentPanels).removeClass("e-tab-content e-tab-panel e-tab-cntitem e-content-bottom e-corner-bottom activetop activebottom e-tab-activeContent"),n(this.contentPanels).css("display","")},_addContentTag:function(i,r){var f=this._getTabId(i),u=this.element.find("#"+f);u.length||(u=t.buildTag("div.e-tab-content e-tab-panel e-tab-cntitem e-content-bottom #"+f).insertAfter(this.contentPanels[r-1]||this.itemsContainer)),this.contentPanels=n(this.contentPanels).add(u)},_roundedCorner:function(t){t?(this.element.addClass("e-corner-all"),this.items.addClass("e-corner-top"),n(this.contentPanels).addClass("e-corner-bottom")):this.element.hasClass("e-corner-all")&&(this.element.removeClass("e-corner-all"),this.items.removeClass("e-corner-top"),n(this.contentPanels).removeClass("e-corner-bottom"))},_setTabsHeightStyle:function(i){var u,f,r;if(n(this.contentPanels).height(""),t.Tab.heightStyle.Fill==i){for(u=this._getDimension(n(this.element).parent(),"height"),n(this.element).parent().css({overflow:"auto"}),r=0;r<this.items.length;r++)u-=this._getDimension(n(this.items[r]),"outerHeight");for(f=0,r=0;r<this.contentPanels.length;r++)f=Math.max(f,this._getDimension(n(this.contentPanels[r]),"innerHeight")-this._getDimension(n(this.contentPanels[r]),"height"));n(this.contentPanels).height(u-f).css({overflow:"auto"})}else if(t.Tab.heightStyle.Auto==i){for(u=0,r=0;r<this.contentPanels.length;r++)u=Math.max(u,this._getDimension(n(this.contentPanels[r]),"outerHeight"));n(this.contentPanels).height(u),this.maxAutoHeight=u}},_getDimension:function(t,i){var u,f=n(t).parents().andSelf().filter(":hidden"),r={visibility:"hidden",display:"block"},e=[];return f.each(function(){var t={},n;for(n in r)t[n]=this.style[n],this.style[n]=r[n];e.push(t)}),u=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),f.each(function(n){var i=e[n],t;for(t in r)this.style[t]=i[t]}),u},show:function(i){var u=this,r;if(this._preTabIndex=this.model.selectedItemIndex,this.model.selectedItemIndex=i,this.model.selectedItemIndex>=this.contentPanels.length&&(this.model.selectedItemIndex=0),this.model.selectedItemIndex!=null&&this.model.selectedItemIndex<this.contentPanels.length){if(this._ajaxLoad(),this.hide(this._preTabIndex),i>=0&&this._onBeforeActive(i))return!1;n(this.element.find(".e-tab-content")[this.model.selectedItemIndex]).fadeIn(200,"easeOutQuad",function(){if(u._onActive())return!0}),r=this.model.headerPosition==t.Tab.Position.Top?"activetop":"activebottom",n(this.contentPanels[this.model.selectedItemIndex]).addClass("e-tab-activeContent "+r),n(this.items[this.model.selectedItemIndex]).addClass("e-state-active")}},hide:function(i){n(this.contentPanels[i]).fadeOut(0);var r=this.model.headerPosition==t.Tab.Position.Top?"activetop":"activebottom";n(this.contentPanels[i]).removeClass("e-tab-activeContent "+r),n(this.items[i]).removeClass("e-state-active")},_ajaxLoad:function(){var t=n(this.contentPanels[this.model.selectedItemIndex]),i=this.anchors[this.model.selectedItemIndex];t.is(":empty")&&this._sendAjaxOptions(t,i)},_getTabId:function(n){return n.indexOf("#")?this.model.idPrefix+this._getNextTabId():n.replace("#","")},_getNextTabId:function(){return++this.tabId},_disableTabs:function(){for(var t=0,i;i=this.items[t];t++)n.inArray(t,this.model.disabled)>-1&&(n(i).find("a").unbind(this.model.event),n(this.contentPanels[t]).addClass("e-state-disabled")),n(i)[n.inArray(t,this.model.disabled)!=-1&&!n(i).hasClass("e-tab-selected")?"addClass":"removeClass"]("e-state-disabled")},_tabItemClick:function(t){t.preventDefault();var i;i=this.model.selectedItemIndex==n(this.items).index(n(t.target).parent())&&this.model.collapsible?-1:n(this.items).index(n(t.target).parent()),i!=this.model.selectedItemIndex&&this.show(i)},_tabDeleteClick:function(t){var r=n(t.target),i;r.hasClass("deleteicon")&&(i=n(this.items).index(n(t.target).parent())),i==this.model.selectedItemIndex&&this.items.length>i&&this.model.selectedItemIndex++,this.remove(i)},_sendAjaxOptions:function(t,i){if(this._onBeforeLoad())return!0;t.addClass("e-loading");var r=this,u=n(i).html(),f=i.href.replace("#",""),e={type:this.model.ajaxOptions.type,cache:this.model.ajaxOptions.cache,url:f,data:this.model.ajaxOptions.data,dataType:this.model.ajaxOptions.dataType,contentType:this.model.ajaxOptions.contentType,async:this.model.ajaxOptions.async,success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(){try{r._ajaxErrorHandler(i,r.model.selectedItemIndex,u)}catch(n){}}};this._sendAjaxRequest(e)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,i,r,u){return u!=null&&n(r).html(u),i.removeClass("e-loading"),i.html(t).addClass("e-tab-loaded"),this._onLoad()?!0:void 0},_ajaxErrorHandler:function(){this._onLoad()},_createContentPanel:function(t){return n("<div><\/div>").attr("id",t).addClass("e-tab-content e-tab-panel e-tab-cntitem e-content-bottom")},_refresh:function(){this._unWireEvents(),this.initialize()},_docKeyPress:function(n){n.preventDefault(),code=n.keyCode?n.keyCode:n.which?n.which:n.charCode;switch(code){case 39:case 38:this.show(this.model.selectedItemIndex+1);break;case 37:case 40:this.model.selectedItemIndex!=0?this.show(this.model.selectedItemIndex-1):this.model.selectedItemIndex==0&&this.show(this.tabCount()-1);break;case 35:this.show(this.tabCount()-1);break;case 36:this.show(0)}},_wireEvents:function(n){this._on(this.anchors,n,this._tabItemClick),this._on(this.element.find("div.deleteicon"),"click",this._tabDeleteClick),this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._docKeyPress)},_unWireEvents:function(){this.anchors.unbind(this.model.event)},disable:function(n){n!=null&&(this.model.disabled.push(n),this.model.disabled.sort(),this._disableTabs())},enable:function(i){if(t.isNullOrUndefined(this.contentPanels[i])||n(this.contentPanels[i]).removeClass("e-state-disabled"),n.inArray(i,this.model.disabled)==-1)return!1;this.model.disabled=n.grep(this.model.disabled,function(n){return n!=i}),this._refresh(),this._disableTabs()},tabCount:function(){if(this.items)return this.items.length},add:function(n,r,u){var e,c,o,s,h,f,l;this.items.length==0&&this.itemsContainer.addClass("e-tab-header"),e=t.buildTag("li.e-state-default e-tab-item"),c=t.buildTag("a",r,{},{href:n}),c.appendTo(e),this.model.showCloseButton&&(o=t.buildTag("div.deleteicon e-icon"),e.append(o),this._on(o,"click",this._tabDeleteClick)),s=n.indexOf("#")==0?n.replace("#",""):this.model.idPrefix+this._getNextTabId(),u===i&&(u=this.anchors.length),h=u>=this.items.length,h?e.appendTo(this.itemsContainer):e.insertBefore(this.items[u]),f=this.element.find("#"+s),f.length||(f=this._createContentPanel(s),h?u>0?f.insertAfter(this.contentPanels.eq(-1)):f.appendTo(this.element):f.insertBefore(this.items[u])),this._refresh(),l={addTab:this.anchors[u],addContentPanel:this.contentPanels[u]},this._onAdd(l)},remove:function(t){var i,r,u;if(t!=null&&t>-1&&t<this.items.length){if(this._onBrforeRemove({deleteIndex:t})===!0)return!1;i=n(this.items[t]).remove(),r=n(this.contentPanels[t]).remove(),i.hasClass("e-state-active")&&(this.model.selectedItemIndex=t==0?t:t-1),(t<0||t>=this.anchors.length)&&(this.model.selectedItemIndex=0),this.items.length==1&&this.itemsContainer.removeClass("e-tab-header"),this._refresh(),u={removedTab:i,removedPanel:r},this._onRemove(u)}},_onBeforeLoad:function(){var n;return n=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],OldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],OldSelectedIndex:this._preTabIndex,newTab:this.items[this.model.selectedItemIndex],newContentPanel:this.contentPanels[this.model.selectedItemIndex],newSelectedIndex:this.model.selectedItemIndex},this.model.ajaxBeforeLoad!=null?this._trigger("ajaxBeforeLoad",n):void 0},_onLoad:function(){var n;return n=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:this.items[this.model.selectedItemIndex],newContentPanel:this.contentPanels[this.model.selectedItemIndex],newSelectedIndex:this.model.selectedItemIndex},this.model.ajaxLoad!=null?this._trigger("ajaxLoad",n):void 0},_onActive:function(){if(this.model.active){var n;return n=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:this.items[this.model.selectedItemIndex],newContentPanel:this.contentPanels[this.model.selectedItemIndex],newSelectedIndex:this.model.selectedItemIndex},this._trigger("active",n)}},_onBeforeActive:function(n){if(this.model.beforeActive!=null){var t;return t=this.model.selectedItemIndex==-1&&this.model.collapsible?{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:null,newContentPanel:null,newSelectedIndex:null}:{oldTab:this.items[this._preTabIndex],oldContentPanel:this.contentPanels[this._preTabIndex],oldSelectedIndex:this._preTabIndex,newTab:this.items[n],newContentPanel:this.contentPanels[n],newSelectedIndex:n},this._trigger("beforeActive",t)}},_onAdd:function(n){if(this.model.itemAdd!=null)return this._trigger("itemAdd",n)},_onRemove:function(n){if(this.model.itemRemove!=null)return this._trigger("itemRemove",n)},_onBrforeRemove:function(n){if(this.model.beforeItemRemove!=null)return this._trigger("beforeItemRemove",n)}}),t.Tab.heightStyle={Content:"content",Auto:"auto",Fill:"fill"},t.Tab.Position={Top:"top",Bottom:"bottom"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTagCloud","ej.TagCloud",{element:{target:null},model:null,_rootCSS:"e-tagcloud",defaults:{cssClass:"",dataSource:null,query:null,fields:null,showTitle:!0,title:"Title",titleImage:null,format:"cloud",rtl:!1,minFontSize:"10px",maxFontSize:"40px",mouseover:null,mouseout:null,click:null},dataTypes:{cssClass:"string",showTitle:"boolean",title:"string",titleImage:"string",format:"enum",rtl:"boolean"},_init:function(){this._initialize(),this._render()},_setModel:function(n){var t;for(t in n)switch(t){case"dataSource":this._modifySourceItems(n[t]);break;case"minFontSize":this.model.minFontSize=n[t],this._modifySourceItems(this.model.dataSource);break;case"maxFontSize":this.model.maxFontSize=n[t],this._modifySourceItems(this.model.dataSource);break;case"title":this._title(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"format":this._format(n[t]);break;case"rtl":this._rtl(n[t])}},_modifySourceItems:function(n){this.ul.remove(),this._checkDataBinding(n)},_title:function(n){this.model.showTitle&&this.title.find("span")[0]&&(this.title.find("span")[0].innerHTML=n)},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},insert:function(t){n.trim(t.text)&&(t=this._setTagFrequency(t),this.ul.append(this._generateLi(t,this._getMapper())))},insertAt:function(t,i){n.trim(t.text)&&(t=this._setTagFrequency(t),n(this.ul.children()[i-1]).before(this._generateLi(t,this._getMapper())))},remove:function(t){for(var u=this.ul.children(),r,i=0;i<u.length;i++)r=n(u[i]),r.children()[0].innerHTML==t&&r.remove()},removeAt:function(t){var i=this.ul.children();n(i[t-1]).remove()},_format:function(n){n=="cloud"?(this.ul.removeClass("list"),this.ul.addClass("cloud")):n=="list"&&(this.ul.removeClass("cloud"),this.ul.addClass("list"))},_destroy:function(){this.element.removeClass(this.model.cssClass);for(var i=this.element.children(),t=0;t<i.length;t++)n(i[t]).remove()},_initialize:function(){this.minFreq=0,this.maxFreq=30,this.ul=null},_render:function(){this.element.addClass(this.model.cssClass),this.model.showTitle&&(this.title=t.buildTag("h3.title"),this.model.titleImage&&(this.image=n('<img class="titleimage" src="'+this.model.titleImage+'" />'),this.title.append(this.image)),this.model.title&&this.title.append(t.buildTag("span",this.model.title)),this.element.append(this.title)),this._renderWrapper(),this._checkDataBinding(this.model.dataSource),this._checkProperties()},_renderWrapper:function(){var n;n=this.model.format=="list"?"list":"cloud",this.ul=t.buildTag("ul."+n),this.element.append(this.ul)},_renderItems:function(n){this._setFrequency(n),this._generateTagItems(n),this.ul.removeClass("onloading")},_checkProperties:function(){this.model.rtl&&this._rtl(this.model.rtl)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_checkDataBinding:function(n){n!=null&&(this.ul.addClass("onloading"),t.DataManager&&n instanceof t.DataManager?this._initDataSource(n):this._renderItems(n))},_initDataSource:function(n){var t=this,i=n.executeQuery(this._getQuery());i.done(function(n){t._renderItems(n.result)}).fail(function(){t.ul.removeClass("onloading")})},_getQuery:function(){var u;if(t.isNullOrUndefined(this.model.query)){var r=[],i=t.Query(),n=this.model.fields;for(u in n)u!=="tableName"&&r.push(n[u]);r.length>0&&i.select(r),this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||i.from(n.tableName)}else i=this.model.query;return i},_setFrequency:function(n){var t;for(this.minFreq=0,this.maxFreq=n.length,t=0;t<n.length;t++)n[t].frequency==null||n[t].frequency==i||n[t].frequency<this.minFreq?n[t].frequency=this.minFreq:n[t].frequency>this.maxFreq&&(this.maxFreq=n[t].frequency)},_setTagFrequency:function(n){return n.frequency==null||n.frequency==i||n.frequency<this.minFreq?n.frequency=this.minFreq:n.frequency>this.maxFreq&&(this.maxFreq=n.frequency),n},_generateTagItems:function(n){for(var i=this._getMapper(),t=0;t<n.length;t++)this.ul.append(this._generateLi(n[t],i))},_getMapper:function(){var n=this.model.fields,t={_text:null,_freq:null,_url:null};return t._text=n&&n.text?n.text:"text",t._freq=n&&n.frequency?n.frequency:"frequency",t._url=n&&n.url?n.url:"url",t},_generateLi:function(n,i){var u=t.buildTag("li.tagitems"),r;return r=t.buildTag("a.text",n[i._text],{"font-size":this._calculateFontSize(n[i._freq])},{href:n[i._url]||"#",target:"blank"}),u.append(r),this._on(r,"mouseenter",this._mouseEnter),this._on(r,"mouseleave",this._mouseLeave),this._on(r,"click",this._mouseClick),u},_mouseEnter:function(t){n(t.target).addClass("hover"),this.model.mouseover&&this._raiseEvent(t,"mouseover")},_mouseLeave:function(t){n(t.target).removeClass("hover"),this.model.mouseout&&this._raiseEvent(t,"mouseout")},_mouseClick:function(t){n(t.target).removeClass("hover"),this.model.click&&this._raiseEvent(t,"click")},_raiseEvent:function(n,t){this._trigger(t,{text:n.target.text,url:n.target.href})},_calculateFontSize:function(n){if(n){var t=this.minFreq,e=this.maxFreq,i=2,r,u,f=parseInt(this.model.minFontSize,10),o=parseInt(this.model.maxFontSize,10);return r=(n-t)/(e-t),u=o-f,f+i*Math.floor(r*(u/i))}return this.model.minFontSize}}),t.format={Cloud:"cloud",List:"list"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejTreeView","ej.TreeView",{_rootCSS:"e-treeview",element:null,model:null,defaults:{showCheckbox:!1,dragAndDrop:!1,dropChild:!0,dropSibling:!0,dragAndDropAcrossControl:!0,allowEdit:!1,allowKeyboardNavigation:!0,dataSource:null,query:null,items:null,fields:null,autoCheckParentNode:!1,loadOnDemand:!1,cssClass:"",template:null,rtl:!1,expandEvent:"dblclick",persist:!1,expandedNodes:[],width:null,height:null,click:null,beforeExpand:null,expand:null,beforeCollapse:null,collapse:null,select:null,checked:null,unchecked:null,inlineEditValidation:null,beforeEdit:null,keyPress:null,dragStart:null,drag:null,dragStop:null,dropped:null},_init:function(){if(this.model.items!=null){var n=this._renderTemplate(this.model.items);this.element.append(n)}t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this.initialize():this._checkDataBinding()},_setModel:function(t){for(var i in t)switch(i){case"cssClass":this._changeSkin(t[i]);break;case"dragAndDropAcrossControl":this.model.dragAndDropAcrossControl=t[i],this._enableDargDrop();break;case"showCheckbox":t[i]?(this.model.showCheckbox=t[i],this._showCheckBox()):(this.element.find("div.e-checkbox").next().remove(),this.element.find("div.e-checkbox").remove());break;case"allowEdit":t[i]?this._enableAllowEdit():this._disableAllowEdit();break;case"allowKeyboardNavigation":t[i]?this._on(n(document),"keydown",this._KeyPress):n(document).unbind("keydown",this._KeyPress);break;case"dragAndDrop":t[i]&&this._enableDargDrop();break;case"rtl":t[i]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")}},_destroy:function(){this.element.html(""),this.element.parent().append(this._cloneElement),this.element.remove(),this.element=this._cloneElement,this.element.removeClass("e-treeview")},initialize:function(){this._cloneElement=n(this.element).clone(),this._cutCopyNodeText=null,this.beforeEditText=null,this.element.is("ul")?this._createWrapper():(this.element.addClass("e-treeview-widget"),this.model.width!=null&&this.element.width(this.model.width),this.model.height!=null&&this.element.height(this.model.height),this.model.rtl&&this.element.addClass("e-rtl")),this._ulList=n("ul",this.element),this._liList=n("li",this.element),this._addBaseClass(),this._controlRender(),this._addDragableClass(),this._wireEvents(),this._finalize()},_createWrapper:function(){var n=t.buildTag("div.e-treeview e-treeview-widget "+this.model.cssClass,"","",{tabindex:0});t.isNullOrUndefined(this.element.attr("accesskey"))||n.attr("accesskey",this.element.attr("accesskey")),this.model.width!=null&&n.width(this.model.width),this.model.height!=null&&n.height(this.model.height),this.model.rtl&&n.addClass("e-rtl"),n.insertAfter(this.element),n.append(this.element),this.element=n},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_checkDataBinding:function(){this.model.fields.dataSource instanceof t.DataManager?this._initDataSource():(this._ensureDataSource(this.model.fields.dataSource),this.initialize())},_initDataSource:function(){var t;this.element.ejWaitingPopup(),t=this.element.ejWaitingPopup("instance"),this.element.ejWaitingPopup("refresh"),this.element.ejWaitingPopup("show");var i=this._columnToSelect(this.model.fields),n=this,r=this.model.fields.dataSource.executeQuery(i);r.done(function(t){n.element.ejWaitingPopup("hide"),n.retriveData=t.result,n._ensureDataSource(t.result),n.initialize()})},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="child"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u),this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_ensureDataSource:function(n){this.currentSelectedData=n,this.element.append(this._renderTemplate(n))},_renderTemplate:function(n){var u=t.buildTag("ul"),r="",i;for(this._odataFlag=!1,i=0;i<n.length;i++)this.model.fields.dataSource!=null?(t.isNullOrUndefined(n[i][this.model.fields.parentId])||n[i][this.model.fields.parentId]==0)&&(r=this._tempalteSub(n[i],n,this.model.fields)):r=this._tempalteSub(n[i],n,this.model.fields),u.append(r);return u},_tempalteSub:function(i,r,u){var e,y,c,a,p,w=!1,v,b,l,k,f,s,o,h;if(this.model.fields.dataSource!=null&&(this.model.loadOnDemand&&i[u.hasChild]?(f={},p=n("<ul><\/ul>"),w=!0):f=t.isNullOrUndefined(u.parentId)?i[u.childItems]:t.DataManager(this.currentSelectedData).executeLocal(t.Query().where(u.parentId,t.FilterOperators.equal,i[u.id]))),t.isNullOrUndefined(this.model.template)?(e=n("<li><\/li>"),i[u.id]&&e.prop("id",i[u.id]),i[u.htmlAttribute]&&this._setAttributes(i[u.htmlAttribute],e),i[u.imageUrl]?(c=t.buildTag("img"),c.attr("src",i[u.imageUrl]),i[u.imageAttribute]&&this._setAttributes(i[u.imageAttribute],c),e.append(c)):i[u.spriteCssClass]&&(y=t.buildTag("span."+i[u.spriteCssClass]),e.append(y)),i[u.text]!=""&&(a=t.buildTag("a",i[u.text],"",{href:"#"}),i[u.linkAttribute]&&a.attr("href",i[u.linkAttribute]),e.append(a))):(v=n("<div><\/div>"),v.append(n("#"+this.model.template).render(i)),e=v.find("li")),i[u.expanded]&&e.addClass("expanded"),i[u.isChecked]&&e.addClass("ischecked"),w&&e.append(p),t.isNullOrUndefined(u.child)||this.model.loadOnDemand){if(!this._odataFlag&&f&&f.length>0){for(s=t.buildTag("ul"),o=0;o<f.length;o++)h=this._tempalteSub(f[o],r,u),s.append(h);e.append(s)}}else if(this._odataFlag=!0,u.child.dataSource instanceof t.DataManager)b=this,l=t.Query(),l=this._columnToSelect(u.child),l.where(u.child.parentId,t.FilterOperators.equal,i[u.id]),k=u.child.dataSource.executeQuery(l),k.done(function(t){f=t.result,f&&f.length>0&&(b._createSubNodesWhenLoadOnDemand(f,e,u.child),n(e).find(" >div >div").first().addClass("plus"))});else if(f=t.DataManager(u.child.dataSource).executeLocal(t.Query().where(u.child.parentId,t.FilterOperators.equal,i[u.id])),f&&f.length>0){for(s=n(document.createElement("ul")),o=0;o<f.length;o++)h=this._tempalteSub(f[o],u.child.dataSource,u.child),s.append(h);e.append(s)}return e},_setAttributes:function(n,t){for(var i in n)t.attr(i,n[i])},_addDragableClass:function(){this.model.dragAndDrop&&(this._anchors=this._liList.map(function(){return n("a",this)[0]}),this._anchors.addClass("e-draggable e-droppable"))},_addBaseClass:function(){this._ulList.addClass("e-treeview-ul"),this._liList.addClass("e-item"),this.element.find("ul").first().removeClass("e-treeview-ul")},_controlRender:function(){var c,r,o,v,s,f,y,h,l,b,p,u,k;if(this.element!=null){var e=this.element.find("> ul"),w=e.find("li"),a=-1;for(c=0;c<w.length;c++)r=n(w[c]),f=r.children("ul")[0],this.model.showCheckbox==!0&&n(f).length!=0&&(y=e.find(">li"),y.each(function(t){n(f).parents("li").first()[0]==n(y[t])[0]&&(a=a+1)}),this._checkboxrecursive(e,f,a)),f&&n(r.children("ul")[0]).remove(),h=r.children("a")[0],h?(s=n(h).text(),o=n(h).clone(),n(h).remove(),n(o).addClass("nodetext"),n(o).addClass("CanSelect"),v=r.clone(),r.html("")):(s=this._getText(r),v=r.clone(),r.html(""),o=t.buildTag("a.nodetext CanSelect",s,"",{href:"#"+n.trim(s)})),l=t.buildTag("span"),f?n(l).addClass("collapseimg"):n(l).addClass("child"),b=t.buildTag("div"),p=t.buildTag("div"),n(p).append(b).append(l).append(v.children()).append(o),r.prepend(p),f&&r.append(f),r.prop("name")==i&&r.prop("name",s);this.model.showCheckbox&&(this._addCheckBox(e),this.element.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}))}u=e.find("li"),u.find(">ul").hide(),k=u.find("a"),k.focus(function(){n(this).blur()}),u.filter("li:last-child").addClass("last"),n(u[0]).addClass("first"),n(u[0]).hasClass("first")&&n(u[0]).hasClass("last")&&n(u[0]).removeClass("first"),n(u.filter(":has(ul)")).each(function(){var t=n(n(this).children()).filter("ul");n(t).is(":hidden")?n(n(this).children().find("div")[0]).removeClass("minus").addClass("plus"):n(this.childNodes[1]).removeClass("plus").addClass("minus")})},_getText:function(t){return n(t).clone().children().remove().end().text()},_finalize:function(){var t,n;for(this._isFocus=!1,t=this.element.find(".expanded"),n=0;n<t.length;n++)this._expandNode(t[n]);for(this.model.showCheckbox&&this._isCheckedAction(),n=0;n<this.model.expandedNodes.length;n++)this._expandNode(this._liList[this.model.expandedNodes[n]]);this.model.allowEdit&&this._enableAllowEdit()},_isCheckedAction:function(){for(var i=this.element.find(".ischecked"),t=0;t<i.length;t++)this._nodeCheckedAction(n(i[t]).find("div.e-checkbox").first());this.element.find(".ischecked").removeClass("ischecked")},_addCheckBox:function(i){for(var u=i.find(">li"),f,e,r=0;r<u.length;r++)f=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox["+r+"].Checked",value:"False"}),e=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:r}),n(u[r]).children("div").children("span").first().after(n(e)),n(u[r]).children("div").children("span").first().after(n(f))},_checkboxrecursive:function(i,r,u){var o=this,f,e=n(r).find(">li");f=n(n(n(r).parents("li")[0]).find(">input[type= hidden]")[0]).length==0?u:n(n(r).parents("li")[0]).find(">input[type=hidden]")[0].value,e.each(function(i){var l=u,s=f+"."+i;o._checkboxrecursive(f,this,l);var h=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox["+s+"].Checked",value:"False"}),c=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:s}),r=n(e[i]);r.find("a.nodetext ").length>0?(h.insertBefore(r.find("a.nodetext ")[0]),c.insertBefore(r.find("a.nodetext ")[0])):r.append(h).append(c)})},_checkedChange:function(t){var i=n(t.element).closest(".e-treeview").data("ejTreeView");t.isChecked?i._nodeCheckedAction(t.element):i._nodeUnCheckedAction(t.element)},_ClickEventHandler:function(t){var e=this,i=t.target,r,u,f;if(!this._isclicked){if(this._isclicked=!0,this._onClick({Event:t}),i.tagName.toUpperCase()=="DIV"&&(n(i).hasClass("plus")||n(i).hasClass("minus"))){if(r=null,i.tagName.toUpperCase()=="SPAN"?(r=n(i.parentNode).parent().children().filter("ul"),i=n(i.parentNode).children().filter("div")[0]):r=n(i.parentNode).parent().children().filter("ul"),u=n(r).children().filter("li").length>0?!0:!1,!u&&this.model.loadOnDemand){n(i).addClass("e-loading");var o=n(n(i).parents("li")[0]).attr("id"),s=n(n(n(n(i).parents("li")[0]).children("div")[0]).children("a[class*=nodetext]")[0]).text(),h={id:o,text:s};this._loadOnDemand(h,i)}else this._expandCollapseAction(i);this._nodeSelectionAction(n(i).parents("li").first().find("a[class*=nodetext]").first())}i.tagName.toUpperCase()=="A"&&n(i).hasClass("CanSelect")&&!n(i).hasClass("selected")&&this._nodeSelectionAction(i)}setTimeout(function(){e._isclicked=!1},300),i.tagName.toUpperCase()=="A"&&(f=i.href,f.indexOf("#")!=-1&&t.preventDefault())},_loadOnDemand:function(n,i){var r,u=this,f,e;this.model.fields.dataSource instanceof t.DataManager?(f=t.Query().where(this.model.fields.parentId,t.FilterOperators.equal,n.id),e=this.model.fields.dataSource.executeQuery(f),e.done(function(n){r=n.result,r.length>0&&(u._createSubNodesWhenLoadOnDemand(r,i,u.model.fields),u._expandCollapseAction(i))})):(r=t.DataManager(this.currentSelectedData).executeLocal(t.Query().where(this.model.fields.parentId,t.FilterOperators.equal,n.id)),r.length>0&&setTimeout(function(){u._createSubNodesWhenLoadOnDemand(r,i,u.model.fields),u._expandCollapseAction(i)},400))},_getPath:function(t){for(var r=n(t).prop("name"),i=n(t).parents("li")[0];i!=null&&i.parentNode.id!=this._id;)r=n(i).prop("name")+"/"+r,i=n(i).parents("li")[0];return this._id+"/"+r},_nodeSelectionAction:function(t){if(n(t)!=null&&!n(n(t).parents("li")).hasClass("nodeDisabled")){n(n(this.element).find(".selected")).removeClass("selected"),n(t).addClass("selected");var i=n(n(t).parents("li")[0]),r=n(t).text(),u={currentElement:i,text:r};this._onNodeSelect(u)}},_nodeUnSelectionAction:function(t){t[0]!=null&&n(t).removeClass("selected")},_nodeEnableAction:function(t){t[0]!=null&&(t=n(t),this.model.showCheckbox&&n(n(t.parents("li")[0]).find("input")[0]).prop("disabled",!1),n(t.parents("li")[0]).removeClass("nodeDisabled"),n(t.parents("li")[0]).find("a").removeClass("nodeDisabled"),n(t.parents("li")[0])[0].disabled=!1)},_nodeDisableAction:function(t){t[0]!=null&&(t=n(t),this._collpaseNode(t.parents("li")[0]),this.model.showCheckbox&&n(n(t.parents("li")[0]).find("input")[0]).prop("disabled",!0),n(t.parents("li")[0]).addClass("nodeDisabled"),n(t.parents("li")[0]).find("a").addClass("nodeDisabled"),n(t.parents("li")[0]).find("a").hasClass("selected")&&n(t.parents("li")[0]).find("a").removeClass("selected"),n(t.parents("li")[0])[0].disabled=!0)},_expandCollapseAction:function(i){var f,u=this,o,e,r;if(!n(i.parentNode).parent().hasClass("nodeDisabled"))if(t.isNullOrUndefined(i.tagName)||i.tagName.toUpperCase()!="SPAN"?f=n(i.parentNode).parent().children().filter("ul"):(f=n(i.parentNode).parent().children().filter("ul"),i=n(i.parentNode).children().filter("div")[0]),o=i.tagName=="DIV"?n(i.parentNode.parentNode)[0]:i,this._isExpanded(o)){if(e=n(n(n(n(i).parents("li")[0]).children("div")[0]).children("a[class*=nodetext]")[0]).text(),r={currentElement:n(n(i).parents("li")[0]),text:e},this._onBeforeCollapse(r)===!0)return!1;n(f).animate({height:"toggle"},200,"linear",function(){u._onNodeCollapse(r),u._removeExpandedNodes(u._liList.index(r.currentElement))}),n(i).removeClass("minus").addClass("plus"),i.parentNode!=null&&(n(i.parentNode.parentNode).removeClass("e-collapse"),n(n(i.parentNode).children()[1]).addClass("collapseimg").removeClass("expandimg"))}else{var s=n(n(i).parents("li")[0]),e=n(n(n(n(i).parents("li")[0]).children("div")[0]).children("a[class*=nodetext]")[0]).text(),r={currentElement:s,text:e};if(this._onBeforeExpand(r)===!0)return!1;n(f).animate({height:"toggle"},350,"linear",function(){u._onNodeExpand(r),u._addExpandedNodes(u._liList.index(s))}),n(i).removeClass("plus").addClass("minus"),n(i.parentNode.parentNode).addClass("e-collapse"),n(n(i.parentNode).children()[1]).removeClass("collapseimg").addClass("expandimg")}},_isExpanded:function(t){t.tagName=="A"&&(t=n(t.parentNode.parentNode)[0]);var i=this.isNodeExpanded(t);return n(n(t).children().filter("ul"))!=null&&(i=n(n(t).children().filter("ul").find("li"))!=null?n(n(t).children().filter("ul").find("li")).is(":not(:hidden)"):!1),i},_isChecked:function(t){return n(t).val()==="True"?!0:!1},_isUnChecked:function(t){return n(t).context.checked?!1:!0},_nodeCheckedAction:function(i){var o=this,f=n(n(i).find("input.nodecheckbox[type=checkbox]")[0]),s,h,e,u,r;for(f.addClass("checked").prop("value","True"),f.ejCheckBox({indeterminate:!1,checked:!0}),this._onChecked(f),n(n(i).parents("li")[0]).children("ul").find("input.nodecheckbox[type=checkbox]").prop("checked",!0).addClass("checked").prop("value","True"),s=n(n(i).parents("li")[0]).children("ul").find("input.nodecheckbox[type=checkbox]"),s.each(function(){n(this).ejCheckBox({checked:!0}),o._onChecked(this)}),h=this.model.autoCheckParentNode,e=n(n(i).parents("li")[0]).parents("li"),e.each(function(t){var r=n(e[t]).children("ul").find("li"),u=n(e[t]).find('input.nodecheckbox[value="True"]').length,i=n(n(e[t]).find("input.nodecheckbox[type=checkbox]")[0]);u==r.length||h?(i.addClass("checked").prop("value","True"),n(i).ejCheckBox({indeterminate:!1,indeterminateState:!1,checked:!0}),o._onChecked(i)):(i.ejCheckBox({indeterminate:!0,indeterminateState:!0}),i.val("False"))}),u=this.element.find('input.nodecheckbox[value="True"]'),r=0;r<u.length;r++){var f=n(u[r]).parents(".e-checkbox"),c=n(f.next()[0])[0].value,l=n(n(u[r]).parents("li")[0]).attr("id"),a=n(u[r]).parents("li").first().find(".nodetext").first().text(),v=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox["+c+"].Value",value:l}),y=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox["+c+"].Text",value:a});try{n(u[r]).append(n(v)),n(u[r]).append(n(y))}catch(p){}}},_nodeUnCheckedAction:function(t){var s=this,e,o,u,r,f,i;for(t=n(t),i=n(n(t).find("input.nodecheckbox[type=checkbox]")[0]),i.removeClass("checked").prop("value","False").children().remove(),i.ejCheckBox({indeterminate:!1,checked:!1}),this._onUnChecked(i),e=n(t.parents("li")[0]).children("ul").find("input.nodecheckbox[type=checkbox]"),e.removeClass("checked").prop("value","False").children().remove(),e.each(function(){n(this).ejCheckBox({checked:!1}),s._onUnChecked(this)}),o=this.model.autoCheckParentNode,u=n(t.parents("li")[0]).parents("li"),r=0;r<u.length;r++)f=n(u[r]).find('input.nodecheckbox[value="True"]').length,i=n(n(u[r]).find("input.nodecheckbox[type=checkbox]")[0]),f<=0&&(i.ejCheckBox({indeterminate:!1,indeterminateState:!1,checked:!1}),this._onUnChecked(i)),f>1&&o?(i.addClass("checked").prop("value","True"),i.ejCheckBox({checked:!0})):f>0&&(i.removeClass("checked").prop("value","False").children().remove(),i.ejCheckBox({indeterminateState:!0,indeterminate:!0}))},_enableAllowEdit:function(){var t=this.element,i=n(t).find("li");i.each(function(){n(this).addClass("AllowEdit")})},_disableAllowEdit:function(){var t=this.element.find("li");t.each(function(){n(this).removeClass("AllowEdit")})},_expandNode:function(t){if(t!=null&&n(n(n(t).children("div")).children()[0]).hasClass("plus")){var i=n(t).children("ul").find("li").length>0?!0:!1;i&&this._expandCollapseAction(n(n(t).children("div")).children()[0])}return!0},_collpaseNode:function(t){var i=t;i!=null&&n(i).find("ul").length>0&&n(n(n(i).children("div")).children()[0]).hasClass("minus")&&this._expandCollapseAction(n(n(i).children("div")).children()[0])},_expandAll:function(){var i=this,r=this.element,t=n(r).find("li:not([class*='nodeDisabled'])"),u=t.find(">ul:hidden").parents("li");t.find(">ul:hidden").find("li").length>0&&t.find(">ul:hidden").animate({height:"toggle"},350),n(u).each(function(){if(!n(this).hasClass("nodeDisabled")){var r=n(n(this).parents("li")[0]),u=n(n(this).find(">div >a")[0]).text(),t={currentElement:r,text:u};if(i._onBeforeExpand(t)===!0)return!1;n(this).find("li").length>0&&(n(this).addClass("expand"),n(n(n(this).children("div")[0]).children()[1]).removeClass("collapseimg").addClass("expandimg"),n(n(n(this).children("div")[0]).children()[0]).removeClass("plus").addClass("minus")),i._onNodeExpand(t)}})},_collapseAll:function(){var n=this.element.find("li");this._collapseNodes(n)},_checkAll:function(){var u,r,i,t;if(this.model.showCheckbox)for(u=this.element,r=n(u).find("li"),i=0;i<r.length;i++)t=n(r[i]).children().find("input.nodecheckbox")[0],n(t)[0].disabled?n(t).ejCheckBox("setModel",{checked:!1}):(n(t).ejCheckBox("setModel",{checked:!0}),n(t).attr("value","True"),this._onChecked(t));else alert("Please Enable the ShowCheckbox property")},_unCheckAll:function(){var u,r,t,i;if(this.model.showCheckbox)for(u=this.element,r=n(u).find("li"),t=0;t<r.length;t++)i=n(r[t]).find("input.nodecheckbox")[0],n(i).ejCheckBox("setModel",{checked:!1}),n(i).attr("value","False"),this._onUnChecked(i);else alert("Please Enable the ShowCheckbox property")},_collapseNodes:function(t){var i=this,r=t.find(">ul:not(:hidden)").parents("li");t.find(">ul:not(:hidden)").animate({height:"toggle"},350),n(r).each(function(){var r=n(n(this).find(">div >a")[0]).text(),t={currentElement:this,text:r};if(i._onBeforeCollapse(t)==!0)return!1;n(this).find("li").length>0&&(n(this).removeClass("e-collapse"),n(n(n(this).children("div")[0]).children()[1]).removeClass("expandimg").addClass("collapseimg"),n(n(n(this).children("div")[0]).children()[0]).removeClass("minus").addClass("plus")),i._onNodeCollapse(t)})},_showCheckBox:function(){for(var t=this.element.find("> ul"),e=t.find("li"),f,i=0;i<e.length;i++){var r=-1,o=e[i],u=n(o).children("ul")[0];this.model.showCheckbox==!0&&n(u).length!=0&&(f=t.find(">li"),f.each(function(t){n(n(u).parents("li")[0])[0].id==n(f[t])[0].id&&(r=r+1)}),this._checkboxrecursive(t,u,r))}this._addCheckBox(t),t.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})},_drag:function(){var i=this,r=!1,u=null;this._treeView=this.element.parent(),this.model.dragAndDropAcrossControl||(u=this.element.parent()),n(this._treeView).find("ul li div a").ejDraggable({dragArea:u,clone:!0,dragStart:function(n){var t=n.event.originalEvent.target||n.event.target,r={target:t};if(i._onDragStarts(r))return n.cancel=!0,!1},drag:function(u){var f,o,s,e;if(n(".Sibling").remove(),f=u.event.originalEvent.target||u.event.target,o={target:f},i._onDrag(o))return!1;n(f).hasClass("e-droppable")||n(f).parent().hasClass("e-droppable")?(document.body.style.cursor="",n(f).addClass("allowDrop")):(document.body.style.cursor="not-allowed",n(f).removeClass("showline-hover"),n(f).removeClass("noline-hover")),f.nodeName!="A"?(f.nodeName=="UL"&&(f=n(f).children()[0]),f.nodeName!="LI"&&(f=n(f).parent(".e-droppable")[0]||n(f).parent()),f.nodeName=="LI"&&n(f).hasClass("e-droppable")&&i.model.dropSibling&&(s=n(".e-treeview").has(f).offset().top+n(f).children().find("a")[0].offsetTop||-1,e=t.buildTag("div.Sibling"),n(f).hasClass("last")?n(f).append(e):n(f).hasClass("first")?n(f).prepend(e):(r=u.event.pageY<s?!1:!0,r?n(f).prepend(e):n(f).append(e)))):n(".Sibling").remove()},dragStop:function(t){var u,o,f,e;if((t.element.dropped||(n(".dragClone").remove(),document.body.style.cursor=""),u=t.event.originalEvent.target||t.event.target,u.className=="Sibling"&&(u=n(u).parent("li")[0]),o=i,f=r?"Before":"After",f=u.nodeName=="A"?"Over":f,e={target:u,position:f},i._onDragStop(e))||(n(t.element).removeClass("selected"),u.nodeName=="A"&&i.model.dropChild&&n(u).hasClass("e-droppable")||u.nodeName=="UL"&&n(u).children().length==0?(f="Over",n(t.element).parent().parent().has(n(u)).length==0&&(n(u).parent().parent().has(n(t.element)).length==0||i._isDescendant(n(u).parents("li:last").find(">ul>li"),n(t.element).parents("li:first")[0]))&&(i._dropAsChildNode(u,t.element,t.event),o._applyFirstLastChildClass())):(u.nodeName=="UL"&&(u=n(u).children()[0]),u.nodeName!="LI"&&(u=n(u).parent(".e-droppable")[0]||n(u).parent()),u.nodeName=="LI"&&i.model.dropSibling&&n(u).hasClass("e-droppable")&&(n(".Sibling").remove(),n(t.element).parent().parent().has(n(u)).length<1&&(i._dropAsSublingNode(u,t.element,r,t.event),o._applyFirstLastChildClass()))),n(".Sibling").remove(),n(".allowDrop").removeClass("allowDrop"),i.model.dropChild||n(i.element.find(".dragClone")).remove(),e={target:u,event:t.event,dropedElement:t.element},i._onDropped(e)))return!1;document.body.style.cursor=""},helper:function(t){return n(t.sender.target).clone().addClass("dragClone").appendTo(i.element)}})},_isDescendant:function(t,i){var r=!0;return n(t).each(function(n,t){if(t==i)return r=!1,!1;r=!0}),r},_childDrop:function(){n(this._treeView).find("ul li div a").ejDroppable({accept:n(this._treeView).find("ul li div a"),drop:function(t,i){n(i.helper).hide()}})},_siblingDrop:function(){n(this._treeView).find("ul li").ejDroppable({drop:function(t,i){n(i.helper).hide()}})},_dropAsSublingNode:function(t,i,r,u){var f=u.ctrlKey?n(i).parent().parent().clone():n(i).parent().parent(),e=n(i).parents("li")[1];r?n(f).insertBefore(t):n(f).insertAfter(t),this._checkBox(t,f),this._modifiCss(e),this._applyFirstLastChildClass()},_dropAsChildNode:function(t,i,r){var u=r.ctrlKey?n(i).parent().parent().clone():n(i).parent().parent(),f=n(i).parents("li")[1];t.nodeName=="UL"?n(t).append(u):this._appendNode(t,u),this._checkBox(n(t).parent().parent(),u),this._modifiCss(f),this._applyFirstLastChildClass(),this._expandNode(n(t).parent().parent()[0])},_appendNode:function(i,r){if(this._showline&&i.length!=0&&(n(n(n(i).parents("li")[0]).find("li")).hasClass("last")&&n(n(n(i).parents("li")[0]).find("li")).removeClass("last"),n(r).addClass("last")),i.length!=0)if(n(n(i).parents("li")[0]).find("ul")[0]==null){var u=t.buildTag("ul.e-treeview-ul");n(u).append(n(r)),n(n(n(i).parents("li")[0]).find("div")[1]).hasClass("minus")||n(n(n(i).parents("li")[0]).find("div")[1]).addClass("minus"),n(n(i).parents("li")[0]).append(n(u))}else n(n(n(i).parents("li")[0]).find("ul")[0]).append(n(r))},_checkBox:function(t,i){var r;if(!n(i).hasClass("nodecheckbox")&&n(i).find(".nodecheckbox").length>0&&(n(i).find(".e-checkbox").next().remove(),n(i).find(".e-checkbox").remove()),n(t).find(".e-checkbox").length>0){r=n(".e-treeview").has(t).find("ul")[0],n(r).find(".e-checkbox").next().remove(),n(r).find(".e-checkbox").remove();var f=this,u=-1,e=n(r).find("li");e.each(function(){var t=n(this).children("ul")[0],i;n(t).length!=0&&(i=n(r).find(">li"),i.each(function(r){n(n(t).parents("li")[0])[0].id==n(i[r])[0].id&&(u=u+1)}),f._childcheckbox(r,t,u))}),this._addCheckBox(n(r)),this.element.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),n(t).closest(".e-treeview").find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})}},_childcheckbox:function(i,r,u){var o=this,f,e=n(r).find(">li");f=n(n(n(n(r).parents("li")[0]).children()[0]).find(">input[type= hidden]")[0]).length==0?u:n(n(n(r).parents("li")[0]).children()[0]).find(">input[type= hidden]")[0].value,e.each(function(i){var c=u,r=f+"."+i,s,h;o._childcheckbox(f,this,c),s=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox["+r+"].Checked",value:"False"}),h=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:r}),n(e[i]).children("div").children("span").after(n(h)),n(e[i]).children("div").children("span").after(n(s))})},_modifiCss:function(t){n(t).find("li").length==0?(n(t).find("ul").remove(),n(t).removeClass("e-collapse"),n(t).find("div.minus").removeClass("minus")):n(n(t).find("li")[n(t).find("li").length-1]).hasClass("last")||n(n(t).find("li")[n(t).find("li").length-1]).addClass("last")},_applyFirstLastChildClass:function(){var i=this.element,t=i.find("li");t.removeClass("first"),t.removeClass("last"),t.filter("li:last-child").addClass("last"),n(t[0]).addClass("first"),n(t[0]).hasClass("first")&&n(t[0]).hasClass("last")&&n(t[0]).removeClass("first")},_expandEventHandler:function(t){var i=n(n(t.target).siblings("div")),r,u;if(!(t.type==="dblclick"&&this.model.allowEdit))if(t.preventDefault(),this.model.loadOnDemand)if(r=n(t.target),u=r.parents("li").find("div.plus,div.minus").first(),u.hasClass("plus")){u.addClass("e-loading");var f=n(r.parents("li")[0]).attr("id"),e=r.text(),o={id:f,text:e};this._loadOnDemand(o,u[0])}else this._expandCollapseAction(i[0]);else i&&(i.hasClass("plus")||i.hasClass("minus"))&&this._expandCollapseAction(i[0])},_inlineEdit:function(t){return t.preventDefault(),t.target.tagName!="A"||n(t.target).hasClass("nodeDisabled")||n(n(t.target).parents("li")[0]).hasClass("AllowEdit")&&n(t.target).hasClass("nodetext")&&(n(t.target).removeClass("selected"),this._inlineEditAction(t.target)),!1},_inlineEditAction:function(t){var i=n("#Edit_Input")[0];i==null?this._createEditTextBox(t):(i=n("#Edit_Input")[0],n(i.parentNode).html(i.value),n(i).remove(),this._createEditTextBox(t)),n(t).css("display","none")},_createEditTextBox:function(i){var o={currentNode:i},r,u,e,f;return this._trigger("beforeEdit",o)?!1:(r=n("#Edit_Input")[0],r==null&&(u=t.buildTag("Input.Input_Text#Edit_Input","","",{type:"text",value:n.trim(i.innerHTML).replace(/\n\s+/g," "),name:"inplace_value"}),n(u).width(i.offsetWidth+5),n(u).height(i.offsetHeight-2),this.beforeEditText=n(i).text(),n(i).html(""),n(i).before(u),e=0,r=n("#Edit_Input")[0],e=r.value.length==""?3:i.offsetWidth+20,this._mousePositionAtEnd(r),this._currentEditableNode=i,f=n(r),this._on(f,"keypress",this._editTextBoxKeyPress),this._on(f,"keydown",this,this._pressEscKey),this._on(f,"blur",this._focusout)),r)},_editTextBoxKeyPress:function(n){n.target.size=n.target.value.length+1},_mousePositionAtEnd:function(n){return n.focus&&n.focus(),n.select&&n.select(),!0},_focusout:function(){var t=n("#Edit_Input")[0],i=t.value,r=n(n(t).parents("li")[0]).attr("id"),u={NodeID:r,OriginalText:this.beforeEditText,ModifiedText:i,UpdateChanges:!0};this._trigger("inlineEditValidation",u)==!0?this._cancelAction(t):this._saveAction(t)},_pressEscKey:function(t){t.cancelBubble=!0,t.returnValue=!1;var i=n("#Edit_Input")[0];i!=null&&(t.keyCode==13&&this._focusout(),t.keyCode==27&&this._cancelAction(i))},_onFocusHandler:function(t){this.model.allowKeyboardNavigation&&this._isFocus&&(this.element.find(".selected").removeClass("selected"),nextElement=this.element.find("li").first().find("a").first(),n(nextElement).addClass("selected"),t.preventDefault(),this._isFocus=!1)},_KeyPress:function(i){var f,c,e=this,a,u,r,l,o,d,s,v,w,y,p,g,b,h,nt,k;if(this._isFocus=!0,s=this.element.find("> ul"),f=i.keyCode?i.keyCode:i.which?i.which:i.charCode,f==113&&(i.preventDefault(),this._isFocus=!1,a=s.find(".selected")[0],a!=null&&n(n(a).parents("li")[0]).hasClass("AllowEdit")&&(n(a).removeClass("selected"),this._createEditTextBox(a))),e.model.allowKeyboardNavigation&&e.element.find("#Edit_Input").length<1)if(r=n(n(s).find(".selected").parents("li")[0]),l=n(s).find("li").not(":hidden"),f==40){if(r.length>0){for(i.preventDefault(),o=0;o<l.length;o++)if(n(n(l[o]).find("a")[0]).hasClass("selected"))if(o==l.length-1)this._nodeSelectionAction(n(r.find("a")[0]).addClass("selected"));else{n(n(l[o]).find("a")[0]).removeClass("selected"),this._nodeSelectionAction(n(n(l[o+1]).find("a")[0]));break}e._KeyPressEventHandler(u,e,f)}}else if(f==38){if(r.length>0){for(i.preventDefault(),o=0;o<l.length;o++)if(n(n(l[o]).find("a")[0]).hasClass("selected"))if(o==0)this._nodeSelectionAction(n(r.find("a")[0]).addClass("selected"));else{n(n(l[o]).find("a")[0]).removeClass("selected"),this._nodeSelectionAction(n(n(l[o-1]).find("a")[0]).addClass("selected"));break}e._KeyPressEventHandler(u,e,f)}}else if(f==39){if(n(r).children("div").find("div").hasClass("plus"))if(i.preventDefault(),d=n(r).children("ul").find("li").length>0?!0:!1,!d&&this.model.loadOnDemand){s=n(r).find("div.plus,div.minus").first(),s.addClass("e-loading");var tt=n(r).attr("id"),it=n(r).find("a[class*=nodetext]").first().text(),rt={id:tt,text:it};this._loadOnDemand(rt,s[0])}else this._expandNode(r);else n(r).find("div.plus,div.minus").first().length>0?this.selectNode(n(r).children("ul").find("li").first()[0]):(v=n(r).parent().find("li"),w=v.index(r),t.isNullOrUndefined(v[w+1])||this.selectNode(v[w+1]));u=n(r.find("a")[0]),e._KeyPressEventHandler(u,e,f)}else f==37?(n(r).children("div").find("div").hasClass("minus")?(i.preventDefault(),this._collpaseNode(r)):n(r).parents().first().parents("li").first().length>0&&(n(r).find("a.selected").first().removeClass("selected"),n(r).parents().first().parents("li").first().find("a").first().addClass("selected")),u=n(r.find("a")[0]),e._KeyPressEventHandler(u,e,f)):f==13?r.length>0&&(n(r).children("div").find("div").hasClass("minus")?this._collpaseNode(r):this._expandNode(r),u=n(r.find("a")[0]),e._KeyPressEventHandler(u,e,f)):f==32?r.length>0&&this.model.showCheckbox&&(i.preventDefault(),y=r.find("input.nodecheckbox[type=checkbox]").first(),y[0].checked?this._nodeUnCheckedAction(y.parent().parent()):this._nodeCheckedAction(y.parent().parent())):f==46?r.length>0&&(i.preventDefault(),this._removeNode(r.find("a.nodetext").first())):i&&i.ctrlKey==!0?f==88?(n(r).hasClass("first")?(p=n(r).removeClass("first").addClass("last"),n(r).next().addClass("first")):n(r).hasClass("last")?(p=n(r),n(r).prev().addClass("last")):p=n(r).addClass("last"),this._cutCopyNodeText=p,e._removeNode(),this.element.focus()):f==67?(g=n(r).clone(),this._cutCopyNodeText=g):f==86&&this._cutCopyNodeText!=null?(n(r).length===0&&(r=this.element),h=n(this._cutCopyNodeText).clone(),n(h.find("a")[0]).hasClass("selected")&&n(h.find("a")[0]).removeClass("selected"),b=n(h).hasClass("first")?n(h).removeClass("first").addClass("last"):n(h).hasClass("last")?n(h):n(h).addClass("last"),this.model.showCheckbox&&h.find("div.e-checkbox").ejCheckBox({checked:!1,change:this._checkedChange}),this._on(h.find(".nodetext"),"mouseenter",this._mouseEnterEvent),this._on(h.find(".nodetext"),"mouseleave",this._mouseLeaveEvent),n(r).children("div").children("span").hasClass("child")&&n(r).children("div").children("span").removeClass("child").addClass("expandimg"),n(r).children("ul").length!=0?(n(r).children("ul").find(">li").last().removeClass("last"),n(r).find(">ul").append(n(b))):(nt=t.buildTag("ul"),c=n(nt).append(n(b)),n(r).append(n(c)),n(r).children("div").find(">div").first().addClass("minus")),k=n(r).parents("li"),k.each(function(t){var i=n(k[t]).children("ul").find(">li");i.length==1&&n(i).addClass("last")}),this._expandNode(r)):f==36?(n(n(r).find("a")[0]).removeClass("selected"),u=n(n(s).find(">li")[0]).find("a")[0],n(u).addClass("selected"),e._KeyPressEventHandler(u,e,f),i.preventDefault()):f==35&&(n(n(r).find("a")[0]).removeClass("selected"),c=n(s).find(">li").last(),n(c).find("div").hasClass("minus")?(u=n(n(c).find("li").last().find("a")[0]),n(u).addClass("selected")):(u=n(c.find("a")[0]),n(u).addClass("selected")),e._KeyPressEventHandler(u,e,f),i.preventDefault()):f==36?(i.preventDefault(),n(n(r).find("a")[0]).removeClass("selected"),u=n(n(n(r).parents("li")[0]).find("li")[0]).find("a")[0],u?n(u).addClass("selected"):(u=n(n(s).find(">li")[0]).find("a")[0],n(u).addClass("selected")),e._KeyPressEventHandler(u,e,f)):f==35&&(i.preventDefault(),n(n(r).find("a")[0]).removeClass("selected"),u=n(n(r).parents("li")[0]).find("li").last().find("a")[0],u?n(u).addClass("selected"):(c=n(s).find(">li").last(),n(c).find("div").hasClass("minus")?(u=n(n(c).find("li").last().find("a")[0]),n(u).addClass("selected")):(u=n(c.find("a")[0]),n(u).addClass("selected"))),e._KeyPressEventHandler(u,e,f))},_removeNode:function(i){var r=t.isNullOrUndefined(i)?this.element.find(".selected"):i,u;r!=null&&(u=n(n(r).parents("li")[1]),n(n(r).parents("li")[0]).remove(),this._modifiCss(u))},_KeyPressEventHandler:function(t,i,r){var u,e=n(n(t).parents("li")[0]),o=i._getPath(n(t).parents("li")[0]),s=n(t).text(),f;u=n(n(t).parents("li")[0]).children("div").find("div").hasClass("minus")?!0:!1,f={keyCode:r,currentElement:e,nodeText:s,isExpanded:u,path:o},this._trigger("keyPress",f)},_documentClick:function(t){if(t.target.id!="Edit_Input")var i=n("#Edit_Input")[0];i!=null&&(n(i).next().html(i.value).removeAttr("style"),n(i).remove())},_saveAction:function(t){n(t).next().html(t.value).removeAttr("style"),n(t).remove()},_cancelAction:function(t){n(t).next().html(this.beforeEditText).removeClass("nodehover").addClass("selected").removeAttr("style"),this._hideEditTextBox()},_hideEditTextBox:function(){var t=n("#Edit_Input")[0];t!=null&&n(t).remove()},_mouseEnterEvent:function(t){n(t.target).hasClass("nodetext")&&!n(t.target).hasClass("nodeDisabled")&&n(t.target).addClass("nodehover")},_mouseLeaveEvent:function(t){n(t.target).hasClass("nodehover")&&n(t.target).removeClass("nodehover")},_createSubNodesWhenLoadOnDemand:function(i,r,u){t.isNullOrUndefined(u)&&(u=this.model.fields);var a,f=this,v=u.id,h=u.text,c=u.parentId,y=u.childItems,p=u.hasChild,e=u.imageUrl,o=u.ckecked,l=u.spriteCssClass,s=t.buildTag("ul.e-treeview-ul","",{display:"none"});n.each(i,function(u,c){var d=t.buildTag("a.nodetext CanSelect",c[h],"",{href:"#"+c[h]}),g,k,nt,w,rt,b,ut;if(f._on(n(d),"mouseenter",f._mouseEnterEvent),f._on(n(d),"mouseleave",f._mouseLeaveEvent),g=t.buildTag("div"),k=t.buildTag("span"),c[y]||c[p]?(n(k).addClass("collapseimg"),n(g).addClass("plus")):n(k).addClass("child"),c[e]!=null&&(nt=t.buildTag("img"),nt.src=c[e].substr(0,1)=="~"?c[e].substr(1,c[e].length):c[e]),f.model.showCheckbox){var it=n(n(r).parents("li")[0]).find("div").find(">input[type=hidden]")[0].value,tt=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox["+it+"."+u+"].Checked"}),ft=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:it+"."+u});c[o]!=null&&c[o]&&n(tt).prop("checked",!0),n(tt).prop("value",c[o]!=null?"False":c[o])}w=t.buildTag("div"),n(w).append(g),f.model.showCheckbox&&(n(w).append(tt),n(w).append(ft)),n(w).append(k),c[l]!=null&&(rt=t.buildTag("spane."+c[l]),n(w).append(rt)),n(w).append(nt),n(w).append(a),n(w).append(d),b=t.buildTag("li.e-item","","",{id:c[v]}),f.model.allowEdit&&b.addClass("AllowEdit"),i.length==u+1&&b.addClass("last"),b.append(n(w)),ut=n(b),c.ChildCount>0&&n(n(ut).children().find("div")[0]).removeClass("minus").addClass("plus"),n(s).append(n(b))}),this.element.find(" li#"+i[0][c]+" ul ").remove(),this.element.find(" li#"+i[0][c]+"").append(n(s)),this.model.showCheckbox&&n(s).find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),n(r).removeClass("e-loading")},_createTreeElement:function(i,r,u){var e,a,v,y,o,c,s;if(this.model.showCheckbox){if(t.isNullOrUndefined(r))a=this.element.find(">li"),e=a.length+1;else if(n(r.parents("li")[0]).children("ul").length==0)e=n(n(r.parents("li")[0]).find("div")[0]).find(">input[type=hidden]")[0].value+".0";else{var h=n(n(r.parents("li")[0]).children("ul").find("li").last().find("div").find(">input[type=hidden]")[0]).val(),l=h.split("."),p=parseInt(l[l.length-1])+1,w=h.substring(0,h.length-1);e=w+p}v=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:"TreeView_Checkbox["+e+"].Checked",value:"False"}),y=t.buildTag("input","",{},{type:"hidden",name:"TreeView_Checkbox.Index",value:e})}o=t.buildTag("a.nodetext CanSelect",i,"",{href:"#"+i}),t.isNullOrUndefined(u)||o.attr("href",u),c=n(o),this._on(c,"mouseenter",this._mouseEnterEvent),this._on(c,"mouseleave",this._mouseLeaveEvent);var b=t.buildTag("span.child"),k=t.buildTag("div"),f=t.buildTag("div");return n(f).append(k),n(f).append(b),this.model.showCheckbox&&(n(f).append(v),n(f).append(y)),n(f).append(o),s=t.buildTag("li.e-item#"+i),this.model.allowEdit&&s.addClass("AllowEdit"),s.append(n(f)),n(s)},_addExpandedNodes:function(t){var i=this.model.expandedNodes;n.inArray(t,i)==-1&&this.model.expandedNodes.push(t)},_removeExpandedNodes:function(t){var i=this.model.expandedNodes;n.inArray(t,i)>-1&&this.model.expandedNodes.splice(n.inArray(t,i),1)},_wireEvents:function(){this._on(this.element,"click",this._ClickEventHandler),this._on(this.element.find(".nodetext"),"mouseenter",this._mouseEnterEvent),this._on(this.element.find(".nodetext"),"mouseleave",this._mouseLeaveEvent),this.model.allowEdit&&(this._on(n(document),"click",this._documentClick),this._on(this.element.parent(),"dblclick",this._inlineEdit)),this._on(this.element,this.model.expandEvent,this._expandEventHandler),this._on(n(document),"keydown",this._KeyPress),this._on(this.element,"focus",this._onFocusHandler),this._enableDargDrop()},_unWireEvents:function(){},_enableDargDrop:function(){this.model.dragAndDrop&&(this._drag(),this.model.dropChild&&this._childDrop(),this.model.dropSibling&&this._siblingDrop())},refresh:function(){this._unWireEvents(),this._init()},expandAll:function(){this._expandAll()},collapseAll:function(){this._collapseAll()},checkAll:function(){this.model.showCheckbox&&this._checkAll()},unCheckAll:function(){this.model.showCheckbox&&this._unCheckAll()},getSelectedNode:function(){var t=this.element.find(".selected");return n(n(t).parents("li")[0])},getText:function(i){if(t.isNullOrUndefined(i))return!1;return n(n(i).find("a")[0]).text()},selectNode:function(i){var r;t.isNullOrUndefined(i)||(r=n(i).hasClass("nodetext")?n(i):n(n(i).find(">div >a")[0]),this._nodeSelectionAction(r))},unSelectNode:function(i){var r;t.isNullOrUndefined(i)||(r=n(i).hasClass("nodetext")?n(i):n(n(i).find(">div >a")[0]),this._nodeUnSelectionAction(r))},enableNode:function(i){var r;t.isNullOrUndefined(i)||(r=n(i).hasClass("nodetext")?n(i):n(n(i).find("a.nodetext")[0]),this._nodeEnableAction(r),n(i).parent().find(".nodecheckbox").ejCheckBox("enable"))},disableNode:function(i){var r;t.isNullOrUndefined(i)||(r=n(i).hasClass("nodetext")?n(i):n(n(i).find(">div >a")[0]),this._nodeDisableAction(r),n(i).find(".nodecheckbox").ejCheckBox("disable"))},addNode:function(i,r,u){var f=null,s=null,o=this.element,h=o.children().length,e=t.isNullOrUndefined(u)?o.find(".selected"):u;e.length==0?(s=h==0||o.children().children().length==0?t.buildTag("ul"):o.children()[h-1],f=this._createTreeElement(i,null,r),n(s).append(f),this._appendNode(e,s),n(f).find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})):(this._expandNode(n(n(e).parents("li")[0])),f=this._createTreeElement(i,e,r),this._appendNode(e,f),this.model.showCheckbox&&n(f).find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})),this._modifiCss()},removeNode:function(i){t.isNullOrUndefined(i)||(element=n(i).hasClass("nodetext")?n(i):n(n(i).find(">div >a")[0])),this._removeNode(element)},getAllCheckedNodes:function(){return this.element.find('input.nodecheckbox[value="True"]').closest("li")},checkNode:function(n){t.isNullOrUndefined(n)||this._nodeCheckedAction(n.find("div.e-checkbox").first())},unCheckNode:function(n){t.isNullOrUndefined(n)||this._nodeUnCheckedAction(n.find("div.e-checkbox").first())},expandNode:function(n){t.isNullOrUndefined(n)||this._expandNode(n)},collpaseNode:function(n){t.isNullOrUndefined(n)||this._collpaseNode(n)},showNode:function(n){t.isNullOrUndefined(n)||n.css("visibility","visible")},hideNode:function(n){t.isNullOrUndefined(n)||n.css("visibility","hidden")},show:function(){this.element.css("visibility","visible")},hide:function(){this.element.css("visibility","hidden")},isNodeChecked:function(t){return this._isChecked(n(t).find("input.nodecheckbox")[0])},isExpanded:function(n){return this._isExpanded(n)},isNodeExpanded:function(i){if(!t.isNullOrUndefined(i)){var r=n(i).children().filter("ul");return n(r).is(":not(:hidden)")}},hasChildNode:function(i){var r=!1;return t.isNullOrUndefined(i)||(r=n(i).children().length<2?!1:!0),r},_onNodeExpand:function(n){this.model.expand&&this._trigger("expand",n)},_onNodeCollapse:function(n){this.model.collapse&&this._trigger("collapse",n)},_onBeforeExpand:function(n){if(this.model.beforeExpand)return this._trigger("beforeExpand",n)},_onBeforeCollapse:function(n){if(this.model.beforeCollapse)return this._trigger("beforeCollapse",n)},_onNodeSelect:function(n){this.model.select&&this._trigger("select",n)},_onChecked:function(t){var i=n(t).parents("li").first(),r=i.find(".nodetext").first().text(),u=this._isChecked(t),f={currentElement:i,text:r,checked:u};this.model.checked&&this._trigger("checked",f)},_onUnChecked:function(t){var i=n(t).parents("li").first(),r=i.find(".nodetext").first().text(),u=this._isChecked(t),f={currentElement:i,text:r,checked:u};this.model.unchecked&&this._trigger("unchecked",f)},_onDragStarts:function(n){if(this.model.dragStart)return this._trigger("dragStart",n)},_onDrag:function(n){if(this.model.drag)return this._trigger("drag",n)},_onDragStop:function(n){if(this.model.dragStop)return this._trigger("dragStop",n)},_onDropped:function(n){if(this.model.dropped)return this._trigger("dropped",n)},_onClick:function(n){this._trigger("click",n)}})}(jQuery,Syncfusion),function(n,t){t.widget("ejUploadbox","ej.Uploadbox",{element:null,model:null,_rootCSS:"e-uploadbox",defaults:{browseButtonText:"Browse",uploadButtonText:"Upload",asyncUpload:!0,disabled:!1,multipleFilesSelect:!1,autoUpload:!1,showFileDetails:!0,fileFormatAllow:"",fileFormatDeny:"",saveUrl:"",removeUrl:"",cssClass:"",rtl:!1,create:null,fileSelect:null,begin:null,cancel:null,complete:null,remove:null,error:null,destroy:null},dataTypes:{browseButtonText:"string",uploadButtonText:"string",disbled:"boolean",multipleFilesUpload:"boolean",autoUpload:"boolean",showFileDetails:"boolean",fileFormatAllow:"string",fileFormatDeny:"string",saveUrl:"string",removeUrl:"string",cssClass:"string",rtl:"boolean"},disable:function(){this.element.addClass("e-state-disabled")},enable:function(){this.element.hasClass("e-state-disabled")&&this.element.removeClass("e-state-disabled")},_init:function(){this._initialize(),this._wireEvents(),this.model.asyncUpload||this._initObjectsSyncUpload(),this.model.disabled?this.disable():this.enable()},_setModel:function(n){var t;for(t in n)switch(t){case"browseButtonText":this._setBrowseButtonText(n[t]);break;case"uploadButtonText":this._setUploadButtonText(n[t]);break;case"cssClass":this._setSkin(n[t]);break;case"rtl":this._setRTL(n[t])}},_setRTL:function(t){t?(this.element.addClass("e-rtl"),window.navigator.appName=="Microsoft Internet Explorer"&&this.inputupload.css("right","-153px")):(this.element.removeClass("e-rtl"),window.navigator.appName=="Microsoft Internet Explorer"&&this.inputupload.css("right","0px")),n("#"+this.element[0].id+"_dialog").ejDialog({rtl:t})},_setBrowseButtonText:function(n){this.buttondiv.val(n)},_setUploadButtonText:function(t){n("#"+this.control.id+" .upload-button").html(t)},_destroy:function(){this.element.hasClass("e-uploadbox")&&(this.element.removeClass("e-uploadbox"),this.element.empty())},_setSkin:function(n){this.element.removeClass(this.model.cssClass),this.element.addClass(n)},_initialize:function(){this.control=this.element[0],this.element.addClass(this.model.cssClass),this.innerdiv=t.buildTag("div.selectionpart"),this.element.append(this.innerdiv),this.buttondiv=t.buildTag("input.inputbutton#"+this.control.id+"_SelectButton","",{},{type:"button",value:this.model.browseButtonText}),this.inputupload=t.buildTag("input.e-uploadinput","",{},{type:"file",name:this.control.id}),this.model.multipleFilesSelect&&this.inputupload.attr(multiple,"multiple"),this.innerdiv.append(this.buttondiv),this.innerdiv.append(this.inputupload),this._Selector=this.element.find("#"+this.control.id+"_SelectButton")[0],this._setRTL(this.model.rtl),this.Uploadframes=[],this.UploadForms=[],this.UploadType=this._isXhrSupported()?"Xhr":"IFrame",window.navigator.vendor=="Google Inc."&&this.innerdiv.css("padding","4px 10px")},_wireEvents:function(){this._on(this.inputupload,"click",this._disableclickselect),this._bindInputChangeEvent()},_disableclickselect:function(n){this.element.hasClass("e-state-disabled")&&n.preventDefault()},_bindInputChangeEvent:function(){this._on(this.inputupload,"change",this._inputValueChange)},_inputValueChange:function(t){var i,r;i=n(t.target),n("#"+this.control.id).find(".upload-button").css("visibility","visible"),r=this._getInputFileInfo(i),this._trigger("fileSelect"),this._isAllowed(r)&&(this.model.asyncUpload?this.UploadType=="Xhr"?this._onXhrSelect(t):this._onSelectIFrame(t):this._onSelectSyncUpload(t))},__uploadButtonClick:function(t){this.UploadType=="Xhr"?this._xhrOnUploadButtonClick(t):this._onUploadButtonClickIFrame(t),n("#"+this.control.id).find(".upload-file-list").addClass("remove"),n(t.target).remove(),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&n(".selectionpart",this.control).css("float","none")},_actionClick:function(t){var r,i,u;r=n(t.target),i=r.closest(".upload-file"),u=n(i).data("file"),r.hasClass("file-action-delete")?(this._trigger("remove",{fileStatus:u}),this.UploadType=="Xhr"?this._xhrOnRemove(t,i):this._onRemoveIFrame(t,i)):r.hasClass("file-action-cancel")?(this._trigger("cancel",{fileStatus:u}),this.model.asyncUpload?this.UploadType=="Xhr"?this._xhrOnCancel(t,i):this._onCancelIFrame(t,i):this._onCancelSyncUpload(t,i)):r.hasClass("file-action-retry")&&(this.UploadType=="Xhr"?this._xhrOnRetry(t,i):this._onRetryIFrame(t,i))},_removeFileEntry:function(n){n.remove()},_isFileUpload:function(t){var i=n(t).find("div.file-action");return i.is(".file-action-cancel")},_isXhrSupported:function(){var n,i,r,t;return n=navigator.userAgent.toLowerCase(),t=0,navigator.userAgent.search("MSIE")>0&&(i=navigator.userAgent.search("MSIE")+5,r=navigator.userAgent.search("; Windows"),t=navigator.userAgent.substring(i,r)),navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0&&(n=n.substring(n.indexOf("safari/")+7),n=n.substring(0,n.indexOf(".")),t=n),navigator.userAgent.search("MSIE")>0&&t>9||navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0&&t==536?!1:typeof FormData!="undefined"&&typeof File!="undefined"},_getFileName:function(t){return n.map(this._getAllFileInfo(t),function(n){return n.name}).join(", ")},_getFileSize:function(t){var i=this;return n.map(this._getAllFileInfo(t),function(n){return i._formatSize(n.size)}).join(", ")},_pushFile:function(i,r){var f,e,o,u,s,h,c;for(filedialog=this.element.find("#"+this.element[0].id+"_dialog"),filedialog.length!=0?n("#"+this.element[0].id+"_dialog").ejDialog("open"):(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:"Upload Box"}),this.element.append(this.updialog)),f=n("#"+this.control.id+" .upload-file-list"),f.length==0&&(f=t.buildTag("ul.upload-file-list").appendTo(this.updialog),this.model.showFileDetails||f.hide()),h=this.element.offset().left+150,c=this.element.offset().top+50,n("#"+this.element[0].id+"_dialog").ejDialog({width:510,cssClass:this.model.cssClass,close:this._uploadFileListDelete,position:{X:h,Y:c},minHeight:110,rtl:this.model.rtl,contentContainer:"#"+this.element[0].id,resizable:!1}),u=0;u<i.length;u++)e=n("<li class='upload-file'><div class='file-list'><div class='file-progress file-view'><div class='file-name file-view'><span class='file-name-text'>"+i[u].name+"<\/span><\/div><\/div><div class='file-size file-view'><span class='file-name-text'>"+i[u].size+"<\/span><\/div><div class='file-percentage file-view'>0%<\/div><div class='action-perform'><div class='file-action file-view'><\/div><\/div><div class='file-progress-bar'><div class='file-progress-status'><\/div><\/div><\/div><\/li>").appendTo(f).data(r),(this._getFileSize(i[u]).toString().toLowerCase()=="nankb"||i[u].size==null)&&e.find(".file-size").remove(),s="cancel",e.find(".file-action").remove().addClass(s.toString()),s=="cancel"?o=t.buildTag("div.file-action file-action-cancel","",{},{title:"cancel"}):s=="remove"?o=t.buildTag("div.file-action file-action-delete","",{},{title:"remove"}):s=="retry"&&(o=t.buildTag("div.file-action file-action-retry","",{},{title:"retry"})),e.find(".action-perform").append(o),this._on(o,"click",this._actionClick);return e},_pushFileDetails:function(i){var o,r,u,f,e;return o=this,filedialog=this.element.find("#"+this.element[0].id+"_dialog"),filedialog.length!=0?n("#"+this.element[0].id+"_dialog").ejDialog("open"):(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:"Upload Box"}),this.element.append(this.updialog)),r=n("#"+this.control.id+" .upload-file-list"),r.length==0&&(r=t.buildTag("ul.upload-file-list").appendTo(this.updialog),this.model.showFileDetails||r.hide()),f=this.element.offset().left+150,e=this.element.offset().top+50,u=n("<li class='upload-file'><div class='file-list'><div class='file-progress file-view'><div class='file-name file-view'><span class='file-name-text'>"+i.name+"<\/span><\/div><\/div><div class='file-size file-view'><span class='file-name-text'>"+this._formatSize(0)+"\\"+this._formatSize(i.size)+"<\/span><\/div><div class='file-percentage file-view'>0%<\/div><div class='action-perform'><div class='file-action file-view'><\/div><\/div><div class='file-progress-bar'><div class='file-progress-status'><\/div><\/div><\/div><\/li>").appendTo(r).data("file",i),n("#"+this.element[0].id+"_dialog").ejDialog({width:520,cssClass:this.model.cssClass,close:this._uploadFileListDelete,position:{X:f,Y:e},minHeight:110,rtl:this.model.rtl,contentContainer:"#"+this.element[0].id,resizable:!1}),u},_setProgress:function(t,i,r){var u,f,e,o,s;u=n(t).find(".file-progress-status"),u.width(i+"%"),f=n(t).find(".file-percentage"),f.html(i+"%"),e=n(t).find(".file-size .file-name-text"),o=this._formatSize(r.loaded),s=this._formatSize(r.total),e.html(o+"\\"+s)},_setAction:function(n,i){var r;n.find(".file-action").remove().addClass(i.toString()),i=="cancel"?r=t.buildTag("div.file-action file-action-cancel","",{},{title:"cancel"}):i=="remove"?r=t.buildTag("div.file-action file-action-delete","",{},{title:"remove"}):i=="retry"&&(r=t.buildTag("div.file-action file-action-retry","",{},{title:"retry"})),n.find(".action-perform").append(r),this._on(r,"click",this._actionClick)},_setStatus:function(n,i){var u,r=t.buildTag("div");i=="success"&&(n.find(".file-status").addClass("file-status-success").html("Completed"),n.find(".file-percentage").html("").attr("title","Completed"),r.addClass("file-percentage-success"),n.find(".file-percentage").append(r)),i=="failed"&&(n.find(".file-status").addClass("file-status-failed").html("Failed"),n.find(".file-percentage").html("").attr("title","Failed"),r.addClass("file-percentage-failed"),n.find(".file-percentage").append(r)),i=="progress"&&n.find(".file-status").addClass("file-status-inprogress").html("in progress"),i=="uploading"&&(n.find(".file-status").addClass("file-status-inprogress").html("uploading"),u=n.find(".file-percentage"),u.html(""))},_createInputandBind:function(){var i=t.buildTag("input","",{},{type:"file"});i.attr("name",this.control.id).attr("autocomplete","off").attr("class","e-uploadinput"),this.model.multipleFilesUpload&&i.attr("multiple","multiple"),i.appendTo(n("#"+this.control.id+" .selectionpart")),this._bindInputChangeEvent()},_showUploadButton:function(){var i=n("#"+this.control.id+" .upload-button");i.length==0&&(i=t.buildTag("button.upbutton upload-button",this.model.uploadButtonText),n("#"+this.control.id+" .selectionpart").after(i),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&(this.model.rtl?n(".selectionpart",this.control).css("float","right"):n(".selectionpart",this.control).css("float","left")),window.navigator.appName=="Microsoft Internet Explorer"?i.css("height","35px"):window.navigator.vendor=="Google Inc."&&i.css("padding","10px").css("margin-top","0px"),this._on(i,"click",this.__uploadButtonClick),n("#"+this.control.id).find(".upload-file-list").removeClass("remove"))},_resetFileInput:function(n){var t=n.clone(!1,!1);this._on(t,"change",this._inputValueChange),n.replaceWith(t)},_isAllowed:function(t){var f,i,u,r,e,o;return f=this.element.find(".e-uploadinput"),i=!1,u=this,this.model.fileFormatAllow!=""&&(e=this.model.fileFormatAllow.split(","),n(t).each(function(){if(n.inArray(this.extension,e)==-1)return r={action:"ExtensionsAllow",files:t},u._trigger("error",r),i=!0,!1})),this.model.fileFormatDeny!=""&&(o=this.model.fileFormatDeny.split(","),n(t).each(function(){if(n.inArray(this.extension,o)!=-1)return r={action:"ExtensionsDeny",files:t},u._trigger("error",r),i=!0,!1})),i&&this._resetFileInput(f),!i},_uploadHide:function(){fileList=n("#"+this.control.id+" .upload-file .file-action-cancel"),fileList.length==0&&(n("#"+this.control.id).find(".upload-file-list").addClass("remove"),n("#"+this.element[0].id+"_dialog").ejDialog("close"),n("#"+this.control.id).find(".upload-button").remove(),(window.navigator.appName=="Microsoft Internet Explorer"||window.navigator.appName=="Netscape")&&n(".selectionpart",this.control).css("float","none"))},_uploadFileListDelete:function(){var t,i;n("#"+this.element[0].id).find(".upload-file-list").remove(),t=this.element[0].id.replace("_dialog",""),n("#"+t).find(".upload-button").remove(),i=n("#"+t).find(".e-uploadinput"),a=n("#"+t).ejUploadbox("instance"),a._resetFileInput(i)},_onXhrSelect:function(t){var r,u,i,f;r=n(t.target),u=this._getInputFileInfo(r),this._xhrBeforeUpload(u,r),i=this,n.each(u,function(t,r){f=n(r).data("filelist"),i._setAction(f,"cancel"),i.model.autoUpload?i._xhrPerformUpload(r):i._showUploadButton()})},_xhrBeforeUpload:function(t){var i,r,u,f;return i=t,r=this,n.each(i,function(t,i){u=r._createFormObjectXhr(i),n(i).data("formobject",u),f=r._pushFileDetails(i),n(i).data("filelist",f)}),i},_xhrPerformUpload:function(t){var u,i,f,r;this._trigger("begin"),u=this.model.saveUrl,i=this,f=n(t).data("formobject"),r=new XMLHttpRequest,n(t).data("xhr",r),r.addEventListener("load",function(n){i._onRequestSuccess(i,n,t)},!1),r.addEventListener("error",function(n){i._onRequestError(i,n,t)},!1),r.upload.addEventListener("progress",function(n){i._onRequestProgress(i,n,t)},!1),r.open("POST",u),r.send(f)},_xhrOnUploadButtonClick:function(){var t,i,r;t=this,n(".upload-file-list li.upload-file",t.control).each(function(){i=n(this),r=t._isFileUpload(i),r&&t._xhrPerformUpload(n(i).data("file"))})},_xhrOnRemove:function(t,i){var r=n(i).find(".file-name").text().toString().split(",");n.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+r,success:function(){n(i).remove()}})},_xhrOnCancel:function(t,i){var r,u;r=n(i).data("file"),u=n(r).data("xhr"),u&&n(r).data("xhr").abort(),n(r).data("xhr",null),n(i).data("file",null),n(i).remove(),this._uploadHide()},_xhrOnRetry:function(t,i){var r=n(i).data("file");this._xhrPerformUpload(r)},_onRequestSuccess:function(t,i,r){var u,e,o,s,f,h,c;u=n(r).data("filelist"),e=n(r).data("xhr"),t.model.removeUrl?(t._setAction(u,"remove"),t._setStatus(u,"success")):(u.find(".file-action").remove(),t._setStatus(u,"success")),n(r).length>0&&(o=n(u).find(".file-progress-status"),o.width("100%"),s=n(r)[0].size,f=this._formatSize(s),h=n(u).find(".file-size .file-name-text"),h.html(f+"\\"+f)),c={files:r,xhr:e,e:i},t._trigger("complete",c)},_onRequestError:function(t,i,r){var u,f,e;u=n(r).data("filelist"),f=n(r).data("xhr"),t._setAction(u,"retry"),t._setStatus(u,"failed"),e={action:"Error",files:r,xhr:f,e:i},t._trigger("error",e)},_onRequestProgress:function(t,i,r){var f,u;f=Math.round(i.loaded*100/i.total),u=n(r).data("filelist"),t._setProgress(u,f,i),t._setStatus(u,"progress")},_createFormObjectXhr:function(n){var t=new FormData;return t.append(this.control.id,n.rawFile),t},_getInputFileInfo:function(n){var t=n[0];return t.files?this._getAllFileInfo(t.files):[{name:this._GetName(t.value),extension:this._getFileExtensionType(t.value),size:this._getFileSizeinIE(t.value)}]},_getFileSizeinIE:function(n){var t,i;t=null,i=null;try{t=new ActiveXObject("Scripting.FileSystemObject")}catch(r){i=null}return t&&(i=t.getFile(n).size),i},_getFileExtensionType:function(n){return n.match?n.match(/\.([^\.]+)$/)[0]||"":""},_getAllFileInfo:function(t){var i=this;return n.map(t,function(n){return i._getFileInfo(n||t)})},_GetName:function(n){var t=n.lastIndexOf("\\");return t!=-1?n.substr(t+1):n},_getFileInfo:function(n){var t=n.name||n.fileName||n;return{name:t,extension:this._getFileExtensionType(t),size:n.size||n.fileSize,rawFile:n}},_formatSize:function(n){var t=-1;do n=n/1024,t++;while(n>99);return Math.max(n,.1).toFixed(1)+["KB","MB","GB","TB","PB","EB"][t]},_onSelectIFrame:function(t){var r,u,i,f;r=n(t.target),u=this._getInputFileInfo(r),i=this._beforeUploadIFrame(u),f=i.data("iframe"),this.model.autoUpload?this._performUploadIFrame(i):this._showUploadButton(),n(this.inputupload).unbind("change"),this._bindInputChangeEvent()},_onRemoveIFrame:function(t,i){var r,u;r=i.data("iframe"),u=n(i).find("span.file-name-text").text().toString().split(","),r?(this._removeFileEntry(i),this.model.removeUrl&&n.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+u,success:function(){}})):this._removeFileEntry(i)},_onCancelIFrame:function(n,t){var i;this._trigger("cancel",{Status:t}),i=t.data("iframe"),i&&(this._removeFileEntry(t),typeof i.stop!="undefined"?i.stop():i.document&&(i.document.execCommand("Stop"),i.contentWindow.location.href=i.contentWindow.location.href),this._processServerResponse(i,"")),this._uploadHide()},_onRetryIFrame:function(t,i){var r=n(i).data("file");this._performUploadIFrame(r)},_beforeUploadIFrame:function(t){var i,u,r;return i=this._createFrame(this.control.id+"_Iframe"+this.Uploadframes.length),this.Uploadframes.push(i),u=this._createForm(this.model.saveUrl,i[0].id),n("#"+this.control.id+" input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(u),this._createInputandBind(),r=this._pushFile(t,{iframe:i,form:u,file:t}),i.data({filelist:r}),this._setAction(r,"cancel"),r},_performUploadIFrame:function(n){var r,t,i;this._trigger("begin"),r=n.data("file"),this._setStatus(n,"uploading"),t=n.data("iframe"),i=n.data("form"),t.appendTo(document.body),i.appendTo(document.body),this._on(t,"load",this._removeFramesIFrame),i.submit()},_onUploadButtonClickIFrame:function(){var t,i,r;t=this,n(".upload-file-list li.upload-file",t.control).each(function(){i=n(this),r=t._isFileUpload(i),r&&t._performUploadIFrame(i)})},_removeFramesIFrame:function(t){var r,u,i,f,e;r=n(t.target);try{u=r.contents().text()}catch(t){u="Error trying to get server response: "+t}i=r.data("filelist"),f=i.data("file"),e={files:f},this._trigger("complete",e),this.model.removeUrl?(this._setAction(i,"remove"),this._setStatus(i,"success")):(i.find(".file-action").remove(),this._setStatus(i,"success")),this._processServerResponse(r,u)},_processServerResponse:function(t){var i;i=n(document.body).find("form[target='"+n(t).attr("id")+"']"),setTimeout(function(){i.remove(),t.remove()},0)},_createDivBlock:function(n){return t.buildTag("div."+n)},_createForm:function(n,i){return t.buildTag("form","",{},{enctype:"multipart/form-data",method:"POST",action:n,target:i})},_createFrame:function(n){return t.buildTag("iframe#"+n,"",{display:"none"},{name:n})},_createInput:function(n){return t.buildTag("input","",{},{type:"file",name:n})},_initObjectsSyncUpload:function(){this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data"),this._wireEventsSyncUpload()},_wireEventsSyncUpload:function(){var t=this.element.closest("form")[0];this._on(n(t),"submit",this._formSubmitSyncUpload),this._on(n(t),"reset",this._formResetSyncUpload)},_onSelectSyncUpload:function(t){var i,r,u,f;i=n(t.target),r=this._getInputFileInfo(i),u=n(".selectionpart",this.control),n("#"+this.control.id+" input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(u),this._createInputandBind(),f=this._pushFile(r,{file:r,Input:i})},_onCancelSyncUpload:function(n,t){var i=t.data("Input");t.data("file",null),t.data("Input",null),t.remove(),i.remove()},_formSubmitSyncUpload:function(){var t,i;t=n(".e-uploadinput",this.control),t.attr("name",""),i=this.control,setTimeout(function(){t.attr("name",i.id)},0)},_formResetSyncUpload:function(){n(".selectionpart",this.control).children('input[type="file"]').each(function(){this.className==" "&&n(this).remove()}),n(".upload-file-list",this.control).remove()}})}(jQuery,Syncfusion),function(n,t,i){t.widget({mCircularGauge:"m.CircularGauge",ejCircularGauge:"ej.CircularGauge"},{defaults:{radius:180,width:360,height:360,frameType:"fullCircle",backgroundColor:null,interiorGradient:null,readOnly:!0,halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360,animate:!0,animationSpeed:500,theme:"flatlight",isRadialGradient:!1,drawTicks:null,drawLabels:null,drawPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,drawPointerCap:null,renderComplete:null,mouseClick:null,mouseClickMove:null,mouseClickUp:null,scales:null},_defaultScaleValues:function(){return{scaleBarSize:6,scaleBorderWidth:1.5,capBorderColor:null,capBackgroundColor:null,showScaleBar:!1,sweepAngle:310,scaleRadius:170,startAngle:115,majorIntervalValue:10,minorIntervalValue:2,maximum:100,minimum:0,borderColor:null,backgroundColor:null,labelAutoAngle:!1,scaleDirection:"Clockwise",showPointers:!0,showRanges:!1,showTicks:!0,showLabels:!0,showIndicators:!1,pointerCapRadius:7,pointerCapBorderWidth:3,capInteriorGradient:null,pointers:[{distanceFromScale:0,showBackNeedle:!1,backNeedleLength:10,pointerLength:150,pointerPosition:"Near",pointerWidth:7,opacity:1,borderWidth:1.5,value:0,borderColor:null,backgroundColor:null,pointerGradient:null,pointerType:"Needle",needleStyle:"Triangle",markerStyle:"Rectangle"}],ranges:[{distanceFromScale:25,size:5,rangePosition:"Near",startValue:null,endValue:null,startWidth:10,endWidth:10,rangeGradient:null,borderWidth:1.5,opacity:null,backgroundColor:"#32b3c6",borderColor:"#32b3c6"}],ticks:[{angle:0,distanceFromScale:0,tickColor:null,tickStyle:"Major",tickPosition:"Near",tickHeight:16,tickWidth:3},{angle:0,distanceFromScale:0,tickColor:null,tickStyle:"Minor",tickPosition:"Near",tickHeight:7,tickWidth:1}],labels:[{angle:0,opacity:null,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},labelColor:null,distanceFromScale:0,includeFirstValue:!0,labelPosition:"Near",labelStyle:"Major"}],indicators:[{indicatorHeight:15,indicatorWidth:15,indicatorStyle:"Circle",indicatorValue:0,indicatorLocation:{x:0,y:0},stateRanges:[{endValue:0,startValue:0,backgroundColor:null,borderColor:null,text:"",textColor:null,font:null}]}],subGuage:[{subGaugeHeight:150,subGaugeWidth:150,location:{x:0,y:0}}],customLabel:[]}},dataTypes:{},_setModel:function(t){var i;for(i in t)switch(i){case"height":this.model.height=t[i];break;case"width":this.model.width=t[i];break;case"radius":this.model.radius=t[i];break;case"frameType":this.model.frameType=t[i];break;case"backgroundColor":this.model.backgroundColor=t[i];break;case"interiorGradient":this.model.interiorGradient=t[i];break;case"readOnly":this.model.readOnly=t[i];break;case"halfCircleFrameStartAngle":this.model.halfCircleFrameStartAngle=t[i];break;case"theme":this.model.theme=t[i];break;case"isRadialGradient":this.model.isRadialGradient=t[i];break;case"scales":n.extend(!0,this.model.scales,t[i])}this._init()},_destroy:function(){this._unWireEvents(),this.element.remove()},_init:function(){this._scalesInitialize(),this._trigger("load"),this._setTheme(),this._initialize(),this.model.readOnly||this._wireEvents()},_initialize:function(){this._initObject(this),this._drawOuterLayer(),this._drawScales(),this.model.renderComplete&&this._onRenderComplete()},_scalesInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r),n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._LoadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},_initObject:function(t){t.GaugeEl=this.element,t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.GaugeEl.append(t.canvasEl),t.GaugeEl.css("width",t.model.width),t.GaugeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.GaugeEl.width()),t.canvasEl[0].setAttribute("height",t.GaugeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,this._isHalfCircle&&this._isHalfCircle()&&(t.model.halfCircleFrameEndAngle-t.model.halfCircleFrameStartAngle>=180?t.model.halfCircleFrameStartAngle==180&&t.model.halfCircleFrameEndAngle==360?t.centerY=t.canvasEl[0].height:t.model.halfCircleFrameStartAngle==0&&t.model.halfCircleFrameEndAngle==180?t.centerY=0:t.model.halfCircleFrameStartAngle==90&&t.model.halfCircleFrameEndAngle==270?t.centerX=t.canvasEl[0].width:t.model.halfCircleFrameStartAngle==270&&t.model.halfCircleFrameEndAngle==90&&(t.centerX=0):t.model.halfCircleFrameEndAngle-t.model.halfCircleFrameStartAngle<=90&&(t.model.halfCircleFrameStartAngle>=0&&t.model.halfCircleFrameStartAngle<=180&&(t.centerX=0,t.centerY=0),t.model.halfCircleFrameStartAngle==90&&(t.centerX=t.canvasEl[0].width),(t.model.halfCircleFrameStartAngle==0||t.model.halfCircleFrameStartAngle==270)&&(t.centerX=0),t.model.halfCircleFrameStartAngle==180&&t.model.halfCircleFrameEndAngle==270&&(t.centerX=t.canvasEl[0].width,t.centerY=t.canvasEl[0].height/2))),t.model.width=t.GaugeEl.width(),t.model.height=t.GaugeEl.height();var i=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(i=window.G_vmlCanvasManager.initElement(i)),i&&i.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_wireEvents:function(){this.startEv="mousedown",this.moveEv="mousemove",this.endEv="mouseup",this.onMouseMoveHandler=n.proxy(this._onMouseMove,this),this.onMouseUpHandler=n.proxy(this._onMouseUp,this),this.onMouseDownHandler=n.proxy(this._onMouseDown,this),n(this.canvasEl).bind(this.startEv,this.onMouseDownHandler)},_unWireEvents:function(){n(this.canvasEl).unbind(this.startEv,this.onMouseDownHandler)},_onMouseDown:function(t){this._blockDefaultActions(t);var r={x:this.centerX,y:this.centerY},u={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},f=180*this._getCirucumferenceAngle(r,u)/Math.PI,i=this;n.each(this.model.scales,function(t,e){i.scaleIndex=t,e.pointers!=null&&(i.pointerEl=e.pointers,n.each(e.pointers,function(t,o){i._isHalfCircle()&&(e.showBackNeedle=!1),angle=i._getAngle(o.value),angle>360&&(angle=angle-360);var s=angle+o.pointerWidth,h=angle-o.pointerWidth;radius=Math.sqrt((u.x-r.x)*(u.x-r.x)+(u.y-r.y)*(u.y-r.y)),i._isBetween(h,s,f)&&radius<=o.pointerLength&&(i.model.mouseClick&&i._onMouseClick(angle,e.value),i.activeElement=o,n(document).bind(i.moveEv,i.onMouseMoveHandler),n(document).bind(i.endEv,i.onMouseUpHandler))}))})},_onMouseUp:function(){n(document).unbind(self.moveEv,self.onMouseMoveHandler),n(document).unbind(self.endEv,self.onMouseUpHandler),this.model.mouseClickUp&&this._onMouseClickUp(this._getAngle(this.activeElement.value),this.activeElement.value)},_onMouseMove:function(t){this._blockDefaultActions(t);var r={x:this.centerX,y:this.centerY},u={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},i=180*this._getCirucumferenceAngle(r,u)/Math.PI;i<this.scaleEl[this.scaleIndex].startAngle&&!this._isHalfCircle()&&(i=i+360),this.model.mouseClickMove&&this._onMouseClickMove(this._getAngle(this.activeElement.value),this.activeElement.value),this._getValue(i)<=this.scaleEl[this.scaleIndex].maximum&&(this.activeElement.value=this._getValue(i)),this._reDrawPointer()},_isHalfCircle:function(){if(this.model.frameType=="halfCircle")return!0},_getHalfCircleYPosition:function(){return this._getYCordinate(this.centerY,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2)},_getHalfCircleXPosition:function(){return this._getXCordinate(this.centerX,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2)},_getXCordinate:function(n,t,i){return n+t*Math.cos(Math.PI*(i/180))},_getYCordinate:function(n,t,i){return n+t*Math.sin(Math.PI*(i/180))},_getAngle:function(n){var t;return t=n>=this.scaleEl[this.scaleIndex].minimum&&n<=this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?n-this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum-n:this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum:n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].maximum:this.scaleEl[this.scaleIndex].minimum,t*(this.scaleEl[this.scaleIndex].sweepAngle/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum))+this.scaleEl[this.scaleIndex].startAngle},_subtractDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)-t*Math.pow(10,i))/Math.pow(10,i),o},_getCirucumferenceAngle:function(n,t){return t.x>n.x?t.y>n.y?this._tangent(n,t):t.y==n.y?0:2*Math.PI+this._tangent(n,t):t.x==n.x?t.y==n.y?0:t.y>n.y?Math.PI/2:1.5*Math.PI:t.y==n.y?Math.PI:t.y>n.y?Math.PI+this._tangent(n,t):Math.PI+this._tangent(n,t)},_tangent:function(n,t){var i=(t.y-n.y)/(t.x-n.x);return Math.atan(i)},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getPointerImage()},_getPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getSubGaugeImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getCustomLabelImage:function(){return this.subGaugeImage?this.subGaugeImage:this._getSubGaugeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},_getValue:function(n){return(n-this.scaleEl[this.scaleIndex].startAngle)/this.scaleEl[this.scaleIndex].sweepAngle*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)},_drawScales:function(){var t=this,i;this.scaleEl=this.model.scales,n.each(this.model.scales,function(n,i){t.scaleIndex=n,i.showScaleBar&&t._setScaleCordinates(i)}),this._setTicks(),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),n.each(this.model.scales,function(n,i){i.showPointers&&i.pointers.length>1&&(t.model.animate=!1)}),this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.animate&&this._onAnimate(i)),this._setIndicators()},_setTicks:function(){var t=this;n.each(this.model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n,t._setTicksCordinates(n,i)})))})},_setLabels:function(){var t=this;n.each(this.model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n,t._setLabelCoridnates(n,i)})))})},_setIndicators:function(){var t=this;n.each(this.model.scales,function(i,r){r.showIndicators&&(t.scaleIndex=i,r.indicators!=null&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n,t._drawIndicator(n,i)})))})},_setPointers:function(){var t=this;n.each(this.model.scales,function(i,r){r.showPointers&&(t.scaleIndex=i,r.pointers!=null&&(t.pointerEl=r.pointers,n.each(r.pointers,function(n,i){t._isHalfCircle()&&(r.showBackNeedle=!1),t.pointerIndex=n,t._drawPointers(n,i)})))})},_onAnimate:function(t){var i=this;n.each(this.model.scales,function(n,r){r.showPointers&&r.pointers!=null&&(u[this.scaleIndex]=setInterval(function(){i._animatePointers(r.pointers[0])},t))})},_animatePointers:function(n){if(r<n.value){r++;var e,o,i,f,s;i=this._getAngle(r),i=i>360?i-360:i,n.pointerType=="Needle"?(n.pointerPosition=="Far"&&(f=n.pointerLength+this.scaleEl[this.scaleIndex].scaleBarSize/2),n.pointerPosition=="Center"&&(f=n.pointerLength),n.pointerPosition=="Near"&&(f=n.pointerLength-this.scaleEl[this.scaleIndex].scaleBarSize/2)):(f=n.pointerLength,n.pointerPosition=="Far"&&(e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.distanceFromScale,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.distanceFromScale,i)),n.pointerPosition=="Center"&&(e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-n.distanceFromScale,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-n.distanceFromScale,i)),n.pointerPosition=="Near"&&(e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-n.distanceFromScale-this.majorTickHeight-15,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-n.distanceFromScale-this.majorTickHeight-15,i))),f>this.model.radius&&(f=this.model.radius),this.location={startX:n.pointerType=="Needle"?this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX:e,startY:n.pointerType=="Needle"?this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY:o},t.isNullOrUndefined(n.pointerGradient)?s=this._getColor(n,n.backgroundColor):(s=this.contextEl.createLinearGradient(0,0,0,n.pointerWidth),this._setGradientColor(this,s,n.pointerGradient.colorInfo)),this.style={width:n.pointerWidth,isFill:!0,isStroke:!0,radius:0,showBackNeedle:n.showBackNeedle,backNeedleLength:n.backNeedleLength,angle:n.pointerType=="Needle"?i:n.pointerPosition=="Far"?i:i+180,height:f,lineWidth:n.borderWidth,opacity:isNaN(n.opacity)?1:n.opacity,strokeStyle:this._getColor(n,n.borderColor),fillStyle:s},this.contextEl.putImageData(this._getPointerImage(),0,0),n.pointerType=="Needle"?(this._drawNeedlePointer(this.location,this.style,n),this._setPointerCap(n)):(n.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+n.markerStyle](this.location,this.style,this)),this.contextEl.getImageData&&(this.pointerImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))}else clearInterval(u[this.scaleIndex])},_setRanges:function(){var t=this;n.each(this.model.scales,function(i,r){r.showRanges&&(t.scaleIndex=i,r.ranges!=null&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n,t._setRangeCordinates(n,i)})))})},_setCustomLabel:function(){var t=this;n.each(this.model.scales,function(i,r){t.scaleIndex=i,r.customLabel!=null&&(t.customLabelEl=r.customLabel,n.each(r.customLabel,function(n,r){t.customLabelIndex=i,t._setCustomLabelCordinates(n,r)}))})},_subGauge:function(){var t=this;n.each(this.model.scales,function(i,r){t.scaleIndex=i,r.subGauge!=null&&(t.subGaugeEl=r.subGauge,n.each(r.subGauge,function(n,r){t.subGaugeIndex=i,t._setSubGuage(n,r)}))})},_setScaleCordinates:function(n){this.location={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:n.startAngle,endAngle:n.startAngle+n.sweepAngle,startRadius:this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2,endRadius:this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2},this.style={radius:n.scaleRadius-n.scaleBarSize/2,strokeStyle:this._getColor(n,n.borderColor),lineWidth:n.scaleBorderWidth,size:n.scaleBarSize,isFill:!0,opacity:isNaN(n.Opacity)?1:n.Opacity,isStroke:!0,shadowOffset:n.ShadowOffset,fillStyle:this._getColor(n,n.backgroundColor),counterClockwise:n.scaleDirection=="Clockwise"?!1:!0},this._drawScaleBar(this.location,this.style),this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawOuterLayer:function(){var i,r,u,n;this._isHalfCircle()&&(r={x:this.centerX,y:this.centerY},u={x:this.centerX+this.model.radius,y:this.centerY/2},n=this._getCirucumferenceAngle(r,u)),i=this.model.isRadialGradient?this.contextEl.createRadialGradient(this.canvasEl[0].width/2,this.canvasEl[0].height/2,0,this.canvasEl[0].width/2,this.canvasEl[0].height/2,this.model.radius):this.contextEl.createLinearGradient(0,0,0,this.canvasEl[0].height),t.isNullOrUndefined(this.model.interiorGradient)||this._setGradientColor(this,i,this.model.interiorGradient.colorInfo),this.frameOuterLocation={centerX:this.centerX,hcCenterX:this.centerX,hcCenterY:this.centerY,centerY:this.centerY,startAngle:this._isHalfCircle()?Math.PI*(this.model.halfCircleFrameStartAngle/180):0,endAngle:this._isHalfCircle()?Math.PI*(this.model.halfCircleFrameEndAngle/180):2*Math.PI},this._isHalfCircle()&&(this.frameInnerLocation={centerX:this.centerX,hcCenterX:this._getXCordinate(this.centerX,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2),hcCenterY:this._getYCordinate(this.centerX,0,(this.model.halfCircleFrameStartAngle+this.model.halfCircleFrameEndAngle)/2),centerY:this.centerY,startAngle:Math.PI*(this.model.halfCircleFrameStartAngle/180)+n,endAngle:Math.PI*(this.model.halfCircleFrameEndAngle/180)-n}),this.frameInnerStyle={radius:this.model.radius,isStroke:!1,isFill:!0,fillStyle:this._getColor(null,this.model.backgroundColor),counterClockwise:!1},this.model.frameType=="fullCircle"?this._drawCircleFrame(this.frameOuterLocation,this.frameInnerStyle):this.model.frameType=="halfCircle"&&this._drawHalfCircle(this.frameInnerLocation,this.frameInnerStyle),this.contextEl.getImageData&&(this.outerImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setTicksCordinates:function(n,t){var e,o,s,h,f,r,i,u;for(t.tickStyle=="Major"?(f=this.scaleEl[this.scaleIndex].majorIntervalValue,this.majorTickHeight=t.tickHeight):f=this.scaleEl[this.scaleIndex].minorIntervalValue,t.tickPosition=="Far"&&(r=this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].scaleBorderWidth/2+t.distanceFromScale),t.tickPosition=="Center"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-t.tickHeight/2-this.scaleEl[this.scaleIndex].scaleBorderWidth/2-t.distanceFromScale),t.tickPosition=="Near"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.scaleEl[this.scaleIndex].scaleBorderWidth/2-t.distanceFromScale),s=t.tickPosition=="Near"?-t.tickHeight:t.tickHeight,u=this.scaleEl[this.scaleIndex].maximum;u>=this.scaleEl[this.scaleIndex].minimum;u-=f)(f==this.scaleEl[this.scaleIndex].minorIntervalValue&&u%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||f==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(u==this.scaleEl[this.scaleIndex].minimum&&(h=!0),i=this._getAngle(u),i=i>360?i-360:i,e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,i),this.location={startX:e,startY:o},this.style={angle:t.angle+i,isStroke:!0,isFill:!1,lineHeight:s,lineWidth:t.tickWidth,strokeStyle:this._getColor(t,t.tickColor)},this.model.drawTicks&&this._onDrawTicks(i,u),this._drawTickMark(this.location,this.style));h||(i=this._getAngle(this.scaleEl[this.scaleIndex].minimum),i=i>360?i-360:i,e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,i),this.location={startX:e,startY:o},this.style={angle:t.angle+i,isStroke:!0,isFill:!1,lineHeight:s,lineWidth:t.tickWidth,strokeStyle:this._getColor(t,t.tickColor)}),this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setLabelCoridnates:function(n,t){var o,f,e,s,h,u,r,i;for(u=t.labelStyle=="Major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,h=t.labelStyle=="Major"?this.majorIntervalAngle=this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/u):this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/u),t.labelPosition=="Far"&&(r=this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.majorTickHeight+t.distanceFromScale),t.labelPosition=="Center"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-10-t.distanceFromScale),t.labelPosition=="Near"&&(r=this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-10-this.majorTickHeight-t.distanceFromScale),i=this.scaleEl[this.scaleIndex].maximum;i>=this.scaleEl[this.scaleIndex].minimum;i=this._subtractDecimal(i,u))if(i==this.scaleEl[this.scaleIndex].minimum&&(o=!0),u==this.scaleEl[this.scaleIndex].minorIntervalValue&&i%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||u==this.scaleEl[this.scaleIndex].majorIntervalValue){if(i==this.scaleEl[this.scaleIndex].minimum&&!t.includeFirstValue)continue;angle=this._getAngle(i),angle=angle>360?angle-360:angle,f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,angle),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,angle),this.location={startX:f,startY:e},this.style={angle:this.scaleEl[this.scaleIndex].labelAutoAngle?angle+t.angle:t.angle,isStroke:!1,isFill:!0,textValue:i,opacity:isNaN(t.opacity)?1:t.opacity,font:this._getFontString(t,t.font),fillStyle:this._getColor(t,t.labelColor)},this.model.drawLabels&&this._onDrawLabels(this.scaleEl[this.scaleIndex].labelAutoAngle?angle+t.angle:t.angle,i),this._drawLabel(this.location,this.style)}o||(angle=this._getAngle(this.scaleEl[this.scaleIndex].minimum),angle=angle>360?angle-360:angle,f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,angle),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,angle),this.location={startX:f,startY:e},this.style={angle:this.scaleEl[this.scaleIndex].labelAutoAngle?angle+t.angle:t.angle,isStroke:!1,isFill:!0,textValue:this.scaleEl[this.scaleIndex].minimum,opacity:isNaN(t.opacity)?1:t.opacity,font:this._getFontString(t,t.font),lineHeight:s,lineWidth:t.tickWidth,fillStyle:this._getColor(t,t.labelColor)},this.model.drawLabels&&this._onDrawLabels(angle,i),this._drawLabel(this.location,this.style),angle=this._getAngle(i),angle=angle>360?angle-360:angle),this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setRangeCordinates:function(n,i){if(i.startValue>=this.scaleEl[this.scaleIndex].minimum&&i.endValue<=this.scaleEl[this.scaleIndex].maximum){var o,s,h,c,r,u,f,l,a,e,v;v=this._getAngle((i.startValue+i.endValue)/2),r=this._getAngle(i.startValue),f=this._getAngle(i.endValue),u=this.scaleEl[this.scaleIndex].scaleRadius-i.distanceFromScale-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.size-this.majorTickHeight,l=this.scaleEl[this.scaleIndex].scaleRadius-i.distanceFromScale-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.majorTickHeight,a=this.scaleEl[this.scaleIndex].scaleRadius-i.distanceFromScale-i.size-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.majorTickHeight,o=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,r),s=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,r),h=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,f),c=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,f),r=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:o,y:s})/Math.PI,f=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:h,y:c})/Math.PI,t.isNullOrUndefined(i.rangeGradient)?e=this._getColor(i,i.backgroundColor):(e=this.contextEl.createRadialGradient(this.centerX,this.centerY,a,this.centerX,this.centerY,l),this._setGradientColor(this,e,i.rangeGradient.colorInfo)),this.location={startX:o,startY:s,endX:h,endY:c,startAngle:r,endAngle:f},this.style={startWidth:i.startWidth,isFill:!0,fillStyle:e,strokeStyle:i.borderColor,opacity:isNaN(i.opacity)?1:i.opacity,counterClockwise:this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?!1:!0,startRadius:l,endRadius:a,endWidth:i.endWidth,lineWidth:i.borderWidth,isStroke:!0},this.model.drawRange&&this._onDrawRange(this.location,this.style),this._drawRange(this.location,this.style)}this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setSubGuage:function(t,i){var r=n("div[id="+i.controlID+"]"),u;r.length>0&&r.find("canvas").length&&(u=r.find("canvas")[0].getContext("2d"),this.contextEl.drawImage(u.canvas,i.location.x,i.location.y,i.subGaugeWidth,i.subGaugeHeight),r.css("display","none"),this.contextEl.getImageData&&(this.subGaugeImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height)))},_setCustomLabelCordinates:function(n,t){this.location={startX:t.location.x,startY:t.location.y},this.style={angle:t.textAngle,textValue:t.labelValue,fillStyle:this._getColor(t,t.labelColor),font:this._getFontString(t,t.font)},this.model.drawCustomLabel&&this._onDrawCustomLabel(this.location,this.style),this._drawLabel(this.location,this.style),this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawIndicator:function(t,i){var r=this,u=!1;this.location={centerX:i.indicatorlocation.x-i.indicatorWidth/2,textLocation:i.indicatorsLocation,centerY:i.indicatorlocation.y-i.indicatorHeight/2,startAngle:0,endAngle:2*Math.PI},this.style={radius:(i.indicatorHeight+i.indicatorWidth)/2,strokeStyle:"#2BA104",cornerRadius:i.indicatorStyle=="RoundedRectangle"?2:0,height:i.indicatorHeight,width:i.indicatorWidth,lineWidth:i.indicatorBorderWidth,fillStyle:"#2BA104",isStroke:!0,isFill:!0,indicatorText:i.indicatorText,textColor:null,font:null,counterClockwise:!1},this.model.drawIndicators&&this._onDrawIndicators(this.style,this.location),i.stateRanges!=null&&n.each(i.stateRanges,function(n,t){r.pointerEl[r.pointerIndex].value>=t.startValue&&r.pointerEl[r.pointerIndex].value<=t.endValue&&(u=!0,t.text.length>0&&(r.style.indicatorText=t.text,r.style.textColor=t.textColor,r.style.font=i.font),r.style.strokeStyle=t.borderColor,r.style.fillStyle=t.backgroundColor,i.indicatorStyle=="RoundedRectangle"?r._drawRectangleFrame(r.location,r.style):r["_draw"+i.indicatorStyle+"Frame"](r.location,r.style))}),u||(i.indicatorStyle=="RoundedRectangle"?r._drawRectangleFrame(r.location,r.style):r["_draw"+i.indicatorStyle+"Frame"](r.location,r.style)),this.contextEl.getImageData&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawScaleBar:function(n,t){this.contextEl.shadowColor=t.strokeStyle,t.shadowOffset&&(this.contextEl.shadowBlur=t.shadowOffset),this._contextOpenPath(t,this),n.endAngle-n.startAngle==0?this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*0,!1):(n.endAngle-n.startAngle)%360==0?(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*2,!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*2,Math.PI*0,!0)):(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!0)),this._contextClosePath(t,this)},_drawTickMark:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.startX,n.startY),this.contextEl.moveTo(0,0),this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.lineTo(t.lineHeight,0),this._contextClosePath(t,this)},_drawLabel:function(n,t){this._contextOpenPath(t,this),this.contextEl.textAlign="center",this.contextEl.textBaseline="middle",this.contextEl.font=t.font,this.contextEl.translate(n.startX,n.startY),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].labelAutoAngle?this.contextEl.rotate(Math.PI*((t.angle-270)/180)):this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.fillText(t.textValue,0,0),this._contextClosePath(t,this)},_drawCircleFrame:function(n,t){this._contextOpenPath(t,this),this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,t.counterClockwise),this._contextClosePath(t,this),t.indicatorText&&this._drawText(n,t)},_drawHalfCircle:function(n,t){this._contextOpenPath(t,this),this.contextEl.lineJoin="round",this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,!1),this.contextEl.lineTo(n.hcCenterX,n.hcCenterY),this._contextClosePath(t,this)},_drawRectangleFrame:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.centerX,n.centerY-t.height/2),this.contextEl.moveTo(t.cornerRadius,0),this.contextEl.lineTo(t.width-t.cornerRadius,0),this.contextEl.quadraticCurveTo(t.width,0,t.width,t.cornerRadius),this.contextEl.lineTo(t.width,t.height-t.cornerRadius),this.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.cornerRadius,t.height),this.contextEl.lineTo(t.cornerRadius,t.height),this.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.cornerRadius),this.contextEl.lineTo(0,t.cornerRadius),this.contextEl.quadraticCurveTo(0,0,t.cornerRadius,0),this._contextClosePath(t,this),t.indicatorText&&this._drawText(n,t)},_drawText:function(n,t){this.contextEl.beginPath(),this.contextEl.textAlign="center",this.contextEl.fillStyle=t.textColor,this.contextEl.font=t.font,this.contextEl.fillText(t.indicatorText,n.textlocation.x,n.textlocation.y),this.contextEl.closePath()},_drawRange:function(n,t){this._contextOpenPath(t,this),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),t.counterClockwise),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!t.counterClockwise),this._contextClosePath(t,this)},_drawPointers:function(n,i){var f,e,r,u,o;r=this._getAngle(i.value),r=r>360?r-360:r,i.pointerType=="Needle"?(i.pointerPosition=="Far"&&(u=i.pointerLength+this.scaleEl[this.scaleIndex].scaleBarSize/2),i.pointerPosition=="Center"&&(u=i.pointerLength),i.pointerPosition=="Near"&&(u=i.pointerLength-this.scaleEl[this.scaleIndex].scaleBarSize/2)):(u=i.pointerLength,i.pointerPosition=="Far"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+i.distanceFromScale,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2+i.distanceFromScale,r)),i.pointerPosition=="Center"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale,r)),i.pointerPosition=="Near"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale-this.majorTickHeight-15,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].scaleRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2-i.distanceFromScale-this.majorTickHeight-15,r))),u>this.model.radius&&(u=this.model.radius),this.location={startX:i.pointerType=="Needle"?this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX:f,startY:i.pointerType=="Needle"?this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY:e},t.isNullOrUndefined(i.pointerGradient)?o=this._getColor(i,i.backgroundColor):(o=this.contextEl.createLinearGradient(0,0,0,i.pointerWidth),this._setGradientColor(this,o,i.pointerGradient.colorInfo)),this.style={width:i.pointerWidth,isFill:!0,isStroke:!0,radius:0,showBackNeedle:i.showBackNeedle,backNeedleLength:i.backNeedleLength,angle:i.pointerType=="Needle"?r:i.pointerPosition=="Far"?r:r+180,height:u,lineWidth:i.borderWidth,opacity:isNaN(i.opacity)?1:i.opacity,strokeStyle:this._getColor(i,i.borderColor),fillStyle:o},this.model.drawPointers&&this._onDrawPointers(r,i.value),i.pointerType=="Needle"?(this._drawNeedlePointer(this.location,this.style,i),this._setPointerCap(i)):(i.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+i.markerStyle](this.location,this.style,this)),this.contextEl.getImageData&&(this.pointerImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawNeedlePointer:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.startX,n.startY),this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.moveTo(0,-t.width/2),this.pointerEl[this.pointerIndex].needleStyle=="Triangle"?this.contextEl.lineTo(t.height,0):this.pointerEl[this.pointerIndex].needleStyle=="Rectangle"?(this.contextEl.lineTo(t.height,-t.width/2),this.contextEl.lineTo(t.height,t.width/2)):this.pointerEl[this.pointerIndex].needleStyle=="Trapezoid"?(this.contextEl.lineTo(t.height,-t.width/4),this.contextEl.lineTo(t.height,t.width/4)):this.pointerEl[this.pointerIndex].needleStyle=="Arrow"&&(this.contextEl.lineTo(t.height-t.height/4,-t.width/6),this.contextEl.lineTo(t.height-t.height/4,-t.width/2),this.contextEl.lineTo(t.height,0),this.contextEl.lineTo(t.height-t.height/4,t.width/2),this.contextEl.lineTo(t.height-t.height/4,t.width/6)),this.contextEl.lineTo(0,t.width/2),t.showBackNeedle&&(this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCapRadius/2),t.width/2),this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCapRadius/2),-t.width/2)),this._contextClosePath(t,this)},_setPointerCap:function(n){var i;i=this.contextEl.createRadialGradient(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,0,this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,this.scaleEl[this.scaleIndex].pointerCapRadius),t.isNullOrUndefined(this.scaleEl[this.scaleIndex].capInteriorGradient)?i=this._getColor(this,this._getColor(n,this.scaleEl[this.scaleIndex].capBackgroundColor)):this._setGradientColor(this,i,this.scaleEl[this.scaleIndex].capInteriorGradient.colorInfo),this.location={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:0,endAngle:2*Math.PI},this.style={isStroke:!0,isFill:!0,strokeStyle:this._getColor(n,this.scaleEl[this.scaleIndex].capBorderColor),radius:this.scaleEl[this.scaleIndex].pointerCapRadius,lineWidth:this.scaleEl[this.scaleIndex].pointerCapBorderWidth,fillStyle:i},this.model.drawPointerCap&&this._onDrawPointerCap(),this._drawCircleFrame(this.location,this.style)},_reDrawScale:function(){this.contextEl.putImageData(this.outerImage,0,0),this._drawScales()},_reDrawPointer:function(){this.contextEl.putImageData(this._getPointerImage(),0,0),this._setPointers(),this._setIndicators()},_reDrawCustomLabel:function(){this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawRange:function(){this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawLabel:function(){this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawTickMark:function(){this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},_reDrawSubGauge:function(){this.contextEl.putImageData(this._getSubGaugeImage(),0,0),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators()},reDraw:function(n){switch(n){case"scale":this._reDrawScale();break;case"pointer":this._reDrawPointer();break;case"range":this._reDrawRange();break;case"label":this._reDrawLabel();break;case"tickMark":this._reDrawTickMark();break;case"subGauge":this._reDrawSubGauge();break;case"CustomLabel":this._reDrawCustomLabel()}},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getPointerImage()},_getPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getSubGaugeImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getCustomLabelImage:function(){return this.subGaugeImage?this.subGaugeImage:this._getSubGaugeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},getIndicatorValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].indicators.length)return this.scaleEl[n].indicators[t].value},setIndicatorValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].indicators.length&&i!=null&&(this.scaleEl[n].indicators[t].value=i,this.contextEl.putImageData?this._reDrawPointer():this.initialize())},getPointerValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].value},setMarkerDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawPointer():this.initialize())},getMarkerDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].distanceFromScale},setPointerLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].pointerLength=i,this.contextEl.putImageData?this._reDrawPointer():this.initialize())},getPointerLength:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].pointerLength},setPointerWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].pointerWidth=i,this.contextEl.putImageData?this._reDrawPointer():this.initialize())},getPointerWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].pointerWidth},setBackNeedleLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].backNeedleLength=i,this.contextEl.putImageData?this._reDrawPointer():this.initialize())},getBackNeedleLength:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].backNeedleLength},setNeedleStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].needleStyle=i,this.contextEl.putImageData?this._reDrawPointer():this.initialize())},getNeedleStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.needleStyle[this.scaleEl[n].pointers[t].needleStyle]},setPointerPlacement:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].pointers.length&&r!=null&&(this.scaleEl[t].pointers[i].pointerPlacement=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData?this._reDrawPointer():this.initialize())},getPointerPlacement:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.scalePlacement[this.scaleEl[n].pointers[t].pointerPlacement]},setPointerNeedleType:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].pointers.length&&r!=null&&(this.scaleEl[t].pointers[i].pointerNeedleType=n.inArray(r,this.model.pointerNeedleType),this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getPointerNeedleType:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.pointerNeedleType[this.scaleEl[n].pointers[t].pointerNeedleType]},setMarkerStyle:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].pointers.length&&r!=null&&(this.scaleEl[t].pointers[i].markerStyle=n.inArray(r,this.model.markerStyle),this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getMarkerStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.model.markerStyle[this.scaleEl[n].pointers[t].markerStyle]},setCustomLabelValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].labelValue=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].labelValue},setSubGaugeLocation:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].subGauge.length&&i!=null&&(this.scaleEl[n].subGauge[t].location.x=i.X,this.scaleEl[n].subGauge[t].location.y=i.Y,this.contextEl.putImageData?this._reDrawSubGauge():this.initialize())},getSubGaugeLocation:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].subGauge.length)return this.scaleEl[n].subGauge[t].Location},setCustomLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].textAngle=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].textAngle},setRangeStartValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startValue},setRangeEndValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endValue},setRangeSize:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].size=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeSize:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].size},setRangeDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeRangeDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].distanceFromScale},setRangePosition:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].ranges.length&&r!=null&&(this.scaleEl[t].ranges[i].RangePosition=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangePosition:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.model.scalePlacement[this.scaleEl[n].ranges[t].RangePosition]},setRangeBorderWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].borderWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},setRangeBorderWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].borderWidth},setPointerValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].value=i,this.contextEl.putImageData?this._reDrawPointer():this.initialize())},setLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].angle},setLabelDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].distanceFromScale},setLabelStyle:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].labelStyle=n.inArray(r,this.model.interval),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.model.interval[this.scaleEl[n].labels[t].labelStyle]},setLabelPlacement:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].LabelPlacement=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelPlacement:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.model.scalePlacement[this.scaleEl[n].labels[t].LabelPlacement]},setTickAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].angle},setTickStyle:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickStyle=n.inArray(r,this.model.interval),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.model.interval[this.scaleEl[n].ticks[t].tickStyle]},setTickPlacement:function(t,i,r){t<this.model.scales.length&&i<this.model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickPlacement=n.inArray(r,this.model.scalePlacement),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.model.scalePlacement[this.scaleEl[n].ticks[t].tickPlacement]},setTickWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickWidth=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].tickWidth},setTickHeight:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickHeight=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickHeight:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].tickHeight},setTickDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].distanceFromScale},setStartAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].startAngle=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getStartAngle:function(n){if(n<this.model.scales.length)return this.scaleEl[n].startAngle},setSweepAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].sweepAngle=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getSweepAngle:function(n){if(n<this.model.scales.length)return this.scaleEl[n].sweepAngle},setMinimumValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].minimum=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getMinimumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].minimum},setMaximumValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].maximum=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getMaximumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].maximum},setScaleBarSize:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarSize=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getMaximumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].scaleBarSize},setScaleRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleRadius=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getScaleRadius:function(n){if(n<this.model.scales.length)return this.scaleEl[n].scaleRadius},setMajorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getMajorIntervalValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].majorIntervalValue},setMinorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getMinorIntervalValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].minorIntervalValue},setPointerCapRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].pointerCapRadius=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getPointerCapRadius:function(n){if(n<this.model.scales.length)return this.scaleEl[n].pointerCapRadius},setScaleBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleBorderWidth=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getScaleBorderWidth:function(n){if(n<this.model.scales.length)return this.scaleEl[n].scaleBorderWidth},setPointerCapBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].capBorderWidth=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getPointerCapBorderWidth:function(n){if(n<this.model.scales.length)return this.scaleEl[n].capBorderWidth},setScaleDirection:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].scaleDirection=t,this.contextEl.putImageData?this._reDrawScale():this.initialize())},getScaleDirection:function(n){if(n<this.model.scales.length)return this.model.scaleDirection[this.scaleEl[n].scaleDirection]},includeFirstValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].includeFirstValue=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},_reDrawScale:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this.outerImage,0,0),this._drawScales())},_reDrawPointer:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getPointerImage(),0,0),this._setPointers(),this._setIndicators())},_reDrawCustomLabel:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawRange:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawLabel:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawTickMark:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawSubGauge:function(){this.model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getSubGaugeImage(),0,0),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},refreshSubGauge:function(){this.contextEl.putImageData?this._reDrawSubGauge():this.initialize()},refresh:function(){this._initialize()},_onDrawTicks:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,tickIndex:this.tickIndex,tickElement:this.tickEl[this.tickIndex],context:this.contextEl,tickValue:t,tickAngle:parseInt(n),style:this.style,location:this.location};this._trigger("drawTicks",i)},_onDrawLabels:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,labelIndex:this.labelIndex,labelElement:this.labelEl[this.labelIndex],context:this.contextEl,labelValue:t,labelAngle:parseInt(n),style:this.style,location:this.location};this._trigger("drawLabels",i)},_onDrawPointers:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("drawPointers",i)},_onDrawRange:function(){var n={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeEl],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawIndicators",n)},_onDrawPointerCap:function(){var n={Object:this,scaleElement:this.model.scales,location:this.location,style:this.style,context:this.contextEl};this._trigger("drawPointerCap",n)},_onRenderComplete:function(){var n={Object:this,scaleElement:this.model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_onMouseClick:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("mouseClick",i)},_onMouseClickMove:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("mouseClickMove",i)},_onMouseClickUp:function(n,t){var i={Object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,pointerIndex:this.pointerIndex,pointerElement:this.pointerEl[this.pointerIndex],context:this.contextEl,pointerValue:t,pointerAngle:parseInt(n),style:this.style,location:this.location};this._trigger("mouseClickUp",i)},_setTheme:function(){selectedTheme=t.CircularGauge.themes[this.model.theme],this._setThemeColors(selectedTheme)},_setThemeColors:function(n){var r=t.CircularGauge.themes,s=0,f=Object.keys(r),i,u,e,o;for(property in r)r.hasOwnProperty(property)&&s++;for(r=0;r<s;r++)for(this.model.backgroundColor=this.model.backgroundColor==null||this.model.backgroundColor==t.CircularGauge.themes[f[r].toString()].backgroundColor?n.backgroundColor:this.model.backgroundColor,i=0;i<this.model.scales.length;i++){for(this.model.scales[i].backgroundColor=this.model.scales[i].backgroundColor==null||this.model.scales[i].backgroundColor==t.CircularGauge.themes[f[r].toString()].scales.backgroundColor?n.scales.backgroundColor:this.model.scales[i].backgroundColor,this.model.scales[i].borderColor=this.model.scales[i].borderColor==null||this.model.scales[i].borderColor==t.CircularGauge.themes[f[r].toString()].scales.borderColor?n.scales.borderColor:this.model.scales[i].borderColor,u=0;u<this.model.scales[i].pointers.length;u++)this.model.scales[i].pointers[u].backgroundColor=this.model.scales[i].pointers[u].backgroundColor==null||this.model.scales[i].pointers[u].backgroundColor==t.CircularGauge.themes[f[r].toString()].scales.pointers.backgroundColor?n.scales.pointers.backgroundColor:this.model.scales[i].pointers[u].backgroundColor,this.model.scales[i].pointers[u].borderColor=this.model.scales[i].pointers[u].borderColor==null||this.model.scales[i].pointers[u].borderColor==t.CircularGauge.themes[f[r].toString()].scales.pointers.borderColor?n.scales.pointers.borderColor:this.model.scales[i].pointers[u].borderColor,this.model.scales[i].capBackgroundColor=this.model.scales[i].capBackgroundColor==null||this.model.scales[i].capBackgroundColor==t.CircularGauge.themes[f[r].toString()].scales.capBackgroundColor?n.scales.capBackgroundColor:this.model.scales[i].capBackgroundColor,this.model.scales[i].capBorderColor=this.model.scales[i].capBorderColor==null||this.model.scales[i].capBorderColor==t.CircularGauge.themes[f[r].toString()].scales.capBorderColor?n.scales.capBorderColor:this.model.scales[i].capBorderColor;for(e=0;e<this.model.scales[i].ticks.length;e++)this.model.scales[i].ticks[e].tickColor=this.model.scales[i].ticks[e].tickColor==null||this.model.scales[i].ticks[e].tickColor==t.CircularGauge.themes[f[r].toString()].scales.ticks.tickColor?n.scales.ticks.tickColor:this.model.scales[i].ticks[e].tickColor;for(o=0;o<this.model.scales[i].labels.length;o++)this.model.scales[i].labels[o].labelColor=this.model.scales[i].labels[o].labelColor==null||this.model.scales[i].labels[o].labelColor==t.CircularGauge.themes[f[r].toString()].scales.labels.labelColor?n.scales.labels.labelColor:this.model.scales[i].labels[o].labelColor}},_getFontString:function(n,t){return t.fontStyle+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(t.width,t.height/4),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(0,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(t.width/2,t.height/4),this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(3*t.width/4,0),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/4,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(t.width/4,t.height/2),this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i),i.model.Orientation=="Horizontal"&&i.markerPlacement=="Near"?(i.contextEl.moveTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.moveTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY)),this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/3,-t.height/2),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width,t.height/4),i.contextEl.lineTo(t.width/3,t.height/2),this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(t.width,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(0,0),this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/4),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/4),this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/2),this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY-t.height/2),this._setContextRotation(t,i),i.contextEl.moveTo(t.radius,0),i.contextEl.lineTo(t.width-t.radius,0),i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius),i.contextEl.lineTo(t.width,t.height-t.radius),i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height),i.contextEl.lineTo(t.radius,t.height),i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius),i.contextEl.lineTo(0,t.radius),i.contextEl.quadraticCurveTo(0,0,t.radius,0),this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.model.Width,t.model.Height),t.model.scales!=null&&t._drawScales(),t.model.items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.scale(2,1),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_setPointerDimension:function(n,i){if(!t.isNullOrUndefined(i.model.Orientation)&&i.model.Orientation=="Horizontal"){var r=n.width,u=n.height;n.height=r,n.width=u}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},_contextOpenPath:function(n,t){t.contextEl.save(),t.contextEl.beginPath(),n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle),n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity),n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth),n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath(),n.isFill&&t.contextEl.fill(),n.isStroke&&t.contextEl.stroke(),t.contextEl.restore()},_blockDefaultActions:function(n){n.cancelBubble=!0,n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()},_isBetween:function(n,t,i){return n<t?i>=n&&i<=t:i>=t&&i<=n},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.colorStop!=NaN?r.colorStop:0,typeof r.color=="string"?r.color:u._getColor(t,r.color))})}}),t.CircularGauge.themes={flatlight:{backgroundColor:"#FFFFFF",scales:{backgroundColor:"#777777",borderColor:"#777777",capBackgroundColor:"#424242",capBorderColor:"#424242",pointers:{backgroundColor:"#424242",borderColor:"#424242"},ticks:{tickColor:"#777777"},labels:{labelColor:"#282828"}}},flatdark:{backgroundColor:"#1F1F1F",scales:{backgroundColor:"#7a7a7a",borderColor:"#7a7a7a",capBackgroundColor:"#686868",capBorderColor:"#686868",pointers:{backgroundColor:"#686868",borderColor:"#686868"},ticks:{tickColor:"#7a7a7a"},labels:{labelColor:"#d3d3d3"}}}};var r=0,u=[]}(jQuery,Syncfusion),function(n,t,i){t.widget({mLinearGauge:"m.LinearGauge",ejLinearGauge:"ej.LinearGauge"},{element:{target:null},model:null,defaults:{width:150,height:400,theme:"flatlight",orientation:"Vertical",pointerGradient1:null,pointerGradient2:null,backgroundColor:null,borderColor:null,labelColor:null,tickColor:null,readOnly:!0,frameBackgroundImageUrl:null,frameOuterWidth:12,frameInnerWidth:8,scales:null,animate:!0,animationSpeed:500,drawTicks:null,drawLabels:null,drawBarPointers:null,drawMarkerPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,load:null,init:null,renderComplete:null},_defaultScaleValues:function(){return{minimum:0,maximum:100,majorIntervalValue:10,minorIntervalValue:2,scaleDirection:"CounterClockwise",backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:NaN,scaleBarSize:30,shadowOffset:0,scaleBarLength:290,scaleStyle:"Rectangle",location:{x:50,y:50},showRanges:!1,showIndicators:!1,showCustomLabel:!1,showLabels:!0,showTicks:!0,showBarPointers:!0,showMarkerPointers:!0,ticks:[{xDistanceFromScale:0,yDistanceFromScale:0,angle:0,tickColor:null,tickStyle:"MajorInterval",tickPlacement:"Near",opacity:0,tickHeight:10,tickWidth:3},{xDistanceFromScale:0,yDistanceFromScale:0,angle:0,tickColor:null,tickStyle:"MinorInterval",tickPlacement:"Near",opacity:0,tickHeight:5,tickWidth:2}],ranges:[{endWidth:10,rangePosition:"Center",startWidth:10,distanceFromScale:0,endValue:60,startValue:20,rangeGradient:null,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:null}],labels:[{yDistanceFromScale:0,xDistanceFromScale:-10,angle:0,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},textColor:null,opacity:0,labelStyle:"Major",labelPlacement:"Near",includeFirstValue:!0}],markerPointers:[{markerStyle:"Triangle",pointerLength:30,pointerPlacement:"Far",pointerGradient:null,distanceFromScale:0,pointerWidth:30,value:50,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:1}],barPointers:[{scaleBarGradient:null,distanceFromScale:0,pointerWidth:30,value:50,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:1}],indicators:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},indicatorHeight:30,indicatorStyle:"Rectangle",indicatorWidth:30,location:{x:0,y:0},textLocation:{x:0,y:0},stateRanges:[{endValue:60,startValue:50,backgroundColor:null,borderColor:null,text:"",textColor:null}],value:0,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:NaN}],customLabel:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},labelColor:null,opacity:0,labelValue:"",textAngle:0,location:{x:0,y:0}}]}},dataTypes:{},_init:function(){this._initialize(),this._trigger("load"),this._setTheme(),this._render(),this.model.readOnly||this.wireEvents()},_setModel:function(n){var t;for(t in n)switch(t){case"theme":this.model.theme=n[t],this._init();break;case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"orientation":this.model.orientation=n[t];break;case"pointerGradient1":this.model.pointerGradient1=n[t];break;case"pointerGradient2":this.model.pointerGradient2=n[t];break;case"labelColor":this.model.labelColor=n[t];break;case"tickColor":this.model.tickColor=n[t];break;case"backgroundColor":this.model.backgroundColor=n[t];break;case"borderColor":this.model.borderColor=n[t];break;case"frameBackgroundImageUrl":this.model.frameBackgroundImageUrl=n[t];break;case"frameOuterWidth":this.model.frameOuterWidth=n[t];break;case"frameInnerWidth":this.model.frameInnerWidth=n[t];break;case"readOnly":this.model.readOnly=n[t];break;case"scales":this.model.scales=n[t],this._itemInitialize()}this._render()},_destroy:function(){this.activeElement=null,this.canvasEl=null,this.contextEl=null,this.unWireEvents(),this.element.remove()},_initialize:function(){this.GaugeEl=this.element,this.scaleStartX=[],this.scaleStartY=[],this.isScaleModified=!1,this.target=this.element[0],this._itemInitialize(),this.Model=this.model},_render:function(){this.initialize()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r),n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)t=r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();t=r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?t=f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(t=f._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n))}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this._initObject(this),this.Model.frameBackgroundImageUrl?this._drawCustomImage(this,this.Model.frameBackgroundImageUrl):this.Model.scales!=null&&this._drawScales()},_initObject:function(t){t.GaugeEl=n("#"+t.target.id),t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.GaugeEl.append(t.canvasEl),t.GaugeEl.css("width",t.model.width),t.GaugeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.GaugeEl.width()),t.canvasEl[0].setAttribute("height",t.GaugeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,t.Model.width=t.GaugeEl.width(),t.Model.height=t.GaugeEl.height();var i=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(i=window.G_vmlCanvasManager.initElement(i)),i&&i.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawFrameCircle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.arc(n.startX,n.startY,t.circleRadius,0,2*Math.PI,!0),this._contextClosePath(t,i),t.indicatorText&&i._drawText(n,t)},_drawFrameRectangle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.moveTo(n.startX+t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius),i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height),this._contextClosePath(t,i),t.indicatorText&&i._drawText(n,t)},_drawFrameThermometer:function(n,t,i){var r=i.Model.orientation=="Vertical"?Math.sqrt(t.width*t.width+t.width*t.width)/2:Math.sqrt(t.height*t.height+t.height*t.height)/2;this._contextOpenPath(t,i),i.Model.orientation=="Vertical"?i.scaleEl[i.scaleIndex].scaleDirection=="CounterClockwise"?(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+t.height-Math.sin(Math.PI*(45/180))*r,r,Math.PI*(-45/180),Math.PI*(225/180),!1),i.contextEl.lineTo(n.startX,n.startY+t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.width/2,t.width/2,-Math.PI,0,!1):i.contextEl.lineTo(n.startX+t.width,n.startY+t.width/2)):(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(-225/180),!0),i.contextEl.lineTo(n.startX,n.startY+t.height-t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.height-t.width/2,t.width/2,-Math.PI,0,!0):i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.width/2)):i.scaleEl[i.scaleIndex].scaleDirection=="CounterClockwise"?(i.contextEl.arc(n.startX+t.width-r/4-Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(135/180),Math.PI*(225/180),!0),i.contextEl.lineTo(n.startX+t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!0):i.contextEl.lineTo(n.startX+t.height/2,n.startY+t.height)):(i.contextEl.arc(n.startX+r/4+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(315/180),!1),i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.width-t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!1):i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY+t.height)),this._contextClosePath(t,i)},_drawFrameRoundedRectangle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.moveTo(n.startX+t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY),i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY,n.startX+t.width,n.startY+t.radius),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius),i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY+t.height,n.startX+t.width-t.radius,n.startY+t.height),i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height),i.contextEl.quadraticCurveTo(n.startX,n.startY+t.height,n.startX,n.startY+t.height-t.radius),i.contextEl.lineTo(n.startX,n.startY+t.radius),i.contextEl.quadraticCurveTo(n.startX,n.startY,n.startX+t.radius,n.startY),this._contextClosePath(t,i),t.indicatorText&&this._drawText(n,t)},_contextOpenPath:function(n,t){t.contextEl.save(),t.contextEl.beginPath(),n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle),n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity),n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth),n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath(),n.isFill&&t.contextEl.fill(),n.isStroke&&t.contextEl.stroke(),t.contextEl.restore()},_drawScales:function(){var t=this,i;this.scaleEl=this.Model.scales,this.contextEl.save(),this.contextEl.translate(this.Model.frameOuterWidth+this.Model.frameInnerWidth,this.Model.frameOuterWidth+this.Model.frameInnerWidth),n.each(this.Model.scales,function(n,i){t.scaleIndex=n,t._setScaleCordinates(i,i.scaleStyle)}),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers(),n.each(this.Model.scales,function(n,i){i.showBarPointers&&i.barPointers.length>1&&(t.model.animate=!1),i.showMarkerPointers&&i.markerPointers.length>1&&(t.model.animate=!1)}),this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.animate&&this._onAnimate(i))},_setTicks:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n,t._setTicksCordinates(i,n)})))})},_setLabels:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n,t._setLabelCordinates(i,n)})))})},_setIndicators:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.indicators!=null&&r.showIndicators&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n,t._drawIndicator(n,i)}))})},_setBarPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showBarPointers&&(t.scaleIndex=i,r.barPointers!=null&&(t.barPointerEl=r.barPointers,n.each(r.barPointers,function(n,i){t.barPointerIndex=n,t._drawScaleBarPointer(i,n)})))})},_setMarkerPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showMarkerPointers&&(t.scaleIndex=i,r.markerPointers!=null&&(t.markerPointerEl=r.markerPointers,n.each(r.markerPointers,function(n,i){t.markerPointerIndex=n,t._drawMarkerPointer(i,n)})))})},_onAnimate:function(t){var i=this;n.each(this.Model.scales,function(n,r){r.showBarPointers&&r.barPointers!=null&&(f[this.scaleIndex]=setInterval(function(){i._animateScaleBarPointer(r.barPointers[0])},t)),r.showMarkerPointers&&r.markerPointers!=null&&(e[this.scaleIndex]=setInterval(function(){i._animateMarkerPointer(r.markerPointers[0])},t))})},_animateMarkerPointer:function(n){if(n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value,u<n.value){u++;var t,o,s,f,i,r,h,c=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}];this.markerPlacement=n.pointerPlacement,s=Math.sqrt(n.pointerWidth*n.pointerWidth+n.pointerLength*n.pointerLength)/2,this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&this._modifyWidth(),this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=0),this.markerPlacement=="Near"&&(t=this.scaleStartX[this.scaleIndex]+n.distanceFromScale,i=180),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-s+n.distanceFromScale:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=0)):(this.markerPlacement=="Far"&&(t=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=90),this.markerPlacement=="Near"&&(t=this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=270),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-s+n.distanceFromScale:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,i=90)),f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(u):this._getCounterClockwiseLinePosition(u),n.markerStyle=="Star"?(r=this.Model.orientation=="Vertical"?this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex]):this.contextEl.createLinearGradient(f,t,f,t+n.pointerLength),o=f-n.pointerLength/(this.Model.orientation=="Horizontal"?2:3)):(r=this.contextEl.createLinearGradient(0,0,n.pointerWidth,0),o=f),n.backgroundColor?h=n.backgroundColor:n.pointerGradient?this._setGradientColor(this,r,n.pointerGradient.ColorInfo):this.Model.PointerInterior?this._setGradientColor(this,r,this.Model.PointerInterior.ColorInfo):this._setGradientColor(this,r,c),this.location={startX:this.Model.orientation=="Vertical"?t:o,startY:this.Model.orientation=="Vertical"?o:t},this.style={width:n.pointerWidth,radius:n.markerStyle=="Rectangle"?0:s,height:n.pointerLength,lineWidth:n.borderWidth,isFill:!0,isStroke:!0,angle:i,strokeStyle:n.borderColor,markerPlacement:this.markerPlacement,opacity:isNaN(n.opacity)?.4:n.opacity,fillStyle:n.backgroundColor?h:r},this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),n.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+n.markerStyle](this.location,this.style,this),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&(this._restoreWidth(),this.isScaleModified=!1),this.contextEl.getImageData&&(this.markerPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}else clearInterval(e[this.scaleIndex])},_animateScaleBarPointer:function(n){if(n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value,r<n.value){r++;var i,s,u,e,o,h,t,c;c=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}],s=this.scaleEl[this.scaleIndex].scaleStyle=="RoundedRectangle"?5:0,this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?(lineYPosition=this._getClockwiseLinePosition(r),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex])):(t=this.scaleStartX[this.scaleIndex],i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))):(lineYPosition=this._getCounterClockwiseLinePosition(r),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition,t+n.pointerWidth,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition)):(t=this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?lineYPosition-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))),n.backgroundColor?h=n.backgroundColor:n.scaleBarGradient?this._setGradientColor(this,i,n.scaleBarGradient.ColorInfo):this.Model.ScaleInterior?this._setGradientColor(this,i,this.Model.ScaleInterior.ColorInfo):this._setGradientColor(this,i,c),this.Model.orientation=="Vertical"?(o=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&(o=o-this.scaleEl[this.scaleIndex].scaleBarSize/2),u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartY[this.scaleIndex]:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,e=n.pointerWidth):(o=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,u=n.pointerWidth,e=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartX:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition),this.location={startX:t+this.scaleEl[this.scaleIndex].borderWidth/2,startY:o},this.style={width:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Horizontal"?e+u/2-this.scaleEl[this.scaleIndex].borderWidth/2:e,lineWidth:n.borderWidth,radius:s,topRounded:r==this.scaleEl[this.scaleIndex].maximum?!0:!1,isStroke:!1,isFill:!0,height:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Vertical"?u+e/2:u,strokeStyle:n.borderColor==null?this.Model.borderColor:n.borderColor,fillStyle:n.backgroundColor?h:i,opacity:isNaN(n.opacity)?.4:n.opacity},this.contextEl.putImageData(this._getBarPointerImage(),0,0),this["_drawFrame"+this.scaleEl[this.scaleIndex].scaleStyle](this.location,this.style,this),this.contextEl.getImageData&&(this.barPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}else clearInterval(f[this.scaleIndex])},_setRange:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.ranges!=null&&r.showRanges&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n,t._drawRange(i)}))})},_setCustomLabel:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.customLabel!=null&&r.showCustomLabel&&(t.customLabelEl=r.customLabel,n.each(r.customLabel,function(n,i){t.customLabelIndex=n,t._setCustomLabelCordinates(n,i)}))})},_setScaleCordinates:function(n,t){var r,i,u;this.opacity=1,this.bottomRadius=Math.sqrt(n.scaleBarSize*n.scaleBarSize+n.scaleBarSize*n.scaleBarSize)/2,this.bounds={height:this.canvasEl[0].height-2*(this.Model.frameOuterWidth+this.Model.frameInnerWidth),width:this.canvasEl[0].width-2*(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},this.Model.orientation=="Vertical"?(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.scaleBarSize)*(n.location.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.scaleBarLength)*(n.location.y/100)):(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.scaleBarLength)*(n.location.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.scaleBarSize)*(n.location.y/100)),u=t=="RoundedRectangle"?5:0,r={startX:this.scaleStartX[this.scaleIndex],startY:this.scaleStartY[this.scaleIndex]},i={width:this.Model.orientation=="Vertical"?n.scaleBarSize:n.scaleBarLength,isStroke:!0,topRounded:!0,fillStyle:n.backgroundColor?this._getColor(n,n.backgroundColor):this._getColor(n,this.Model.backgroundColor),lineWidth:n.borderWidth,radius:u,height:this.Model.orientation=="Vertical"?n.scaleBarLength:n.scaleBarSize,isStroke:!0,isFill:!0,strokeStyle:n.borderColor?this._getColor(n,n.borderColor):this._getColor(n,this.Model.borderColor)},n.shadowOffset&&(this.contextEl.shadowBlur=n.shadowOffset,this.contextEl.shadowColor=i.fillStyle),this["_drawFrame"+t](r,i,this),this.scaleEl[this.scaleIndex].scaleStyle!="Thermometer"||this.isScaleModified||(this._modifyWidth(),this.isScaleModified=!0),this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_setTicksCordinates:function(n){var i,u,f,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue){for(r=n.tickStyle=="MajorInterval"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.tickPlacement=="Near"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]:this.scaleStartY[this.scaleIndex]:n.tickPlacement=="Far"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize:n.tickPlacement=="Center"&&(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2),u=n.tickPlacement=="Near"?-n.tickHeight:n.tickHeight,t=this.scaleEl[this.scaleIndex].maximum;t>=this.scaleEl[this.scaleIndex].minimum;t-=r)(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(f=this._getClockwiseLinePosition(t),this.location={lineChangePosition:f+(this.Model.orientation=="Horizontal"?n.xDistanceFromScale:n.yDistanceFromScale),lineStaticPosition:i+(this.Model.orientation=="Horizontal"?n.yDistanceFromScale:n.xDistanceFromScale)},this.style={lineHeight:u,angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,tickShape:n.TickShape,strokeStyle:n.tickColor?this._getColor(n,n.tickColor):this._getColor(n,this.Model.tickColor),lineWidth:n.tickWidth},this.Model.drawTicks&&this._onDrawTicks(this.Model.orientation=="Vertical"?n.angle:n.angle+270,t),this._drawTickMark(this.location,this.style));this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}},_drawTickMark:function(n,t){var i=this.Model.orientation=="Vertical"?t.lineHeight-n.lineStaticPosition:n.lineStaticPosition;this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.lineWidth=t.lineWidth,this.contextEl.strokeStyle=t.strokeStyle,this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180))),this.contextEl.lineTo(t.lineHeight,0),this.contextEl.stroke(),this.contextEl.restore(),this.contextEl.closePath()},_addDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)+t*Math.pow(10,i))/Math.pow(10,i),o},_setLabelCordinates:function(n){var u,f,i,e,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue)for(this.Model.orientation=="Vertical"?(u=n.xDistanceFromScale,f=n.yDistanceFromScale):(u=n.yDistanceFromScale,f=n.xDistanceFromScale),r=n.labelStyle=="Major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.labelPlacement=="Near"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth-5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"right":"center"):n.labelPlacement=="Far"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth+5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"left":"center"):(this.contextEl.textAlign="center",i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].borderWidth/2),t=this.scaleEl[this.scaleIndex].minimum;t<=this.scaleEl[this.scaleIndex].maximum;t=this._addDecimal(t,r))(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(e=this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"?this._getCounterClockwiseLinePosition(t):this._getClockwiseLinePosition(t),this.labelValue=t,this.location={lineChangePosition:e+f,lineStaticPosition:i+u},this.style={angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,fillStyle:n.textColor?this._getColor(n,n.textColor):this._getColor(n,this.Model.labelColor),opacity:isNaN(n.opacity)?1:n.opacity,font:this._getFontString(this,n.font),textValue:this.labelValue},this.Model.drawLabels&&this._onDrawLabels(this.Model.orientation=="Vertical"?n.angle:n.angle+270),this._drawLabel(this.location,this.style));this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawLabel:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.textBaseline="middle",this.contextEl.fillStyle=t.fillStyle,this.contextEl.font=t.font,t.opacity&&(this.contextEl.globalAlpha=t.opacity),this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180))),this.contextEl.fillText(t.textValue,0,0),this.contextEl.fill(),this.contextEl.restore()},_drawScaleBarPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var i,e,r,u,f,o,t,s;s=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}],e=this.scaleEl[this.scaleIndex].scaleStyle=="RoundedRectangle"?5:0,this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?(lineYPosition=this._getClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex])):(t=this.scaleStartX[this.scaleIndex],i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))):(lineYPosition=this._getCounterClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition,t+n.pointerWidth,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition)):(t=this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?lineYPosition-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))),n.backgroundColor?o=this._getColor(n,n.backgroundColor):n.scaleBarGradient?this._setGradientColor(this,i,n.scaleBarGradient.ColorInfo):this.Model.ScaleInterior?this._setGradientColor(this,i,this.Model.ScaleInterior.ColorInfo):this._setGradientColor(this,i,s),this.Model.orientation=="Vertical"?(f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&(f=f-this.scaleEl[this.scaleIndex].scaleBarSize/2),r=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartY[this.scaleIndex]:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,u=n.pointerWidth):(f=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,r=n.pointerWidth,u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartX:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition),this.location={startX:t+this.scaleEl[this.scaleIndex].borderWidth/2,startY:f},this.style={width:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Horizontal"?u+r/2-this.scaleEl[this.scaleIndex].borderWidth/2:u,lineWidth:n.borderWidth,radius:e,topRounded:n.value==this.scaleEl[this.scaleIndex].maximum?!0:!1,isStroke:!1,isFill:!0,height:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Vertical"?r+u/2:r,strokeStyle:n.borderColor==null?this._getColor(n,this.Model.borderColor):this._getColor(n,n.borderColor),fillStyle:n.backgroundColor?this._getColor(n,o):this._getColor(n,i),opacity:isNaN(n.opacity)?.4:n.opacity},this.Model.drawBarPointers&&this._onDrawBarPointers(n.value),this["_drawFrame"+this.scaleEl[this.scaleIndex].scaleStyle](this.location,this.style,this),this.contextEl.getImageData&&(this.barPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawMarkerPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var t,r,e,f,i,u,o,s=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}];this.markerPlacement=n.pointerPlacement,e=Math.sqrt(n.pointerWidth*n.pointerWidth+n.pointerLength*n.pointerLength)/2,this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&this._modifyWidth(),this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=0),this.markerPlacement=="Near"&&(t=n.markerStyle=="Star"?this.scaleStartX[this.scaleIndex]+n.distanceFromScale-n.pointerWidth:this.scaleStartX[this.scaleIndex]+n.distanceFromScale,i=180),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale+n.borderWidth:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=0)):(this.markerPlacement=="Far"&&(t=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=90),this.markerPlacement=="Near"&&(t=n.markerStyle=="Star"?this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale-n.pointerLength:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=270),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale+n.borderWidth:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,i=90)),f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.value):this._getCounterClockwiseLinePosition(n.value),n.markerStyle=="Star"?this.Model.orientation=="Vertical"?(u=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex]),r=f-n.pointerLength/3):(u=this.contextEl.createLinearGradient(f,t,f,t+n.pointerLength),r=f-n.pointerWidth/2):(u=this.contextEl.createLinearGradient(0,0,n.pointerWidth,0),r=f),n.markerStyle=="RoundedRectangle"&&(this.Model.orientation=="Vertical"&&this.markerPlacement=="Near"?r+=n.pointerLength:this.Model.orientation=="Horizontal"&&(this.markerPlacement=="Near"&&(r-=n.pointerWidth),t+=n.pointerWidth/2)),n.backgroundColor?o=this._getColor(n,n.backgroundColor):n.pointerGradient?this._setGradientColor(this,u,n.pointerGradient.ColorInfo):this.Model.PointerInterior?this._setGradientColor(this,u,this.Model.PointerInterior.ColorInfo):this._setGradientColor(this,u,s),this.location={startX:this.Model.orientation=="Vertical"?t:r,startY:this.Model.orientation=="Vertical"?r:t},this.style={width:n.pointerWidth,radius:n.markerStyle=="Rectangle"?0:e,height:n.pointerLength,lineWidth:n.borderWidth,isFill:!0,isStroke:!0,angle:i,strokeStyle:this._getColor(n,n.borderColor),markerPlacement:this.markerPlacement,opacity:isNaN(n.opacity)?.4:n.opacity,fillStyle:n.backgroundColor?this._getColor(n,o):this._getColor(n,u)},this.Model.drawMarkerPointers&&this._onDrawMarkerPointers(i,n.value),n.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+n.markerStyle](this.location,this.style,this),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&(this._restoreWidth(),this.isScaleModified=!1),this.contextEl.getImageData&&(this.markerPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawRange:function(n){this.rangePosition=n.rangePosition;var u,t,f,i,r,e,o=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}];u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.startValue):this._getCounterClockwiseLinePosition(n.startValue),t=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.endValue):this._getCounterClockwiseLinePosition(n.endValue),this.Model.orientation=="Vertical"?(n.rangePosition=="Far"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth),n.rangePosition=="Near"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale),n.rangePosition=="Center"&&(f=n.startWidth>n.endWidth?this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.startWidth/2:this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.endWidth/2),r=this.contextEl.createLinearGradient(t,t,t,u),this.location={startX:f,startY:u,endY:t}):(n.rangePosition=="Far"&&(i=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+n.distanceFromScale+this.scaleEl[this.scaleIndex].borderWidth),n.rangePosition=="Near"&&(i=this.scaleStartY[this.scaleIndex]+n.distanceFromScale),n.rangePosition=="Center"&&(i=n.startWidth>n.endWidth?this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.startWidth/2:this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.endWidth/2),r=this.contextEl.createLinearGradient(t,i,u,i),this.location={startX:u,startY:i,endX:t}),n.backgroundColor?e=this._getColor(n,n.backgroundColor):n.rangeGradient?this._setGradientColor(this,r,n.rangeGradient.ColorInfo):this.Model.RangeInterior?this._setGradientColor(this,r,this.Model.RangeInterior.ColorInfo):this._setGradientColor(this,r,o),this.style={startWidth:n.startWidth,lineWidth:n.borderWidth,isStoke:!0,isFill:!0,opacity:isNaN(n.opacity)?.4:n.opacity,endWidth:n.endWidth,fillStyle:n.backgroundColor?this._getColor(n,e):this._getColor(n,r),strokeStyle:n.borderColor?this._getColor(n,n.borderColor):this._getColor(n,this.Model.borderColor)},this.Model.drawRange&&this._onDrawRange(),this._drawRangeBar(this.location,this.style),this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawRangeBar:function(n,t){this._contextOpenPath(t,this),this.Model.orientation=="Vertical"?(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.startX,n.endY),this.rangePosition=="Near"?(this.contextEl.lineTo(n.startX-t.endWidth,n.endY),this.contextEl.lineTo(n.startX-t.startWidth,n.startY)):(this.contextEl.lineTo(n.startX+t.endWidth,n.endY),this.contextEl.lineTo(n.startX+t.startWidth,n.startY))):(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.endX,n.startY),this.rangePosition=="Near"?(this.contextEl.lineTo(n.endX,n.startY-t.endWidth),this.contextEl.lineTo(n.startX,n.startY-t.startWidth)):(this.contextEl.lineTo(n.endX,n.startY+t.endWidth),this.contextEl.lineTo(n.startX,n.startY+t.startWidth))),this._contextClosePath(t,this)},_setCustomLabelCordinates:function(n,t){var i,r;this.contextEl.textAlign="center",this.Model.orientation=="Vertical"?(i=this.bounds.width*(t.location.x/100),r=this.bounds.height*(t.location.y/100)):(i=this.bounds.width*(t.location.x/100),r=this.bounds.height*(t.location.y/100)),this.location={lineStaticPosition:this.Model.orientation=="Vertical"?i:r,lineChangePosition:this.Model.orientation=="Vertical"?r:i},this.style={angle:t.textAngle,textValue:t.labelValue,fillStyle:t.labelColor?this._getColor(t,t.labelColor):this._getColor(t,this.Model.labelColor),font:t.font},this.Model.drawCustomLabel&&this._onDrawCustomLabel(),this._drawLabel(this.location,this.style),this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawIndicator:function(t,i){var r=this,u,f,e,o=!1;u=(this.bounds.width-2*i.indicatorWidth)*(i.location.x/100),f=(this.bounds.height-2*i.indicatorHeight)*(i.location.y/100),e={x:this.bounds.width*(i.textLocation.x/100),y:this.bounds.height*(i.textLocation.y/100)},r.location={startX:i.indicatorStyle=="Circle"?u+i.indicatorWidth:u,textLocation:e,startY:i.indicatorStyle=="Circle"?f+i.indicatorHeight:f,startAngle:0,endAngle:2*Math.PI},r.style={radius:i.indicatorStyle=="RoundedRectangle"?2:0,strokeStyle:i.borderColor?this._getColor(i,i.borderColor):this._getColor(i,"#FFFFFF"),angle:0,circleRadius:(i.indicatorHeight+i.indicatorWidth)/2,height:i.indicatorHeight,width:i.indicatorWidth,lineWidth:i.borderWidth,fillStyle:i.backgroundColor?this._getColor(i,i.backgroundColor):this._getColor(i,"#FFFFFF"),isStroke:!0,isFill:!0,indicatorText:null,textColor:null,font:null,counterClockwise:!1},this.Model.drawIndicators&&this._onDrawIndicators(r.style,r.location),i.stateRanges!=null&&n.each(i.stateRanges,function(n,t){i.value>=t.startValue&&i.value<=t.endValue&&(o=!0,t.text.length>0&&(r.style.indicatorText=t.text,r.style.textColor=this._getColor(i,t.textColor),r.style.font=this._getFontString(r,i.font)),r.style.strokeStyle=this._getColor(i,t.borderColor),r.style.fillStyle=this._getColor(i,t.backgroundColor),this["_drawFrame"+i.indicatorStyle](r.location,r.style,r))}),o||this["_drawFrame"+i.indicatorStyle](r.location,r.style,r),this.contextEl.getImageData&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawText:function(n,t){this.contextEl.beginPath(),this.contextEl.textAlign="center",this.contextEl.fillStyle=t.textColor,this.contextEl.font=t.font,this.contextEl.fillText(t.indicatorText,n.textLocation.x,n.textLocation.y),this.contextEl.closePath()},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(t.width,t.height/4),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(0,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(t.width/2,t.height/4),this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(3*t.width/4,0),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/4,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(t.width/4,t.height/2),this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i),i.Model.orientation=="Horizontal"&&i.markerPlacement=="Near"?(i.contextEl.moveTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.moveTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY)),this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/3,-t.height/2),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width,t.height/4),i.contextEl.lineTo(t.width/3,t.height/2),this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(t.width,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(0,0),this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/4),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/4),this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/2),this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY-t.height/2),this._setContextRotation(t,i),i.contextEl.moveTo(t.radius,0),i.contextEl.lineTo(t.width-t.radius,0),i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius),i.contextEl.lineTo(t.width,t.height-t.radius),i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height),i.contextEl.lineTo(t.radius,t.height),i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius),i.contextEl.lineTo(0,t.radius),i.contextEl.quadraticCurveTo(0,0,t.radius,0),this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.Model.width,t.Model.height),t.Model.scales!=null&&t._drawScales(),t.Model.Items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.scale(2,1),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getMarkerPointerImage()},_getBarPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getMarkerPointerImage:function(){return this.barPointerImage?this.barPointerImage:this._getCustomLabelImage()},_getCustomLabelImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},getIndicatorValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length)return this.scaleEl[n].indicators[t].value},setIndicatorValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length&&i!=null&&(this.scaleEl[n].indicators[t].value=i,this.initialize())},setPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].value=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].value},setPointerWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerWidth=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].pointerWidth},setPointerHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerLength=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].pointerLength},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},setPointerDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].distanceFromScale},setPointerPlacement:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerPlacement=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].MarkerPointer[t].pointerPlacement},setMarkerStyle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].markerStyle=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getMarkerStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].markerStyle},setBarPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].value=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].barPointers[t].value},setBarWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].pointerWidth=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].pointerWidth},setBarDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].distanceFromScale},setCustomLabelValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].labelValue=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].labelValue},setCustomLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].textAngle=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].textAngle},setRangeStartValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startValue},setRangeEndValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endValue},setRangeStartWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startWidth},setRangeEndWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endWidth},setRangeDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].distanceFromScale},setRangePosition:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].rangePosition=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangePosition:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].rangePosition},setRangeBorderWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].borderWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeBorderWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].borderWidth},setLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].angle},setLabelStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].barPointers.length&&r!=null&&(this.scaleEl[t].labels[i].labelStyle=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelStyle:function(n,t){if(n<this.Model.scales.length&&pointerIndex<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].labelStyle},setLabelPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].labelPlacement=n.inArray(r,this.Model.labelPlacement),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].labelPlacement},setLabelXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].xDistanceFromScale=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].xDistanceFromScale},setLabelYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].yDistanceFromScale=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].yDistanceFromScale},setTickAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].angle},setTickWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickWidth=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].tickWidth},setTickHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickHeight=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].tickHeight},setTickStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickStyle=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].tickStyle},setTickPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickPlacement=n.inArray(r,this.Model.tickPlacement),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].tickPlacement},setTickXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].xDistanceFromScale=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].xDistanceFromScale},setTickYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].yDistanceFromScale=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].yDistanceFromScale},setScaleLocation:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].location.x=t.x,this.scaleEl[n].location.y=t.y,this.initialize())},getScaleLocation:function(n){if(n<this.Model.scales.length)return{x:this.scaleEl[n].location.x,y:this.scaleEl[n].location.y}},setMaximumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].maximum=t,this.initialize())},getMaximumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].maximum},setMinimumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minimum=t,this.initialize())},getMinimumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].minimum},setScaleBarSize:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarSize=t,this.initialize())},getScaleBarSize:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleBarSize},setScaleBarLength:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarLength=t,this.initialize())},setScaleStyle:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleStyle=t,this.initialize())},getScaleStyle:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleStyle},getScaleBarLength:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleBarLength},setScaleBorderWidth:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].borderWidth=t,this.initialize())},setScaleDirection:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleDirection=t,this.initialize())},getScaleDirection:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleDirection},getScaleBorderWidth:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].borderWidth},setMajorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.initialize())},getMajorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].majorIntervalValue},setMinorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.initialize())},getMinorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].minorIntervalValue},_reDrawBarPointer:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getBarPointerImage(),0,0),this._setBarPointers(),this._setMarkerPointers())},_reDrawMarkerPointer:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers())},_reDrawCustomLabel:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawRange:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawLabel:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawTickMark:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},refresh:function(){this._init()},_onDrawTicks:function(n,t){var i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,tickIndex:this.tickIndex,tickElement:this.tickEl[this.tickIndex],context:this.contextEl,style:this.style,location:this.location,tickValue:t,tickAngle:parseInt(n)};this._trigger("drawTicks",i)},_onDrawLabels:function(n){var t={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,labelIndex:this.labelIndex,labelElement:this.labelEl[this.labelIndex],context:this.contextEl,style:this.style,location:this.location,labelValue:this.labelValue,labelAngle:parseInt(n)};this._trigger("drawLabels",t)},_onDrawBarPointers:function(n){var t={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,barPointerIndex:this.barPointerIndex,barElement:this.barPointerEl[this.barPointerIndex],context:this.contextEl,style:this.style,location:this.location,pointerValue:n};this._trigger("drawBarPointers",t)},_onDrawMarkerPointers:function(n,t){var i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,markerPointerIndex:this.markerPointerIndex,markerElement:this.markerPointerEl[this.markerPointerIndex],context:this.contextEl,style:this.style,location:this.location,pointerValue:t,pointerAngle:parseInt(n)};this._trigger("drawMarkerPointers",i)},_onDrawRange:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawIndicators",n)},onLoad:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("load",n)},_onInit:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("init",n)},_onRenderComplete:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_restoreWidth:function(){this.scaleEl[this.scaleIndex].scaleBarLength=this.scaleEl[this.scaleIndex].scaleBarLength+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartX[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].scaleBarSize/2},_modifyWidth:function(){this.scaleEl[this.scaleIndex].scaleBarLength=this.scaleEl[this.scaleIndex].scaleBarLength-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartX[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2},_getClockwiseLinePosition:function(n){var t;return t=(n-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100)},_getCounterClockwiseLinePosition:function(n){var t;return t=this.scaleEl[this.scaleIndex].maximum-n+this.scaleEl[this.scaleIndex].minimum,t=(t-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100)},_getValue:function(n){return tempVal=this.Model.orientation=="Vertical"?(n.y-this.scaleStartY[this.scaleIndex])/this.scaleEl[this.scaleIndex].scaleBarLength*100:(n.x-this.scaleStartX[this.scaleIndex])/this.scaleEl[this.scaleIndex].scaleBarLength*100,value=(tempVal*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)+this.scaleEl[this.scaleIndex].minimum)/100,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&(value=this.scaleEl[this.scaleIndex].maximum+this.scaleEl[this.scaleIndex].minimum-value),value},_getPointerXPosition:function(n){return this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(startX=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=0),this.markerPlacement=="Near"&&(startX=this.scaleStartX[this.scaleIndex]+n.distanceFromScale,angle=180),this.markerPlacement=="Center"&&(startX=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-radius+n.distanceFromScale:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,angle=0)):(this.markerPlacement=="Far"&&(startX=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=90),this.markerPlacement=="Near"&&(startX=this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=270),this.markerPlacement=="Center"&&(startX=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-radius+n.distanceFromScale:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,angle=90)),{startx:startX,angle:angle}},_hexFromRGB:function(t,i,r){var u=[t.toString(16),i.toString(16),r.toString(16)];return n.each(u,function(n,t){t.length===1&&(u[n]="0"+t)}),u.join("").toUpperCase()},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,r),i.addColorStop(1,r)):n.each(r,function(n,t){i.addColorStop(t.ColorStop!=NaN?t.ColorStop:0,typeof t.Color=="string"?t.Color:t.Color)})},_getFontString:function(n,t){return t.fontStyle+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily},_setPointerDimension:function(n,t){if(t.Model.orientation&&t.Model.orientation=="Horizontal"){var i=n.width,r=n.height;n.height=i,n.width=r}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},wireEvents:function(){this.startEv="mousedown",this.moveEv="mousemove",this.endEv="mouseup",this.onMouseDownHandler=n.proxy(this._onMouseDown,this),n("#"+this.target.id).bind(this.startEv,n.proxy(this._onMouseDown,this))},unWireEvents:function(){n("#"+this.target.id).unbind(this.startEv,this.onMouseDownHandler)},_blockDefaultActions:function(n){n.cancelBubble=!0,n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()},_onMouseDown:function(t){var s,r,h,u,f,e,o,i;this._blockDefaultActions(t),s={x:this.centerX,y:this.centerY},r={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frameOuterWidth+this.Model.frameInnerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},offsetPoint={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},h=this._getValue(r),i=this,n.each(this.Model.scales,function(t,s){i.scaleIndex=t,s.markerPointers!=null&&(i.markerPointerEl=s.markerPointers,n.each(s.markerPointers,function(t,s){u=i.scaleEl[i.scaleIndex].scaleDirection=="Clockwise"?i._getClockwiseLinePosition(s.value):i._getCounterClockwiseLinePosition(s.value),f=u+s.pointerWidth,e=u-s.pointerWidth,o=i._getPointerXPosition(s).startx;var h=i._isBetween((i.Model.orientation=="Horizontal"?r.y:r.x)-s.pointerWidth,(i.Model.orientation=="Horizontal"?r.y:r.x)+s.pointerWidth,o);(i.Model.orientation=="Horizontal"?i._isBetween(e,f,r.x):i._isBetween(e,f,r.y))&&h&&(i.activeElement=s,i.Model.scales[i.scaleIndex].barPointers[t]!=null&&(i.activeBarElement=i.Model.scales[i.scaleIndex].barPointers[t]),i.onMouseMoveHandler=n.proxy(i._onMouseMove,i),i.onMouseUpHandler=n.proxy(i._onMouseUp,i),n(document).bind(i.moveEv,i.onMouseMoveHandler),n(document).bind(i.endEv,i.onMouseUpHandler))}))})},_isBetween:function(n,t,i){return n<t?i>=n&&i<=t:i>=t&&i<=n},_onMouseUp:function(){this.mouseMove=!1,n(document).unbind(self.moveEv,self.onMouseMoveHandler),n(document).unbind(self.endEv,self.onMouseUpHandler)},_onMouseMove:function(t){this._blockDefaultActions(t),startPoint={x:this.centerX,y:this.centerY},endPoint={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frameOuterWidth+this.Model.frameInnerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},this.activeElement.value=this._getValue(endPoint),this.activeBarElement&&(this.activeBarElement.value=this._getValue(endPoint)),this._reDrawBarPointer()},_setTheme:function(){selectedTheme=t.LinearGauge.themes[this.model.theme],this._setThemeColors(selectedTheme)},_setThemeColors:function(n){var r=t.LinearGauge.themes,o=0,e=Object.keys(r),i,u,f;for(property in r)r.hasOwnProperty(property)&&o++;for(r=0;r<o;r++)for(this.model.backgroundColor=this.model.backgroundColor==null||this.model.backgroundColor==t.LinearGauge.themes[e[r].toString()].scales.backgroundColor?n.scales.backgroundColor:this.model.backgroundColor,this.model.borderColor=this.model.borderColor==null||this.model.borderColor==t.LinearGauge.themes[e[r].toString()].scales.borderColor?n.scales.borderColor:this.model.borderColor,this.model.labelColor=this.model.labelColor==null||this.model.labelColor==t.LinearGauge.themes[e[r].toString()].scales.labels.labelColor?n.scales.labels.labelColor:this.model.labelColor,this.model.tickColor=this.model.tickColor==null||this.model.tickColor==t.LinearGauge.themes[e[r].toString()].scales.ticks.tickColor?n.scales.ticks.tickColor:this.model.tickColor,i=0;i<this.model.scales.length;i++){for(u=0;u<this.model.scales[i].markerPointers.length;u++)this.model.scales[i].markerPointers[u].backgroundColor=this.model.scales[i].markerPointers[u].backgroundColor==null||this.model.scales[i].markerPointers[u].backgroundColor==t.LinearGauge.themes[e[r].toString()].scales.markerPointers.backgroundColor?n.scales.markerPointers.backgroundColor:this.model.scales[i].markerPointers[u].backgroundColor,this.model.scales[i].markerPointers[u].borderColor=this.model.scales[i].markerPointers[u].borderColor==null||this.model.scales[i].markerPointers[u].borderColor==t.LinearGauge.themes[e[r].toString()].scales.markerPointers.borderColor?n.scales.markerPointers.borderColor:this.model.scales[i].markerPointers[u].borderColor;for(f=0;f<this.model.scales[i].barPointers.length;f++)this.model.scales[i].barPointers[f].backgroundColor=this.model.scales[i].barPointers[f].backgroundColor==null||this.model.scales[i].barPointers[f].backgroundColor==t.LinearGauge.themes[e[r].toString()].scales.barPointers.backgroundColor?n.scales.barPointers.backgroundColor:this.model.scales[i].barPointers[f].backgroundColor,this.model.scales[i].barPointers[f].borderColor=this.model.scales[i].barPointers[f].borderColor==null||this.model.scales[i].barPointers[f].borderColor==t.LinearGauge.themes[e[r].toString()].scales.barPointers.borderColor?n.scales.barPointers.borderColor:this.model.scales[i].barPointers[f].borderColor}}}),t.tickStyle={MajorInterval:"MajorInterval",MinorInterval:"MinorInterval"},t.labelStyle={Major:"Major",Minor:"Minor"},t.fontStyle={Bold:"Bold",Italic:"Italic",Regular:"Regular",Strikeout:"Strikeout",Underline:"Underline"},t.pointerPlacement={Near:"Near",Far:"Far",Center:"Center"},t.tickPlacement={Near:"Near",Far:"Far",Center:"Center"},t.labelPlacement={Near:"Near",Far:"Far",Center:"Center"},t.rangePosition={Near:"Near",Far:"Far",Center:"Center"},t.scaleDirection={Clockwise:"Clockwise",CounterClockwise:"CounterClockwise"},t.scaleStyle={Rectangle:"Rectangle",RoundedRectangle:"RoundedRectangle",Thermometer:"Thermometer"},t.indicatorStyle={Rectangle:"Rectangle",Circle:"Circle",RoundedRectangle:"RoundedRectangle",text:"text"},t.markerStyle={Rectangle:"Rectangle",Triangle:"Triangle",Ellipse:"Ellipse",Diamond:"Diamond",Pentagon:"Pentagon",Circle:"Circle",Star:"Star",Slider:"Slider",Pointer:"Pointer",Wedge:"Wedge",Trapezoid:"Trapezoid",RoundedRectangle:"RoundedRectangle"},t.LinearGauge.themes={flatlight:{scales:{backgroundColor:"#FFFFFF",borderColor:"#1d1e1e",barPointers:{backgroundColor:"#8abc3b",borderColor:"#8abc3b"},markerPointers:{backgroundColor:"#212121",borderColor:"#212121"},ticks:{tickColor:"#1d1e1e"},labels:{labelColor:"#222222"}}},flatdark:{scales:{backgroundColor:"#808080",borderColor:"#808080",barPointers:{backgroundColor:"#8abc3b",borderColor:"#8abc3b"},markerPointers:{backgroundColor:"#CCCCCC",borderColor:"#CCCCCC"},ticks:{tickColor:"#808080"},labels:{labelColor:"#CCCCCC"}}}};var r=0,u=0,f=[],e=[]}(jQuery,Syncfusion),function(n,t,i){t.widget({mDigitalGauge:"m.DigitalGauge",ejDigitalGauge:"ej.DigitalGauge"},{element:null,model:null,defaults:{segmentData:{"0":[0,1,2,3,4,5,14,15],"1":[1,2],"2":[0,14,1,6,8,4,3,15],"3":[0,1,2,3,6,8,14,15],"4":[1,2,5,6,8],"5":[0,2,3,5,6,8,14,15],"6":[0,2,3,4,5,6,8,14,15],"7":[0,1,2,14],"8":[0,1,2,3,4,5,6,8,14,15],"9":[0,1,2,3,5,6,8,14,15],A:[0,1,2,4,5,6,8,14],B:[0,1,2,3,7,9,8,14,15],C:[0,3,4,5,14,15],D:[0,1,2,3,7,9,14,15],E:[0,3,4,5,6,8,14,15],F:[0,4,5,6,8,14],G:[0,2,3,4,5,8,14,15],H:[1,2,4,5,6,8],I:[0,3,7,9,14,15],J:[1,2,3,4,15],K:[4,5,6,10,11],L:[3,4,5,15],M:[1,2,4,5,10,13],N:[1,2,4,5,11,13],O:[0,1,2,3,4,5,14,15],P:[0,1,4,5,6,8,14],Q:[0,1,2,3,4,5,11,14,15],R:[0,1,4,5,6,8,11,14],S:[0,2,3,5,6,8,14,15],T:[0,7,9,14],U:[1,2,3,4,5,15],V:[4,5,10,12],W:[1,2,4,5,11,12],X:[10,11,12,13],Y:[1,5,6,7,8],Z:[0,3,10,12,14,15]},matrixSegmentData:{"1":[0,3,0,4,1,1,1,2,1,3,1,4,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,1,6,2,6,3,6,4,6,5,6,6],"2":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,4,3,5,4,3,4,2,5,2,5,1,6,1,6,2,6,3,6,4,6,5,6,6],"3":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5],"4":[0,3,0,4,0,5,1,2,1,3,1,4,1,5,2,1,2,2,2,4,2,5,3,0,3,1,3,4,3,5,4,0,4,1,4,2,4,3,4,4,4,5,4,6,5,4,5,5,6,4,6,5],"5":[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],"6":[0,3,0,4,0,5,0,6,1,2,1,3,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,2,5,3,5,6,5,7,6,3,6,4,6,5,6,6],"7":[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],"8":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],"9":[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,2,6,3,6,4,6,4,6,5],"0":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],a:[0,2,0,3,0,4,0,5,0,6,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],b:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],c:[1,3,1,4,1,5,1,6,2,2,2,3,3,1,3,2,4,1,4,2,5,2,5,3,6,3,6,4,6,5,6,6],d:[0,6,0,7,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,5,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],e:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,2,6,3,6,4,6,5,6,6,6,7],f:[0,4,0,5,0,6,0,7,1,3,1,4,2,3,2,4,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,3,4,4,5,3,5,4,6,3,6,4],g:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,6,4,7,5,6,5,7,6,2,6,3,6,4,6,5,6,6],h:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],i:[0,3,0,4,2,1,2,2,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,3,6,4],j:[1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],k:[0,1,0,2,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,1,6,2,6,6,6,7],l:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,5,4,6,5,5,5,6,6,5,6,6],m:[0,1,0,2,0,3,0,4,0,5,0,6,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,3,5,4,5,6,5,7,6,0,6,1,6,3,6,4,6,6,6,7],n:[1,1,1,2,1,3,1,4,1,5,1,6,2,0,2,1,2,2,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,0,5,1,5,6,5,7,6,0,6,1,6,6,6,7],o:[1,2,1,3,1,4,1,5,2,1,2,2,2,5,2,6,3,1,3,2,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],p:[1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,3,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,6,1,6,2],q:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,5,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,2,4,3,4,4,4,5,4,6,4,7,5,6,5,7,6,6,6,7],r:[0,1,0,3,0,4,0,5,1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,6,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2],s:[1,2,1,3,1,4,1,5,2,1,2,2,3,1,3,2,4,3,4,4,5,4,5,5,6,1,6,2,6,3,6,4],t:[0,3,0,4,1,3,1,4,2,1,2,2,2,3,2,4,2,5,2,6,3,3,3,4,4,3,4,4,5,3,5,4,6,4,6,5,6,6,6,7],u:[1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,5,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],v:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,2,3,3,3,5,3,6,4,3,4,4,4,5,5,4,5,5,6,4],w:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,2,5,3,5,4,5,5,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],x:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,3,3,4,3,5,4,3,4,4,4,5,5,2,5,3,5,5,5,6,6,1,6,2,6,6,6,7],y:[1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],z:[1,2,1,3,1,4,1,5,1,6,1,7,2,6,2,7,3,5,3,6,4,4,4,5,5,3,5,4,6,2,6,3,6,4,6,5,6,6,6,7],A:[0,3,0,4,1,2,1,3,1,4,1,5,2,2,2,3,2,4,2,5,3,1,3,2,3,5,3,6,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],B:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],C:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,4,0,4,1,5,1,5,2,6,2,6,3,6,4,6,5,6,6],D:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],E:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],F:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],G:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,3,4,3,5,3,6,4,0,4,1,4,6,5,1,5,2,5,6,6,2,6,3,6,4,6,5,6,6],H:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],I:[0,2,0,3,0,4,0,5,0,6,1,4,2,4,3,4,4,4,5,4,6,1,6,2,6,3,6,4,6,5,6,6,6,7],J:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],K:[0,1,0,2,0,5,0,6,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,5,1,5,2,5,4,5,5,6,1,6,2,6,5,6,6],L:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],M:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,5,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],N:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],O:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],P:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],Q:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,4,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5,6,6,6,7],R:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,5,5,1,5,5,6,2,6,1,6,2,6,6],S:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,2,3,3,3,4,3,5,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],T:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,4,2,4,3,4,4,4,5,4],U:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],V:[0,0,0,1,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,5,3,6,4,3,4,4,4,5,4,6,5,4,5,5,6,4],W:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,4,4,6,4,7,5,1,5,2,5,3,5,5,5,6,5,7,6,1,6,2,6,6,6,7],X:[0,0,0,1,0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],Y:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,3,5,4,6,3,6,4],Z:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,2,4,3,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6,6,7],",":[5,3,5,4,5,5,6,4,6,5,7,3,7,4],":":[1,3,1,4,1,5,2,3,2,4,2,5,4,3,4,4,4,5,5,3,5,4,5,5],"%":[0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,3,3,3,4,4,2,4,3,5,1,5,2,5,4,5,5,6,0,6,1,6,4,6,5],"!":[0,3,0,4,0,5,1,3,1,4,1,5,2,3,2,4,2,5,3,3,3,4,3,5,4,3,4,4,4,5,5,3,5,4,5,5,7,4],"(":[0,2,0,3,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,7,2,7,3],")":[0,5,0,6,1,6,1,7,2,6,2,7,3,6,3,7,4,6,4,7,5,6,5,7,6,6,6,7,7,5,7,6],".":[5,3,5,4,5,5,6,3,6,4,6,5,7,3,7,4,7,5]},frameBackgroundImageUrl:null,frameInnerWidth:6,frameOuterWidth:10,height:150,width:400,segmentColor:"#836B33",theme:"flatlight",items:null,init:null,load:null,renderComplete:null},dataTypes:{frameBackgroundImageUrl:"string",segmentColor:"string"},_setValues:function(){this.gaugeEl=this.element,this.segmentCount=null,this.contextEl=null,this.style=null,this.value=null,this.location=null,this.canvasEl=null,this.segement16X=null,this.segment16Y=null,this.segmentHeight=null,this.segmentAngle=null,this.startX=5,this.startY=5,this.gradient=null,this.itemIndex=null,this.characterSpace=null,this.outerImage=null,this.radius=null,this.frameOuterLocation=null,this.frameInnerLocation=null,this.glassFrameLocation=null,this.glassFrameStyle=null,this.frameOuterStyle=null,this.character=null,this.frameInnerStyle=null,this._itemInitialize()},_destroy:function(){this.element.empty()},_setModel:function(n){var t;for(t in n)switch(t){case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"items":this.model.items=n[t],this._itemInitialize();break;case"frameBackgroundImageUrl":this.model.frameBackgroundImageUrl=n[t];break;case"frameInnerWidth":this.model.frameInnerWidth=n[t];break;case"frameOuterWidth":this.model.frameOuterWidth=n[t];break;case"theme":this.model.theme=n[t]}this.refresh()},_init:function(){this._setValues(),this._trigger("load"),this._setTheme(),this._initialize()},_setTheme:function(){selectedThem=t.DigitalGauge.themes[this.model.theme],this._setThemeColors(selectedThem)},_setThemeColors:function(n){var r=t.DigitalGauge.themes,f=0,u=Object.keys(r),i;for(property in r)r.hasOwnProperty(property)&&f++;for(r=0;r<f;r++)for(i=0;i<this.model.items.length;i++)this.model.items[i].segmentColor=this.model.items[i].segmentColor==null||this.model.items[i].segmentColor==t.DigitalGauge.themes[u[r].toString()].items.segmentColor?n.items.segmentColor:this.model.items[i].segmentColor,this.model.items[i].shadowColor=this.model.items[i].shadowColor==null||this.model.items[i].shadowColor==t.DigitalGauge.themes[u[r].toString()].items.shadowColor?n.items.shadowColor:this.model.items[i].shadowColor,this.model.items[i].textColor=this.model.items[i].textColor==null||this.model.items[i].textColor==t.DigitalGauge.themes[u[r].toString()].items.textColor?n.items.textColor:this.model.items[i].textColor},_initialize:function(){this.model.init&&this._clientSideOnInit(),this._initObject(this),this.model.load&&this._clientSideOnLoad(),this.model.frameBackgroundImageUrl!=null?this._drawCustomImage(this,this.model.frameBackgroundImageUrl):this._renderItems(),this.model.renderComplete&&this._clientSideOnRenderComplete()},_itemInitialize:function(){var t=this;this.model.items!=null?n.each(this.model.items,function(i,r){var u=t._sendDefaultItem();n.extend(u,r),n.extend(r,u)}):this.model.items=[this._sendDefaultItem()]},_sendDefaultItem:function(){return{characterCount:1,characterOpacity:1,characterSpacing:2,characterType:t.characterType.EightCrossEightDotMatrix,enableCustomFont:!1,segmentLength:2,segmentOpacity:0,segmentSpacing:1,segmentWidth:1,shadowBlur:0,shadowOffsetX:1,shadowOffsetY:1,textAlign:"Left",font:{size:"11px",fontFamily:"Arial",fontStyle:"Italic"},location:{x:0,y:0},segmentColor:null,shadowColor:null,textColor:null,value:"text"}},_initObject:function(t){t.gaugeEl=this.element,t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.gaugeEl.append(t.canvasEl),t.gaugeEl.css("width",t.model.width),t.gaugeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.gaugeEl.width()),t.canvasEl[0].setAttribute("height",t.gaugeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,t.model.width=t.gaugeEl.width(),t.model.height=t.gaugeEl.height();var i=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(i=window.G_vmlCanvasManager.initElement(i)),i&&i.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.model.width,t.model.height),t.model.Scales!=null&&t._drawScales(),t.model.items!=null&&t._renderItems()}).attr("src",i)},_setSegmentCount:function(n){switch(n){case"SevenSegment":this._SegmentCount=7;break;case"FourteenSegment":this._SegmentCount=14;break;case"SixteenSegment":this._SegmentCount=16;break;case"EightCrossEightDotMatrix":this._SegmentCount=[8,8];break;case"EightCrossEightSquareMatrix":this._SegmentCount=[8,8];break;default:this._SegmentCount=7}},_setInnerPosition:function(){this.contextEl.save(),this.contextEl.translate(this.model.frameOuterWidth+this.model.frameInnerWidth,this.model.frameOuterWidth+this.model.frameInnerWidth),this.bounds={height:this.canvasEl[0].height-2*(this.model.frameOuterWidth+this.model.frameInnerWidth),width:this.canvasEl[0].width-2*(this.model.frameOuterWidth+this.model.frameInnerWidth)}},_setWidth:function(){var t=[],i;this.model.items!=null&&(i=this,n.each(this.model.items,function(n,i){t.push(i.characterCount)}))},_renderItems:function(){if(this.model.items!=null){this._setInnerPosition();var t=this;n.each(this.model.items,function(n,i){t._setSegmentCount(i.characterType),t.itemIndex=n,t._setShadow(n,i),i.enableCustomFont?t._setCustomFont(n,i):i.characterType.indexOf("Matrix")!=-1?t._drawMatrixSegments(n,i):t._drawSegments(n,i)})}},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.ColorStop!=NaN?r.ColorStop:0,typeof r.Color=="string"?r.Color:this._getColor(t,r.Color))})},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.R+", "+t.G+","+t.B+", "+t.A/255+")"},_drawMatrixSegments:function(t,i){var o=[],u=[],s,h,f,r,e;for(i.value?(this.value=i.value.toString().split(""),i.characterCount<this.value.length&&(i.characterCount=this.value.length)):this.value="",this.radius=i.characterType.indexOf("Dot")!=-1?(i.segmentLength+i.segmentWidth)/2:i.segmentWidth/2,s=this.startX=(this.bounds.width-i.characterCount*(this._SegmentCount[0]*2*this.radius+i.characterSpacing+this._SegmentCount[0]*i.segmentSpacing))*(i.location.x/100),h=this.startY=(this.bounds.height-(this._SegmentCount[1]*(i.characterType.indexOf("Dot")!=-1?2*this.radius:i.segmentLength)+this._SegmentCount[1]*i.segmentSpacing))*(i.location.y/100),f=0;f<i.characterCount;f++)for(this.value&&(this.character=i.textAlign=="Right"?this.value[this.value.length-i.characterCount+f]:this.value[f],u=this.model.matrixSegmentData[this.character]),f!=0&&(s=this.startX=this.startX+i.characterSpacing+i.segmentSpacing+2*this.radius,this.startY=h),r=0;r<this._SegmentCount[1];r++){for(r!=0&&(this.startY=(i.characterType.indexOf("Dot")!=-1?2*this.radius:i.segmentLength)+this.startY+i.segmentSpacing,this.startX=s),u&&n.each(u,function(n){if(n%2==0){if(u[n]>r)return!1;u[n]==r&&o.push(parseInt(u[n+1]))}}),e=0;e<this._SegmentCount[0];e++)e!=0&&(this.startX=this.startX+2*this.radius+i.segmentSpacing),this.gradient=i.characterType.indexOf("Dot")!=-1?this.contextEl.createRadialGradient(0,0,0,0,0,this.radius):this.contextEl.createLinearGradient(0,0,i.segmentWidth,0),i.SegmentGradient&&this._setGradientColor(this,this.gradient,i.SegmentGradient.ColorInfo),this.location={startX:this.startX,startY:this.startY},this.style={opacity:o&&n.inArray(e,o)!=-1?i.characterOpacity:i.segmentOpacity,height:i.segmentLength,width:i.segmentWidth,fillStyle:this._getColor(this,i.segmentColor),skewX:i.SkewAngleX,skewY:i.SkewAngleX},this.model.onItemRendering&&this._clientSideOnItemRendering(!0,e,r),i.characterType.indexOf("Dot")!=-1?this._drawDot(this.location,this.style):this._drawSquare(this.location,this.style);o=[]}},_drawSegments:function(t,i){var f=[],e=this,u,r;for(i.value&&(this.value=i.value.toUpperCase().toString().split(""),i.characterCount<this.value.length&&(i.characterCount=this.value.length)),this.characterSpace=i.characterType=="SevenSegment"?2*i.segmentWidth:4*i.segmentWidth,this._renderSegmentCalculation(i),this.gradient=this.contextEl.createLinearGradient(0,0,0,i.segmentWidth),i.segmentColor?this._setGradientColor(this,this.gradient,i.segmentColor):i.SegmentGradient?this._setGradientColor(this,this.gradient,i.SegmentGradient.ColorInfo):this._setGradientColor(this,this.gradient,this.model.segmentColor),u=0;u<i.characterCount;u++){for(i.value&&(f=this.model.segmentData[i.textAlign=="Right"?this.value[this.value.length-i.characterCount+u]:this.value[u]]),r=0;r<this._SegmentCount;r++)u!=0&&(this.segment16X[r]=this.segment16X[r]+i.segmentLength+this.characterSpace+i.characterSpacing),this.value&&(this.character=i.textAlign=="Right"?this.value[this.value.length-i.characterCount+u]:this.value[u]),this.location={startX:this.segment16X[r],startY:this.segment16Y[r]},this.style={angle:this.angle[r],fillStyle:this.gradient,isStroke:!1,isFill:!0,characterHeight:i.characterType=="SevenSegment"?i.segmentLength:this.segmentHeight[r],segmentWidth:i.segmentWidth,opacity:f&&n.inArray(r,f)!=-1?i.characterOpacity:i.segmentOpacity},this.model.onItemRendering&&this._clientSideOnItemRendering(!1,r),this._drawSegmentLayers(this.location,this.style);f=[]}},_setCustomFont:function(n,t){this.startX=(this.bounds.width-this._measureText(t.value,0,this._getFontString(this,t.font)).width)*(t.location.x/100),this.startY=(this.bounds.height-this._measureText(t.value,0,this._getFontString(this,t.font)).height)*(t.location.y/100),this.location={startX:this.startX,startY:this.startY},this.style={font:this._getFontString(this,t.font),text:t.value,textColor:t.textColor?this._getColor(this,this.model.segmentColor):this._getColor(this,t.textColor)},this.model.onItemRendering&&this._clientSideOnItemRendering(!1,segment),this._drawText(this.location,this.style)},_getFontString:function(n,t){return t.fontStyle+" "+(t.Size==null?"11px":t.Size)+" "+t.fontFamily},_renderSegmentCalculation:function(n){this.startX=(this.bounds.width-n.characterCount*(n.segmentLength+this.characterSpace+n.characterSpacing))*(n.location.x/100),this.startY=(this.bounds.height-2*n.segmentLength-n.segmentWidth)*(n.location.y/100);var t=n.characterType=="SevenSegment"?n.segmentLength:n.segmentLength/2;this.segment16X=[this.startX+n.segmentWidth/2,this.startX+n.segmentLength+4*n.segmentWidth,this.startX+n.segmentLength+4*n.segmentWidth,this.startX+n.segmentWidth/2,this.startX,this.startX,this.startX+n.segmentWidth/2,this.startX+t+2*n.segmentWidth,this.startX+2.5*n.segmentWidth+t,this.startX+t+2*n.segmentWidth,this.startX+n.segmentLength+2.5*n.segmentWidth,this.startX+t+2.5*n.segmentWidth,this.startX+t+1.5*n.segmentWidth,this.startX+1.5*n.segmentWidth,this.startX+5*n.segmentWidth/2+t,this.startX+2.5*n.segmentWidth+t],this.segment16Y=[this.startY,this.startY,this.startY+n.segmentLength+n.segmentWidth,this.startY+2*n.segmentLength+2*n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY,this.startY+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentLength+n.segmentWidth,this.startY+n.segmentWidth,this.startY,this.startY+2*n.segmentLength+2*n.segmentWidth],this.segmentHeight=[n.segmentLength/2,n.segmentLength,n.segmentLength,n.segmentLength/2,n.segmentLength,n.segmentLength,n.segmentLength/2,n.segmentLength,n.segmentLength/2,n.segmentLength,n.segmentLength,n.segmentLength,n.segmentLength,n.segmentLength,n.segmentLength/2,n.segmentLength/2],this.angle=[-90,0,0,-90,0,0,-90,0,-90,0,27,-27,27,-27,-90,-90],n.characterType=="SevenSegment"&&(this.segment16X[2]=this.segment16X[1]=this.startX+n.segmentLength+2*n.segmentWidth),n.characterType=="FourteenSegment"&&(this.segmentHeight[3]=this.segmentHeight[0]=n.segmentLength+2*n.segmentWidth)},_drawSegmentLayers:function(n,t){this._contextOpenPath(t,this),this.contextEl.translate(n.startX,n.startY),this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.moveTo(0,0),this.contextEl.lineTo(-t.segmentWidth,t.segmentWidth),this.contextEl.lineTo(-t.segmentWidth,t.characterHeight),this.contextEl.lineTo(0,t.characterHeight+t.segmentWidth),this.contextEl.lineTo(t.segmentWidth,t.characterHeight),this.contextEl.lineTo(t.segmentWidth,t.segmentWidth),this._contextClosePath(t,this)},_drawDot:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.translate(n.startX,n.startY),this.contextEl.fillStyle=t.fillStyle,this.contextEl.globalAlpha=t.opacity,this.contextEl.arc(0,0,this.radius,0,2*Math.PI,!0),this.contextEl.fill(),this.contextEl.closePath(),this.contextEl.restore()},_setShadow:function(n,t){this.contextEl.save(),this.contextEl.shadowColor=this._getColor(this,t.shadowColor),this.contextEl.shadowOffsetY=t.shadowOffsetY,this.contextEl.shadowOffsetY=t.shadowOffsetX,this.contextEl.shadowBlur=t.shadowBlur},_drawSquare:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.translate(n.startX,n.startY),this.contextEl.fillStyle=t.fillStyle,this.contextEl.globalAlpha=t.opacity,this.contextEl.rect(0,0,t.width,t.height),this.contextEl.fill(),this.contextEl.closePath(),this.contextEl.restore()},_drawText:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.font=t.font,this.contextEl.textBaseline="hanging",this.contextEl.fillStyle=t.textColor,this.contextEl.fillText(t.text,n.startX,n.startY),this.contextEl.closePath(),this.contextEl.restore()},setValue:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].value=t,this.model.frameBackgroundImageUrl?this._initialize():this._initialize())},getValue:function(n){return this.model.items[n].value},setLocation:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].location.x=t.x,this.model.items[n].location.y=t.y,this.model.frameBackgroundImageUrl?this._initialize():this.contextEl.putImageData?(this.contextEl.putImageData(this.outerImage,0,0),this._renderItems()):this._initialize())},getLocation:function(n){if(n<this.model.items.length)return{x:this.model.items[n].location.x,y:this.model.items[n].location.y}},refresh:function(){this._setTheme(),this._initialize()},_clientSideOnLoad:function(){var n={Object:this,items:this.model.items,context:this.contextEl};this._trigger("load",n)},_clientSideOnItemRendering:function(n,t,i){var r;r=n?{Object:this,items:this.model.items,character:this.character,context:this.contextEl,location:this.location,style:this.style,row:t,column:i}:{Object:this,model:this.model,id:this.model.ClientId,items:this.model.items,character:this.character,context:this.contextEl,location:this.location,style:this.style,segment:t},this._trigger("onItemRendering",r)},_clientSideOnInit:function(){var n={Object:this,items:this.model.items,context:this.contextEl};this._trigger("init",n)},_clientSideOnRenderComplete:function(){var n={Object:this,items:this.model.items,context:this.contextEl};this._trigger("renderComplete",n)},_contextOpenPath:function(n,t){t.contextEl.save(),t.contextEl.beginPath(),n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle),n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity),n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth),n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath(),n.isFill&&t.contextEl.fill(),n.isStroke&&t.contextEl.stroke(),t.contextEl.restore()},_measureText:function(t,i,r){var u=document.createElement("DIV"),f;return u.innerHTML=t,r!=null&&(u.style.font=r),u.style.backgroundColor="white",u.style.position="absolute",u.style.top=-100,u.style.left=0,i&&(u.style.maxwidth=i+"px"),document.body.appendChild(u),f={width:u.offsetWidth,height:u.offsetHeight},n(u).remove(),f}}),t.characterType={SevenSegment:"SevenSegment",FourteenSegment:"FourteenSegment",SixteenSegment:"SixteenSegment",EightCrossEightDotMatrix:"EightCrossEightDotMatrix",EightCrossEightSquareMatrix:"EightCrossEightSquareMatrix"},t.textAlignment={Left:"Left",Right:"Right"},t.fontStyle={Normal:"Normal",Bold:"Bold",Italic:"Italic",Underline:"Underline",Strikeout:"Strikeout"},t.DigitalGauge.themes={flatlight:{items:{segmentColor:"#232323",shadowColor:"#232323",textColor:"#232323"}},flatdark:{items:{segmentColor:"#b1b0b0",shadowColor:"#b1b0b0",textColor:"#b1b0b0"}}}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejGrid","ej.Grid",{_rootCSS:"e-grid",element:null,model:null,keyConfigs:{focus:"e",insertRecord:"45",deleteRecord:"46",editRecord:"113",saveRequest:"13",cancelRequest:"27",nextPage:"34",previousPage:"33",lastPage:"ctrl+alt+34",firstPage:"ctrl+alt+33",nextPager:"alt+34",previousPager:"alt+33",firstCellSelection:"36",lastCellSelection:"35",firstRowSelection:"ctrl+36",lastRowSelection:"ctrl+35",upArrow:"38",downArrow:"40",selectedGroupExpand:"alt+40",totalGroupExpand:"ctrl+40",selectedGroupCollapse:"alt+38",totalGroupCollapse:"ctrl+38"},_ignoreOnPersist:["query","isEdit","toolBarClick","queryCellInfo","currentViewData","altRow","rtl","rowDataBound","rowTemplate","detailData","detailTemplate","summaryRows","toolBar","edit","allowMultiSorting","autoSaveOnRowSelection","localization","allowScrolling","cssClass","dataSource","enableEffects","rowHover","allowSummary","editOnDoubleClick","headerEffects","allowKeyboardNavigation"],defaults:{allowPaging:!1,allowSorting:!1,allowFiltering:!1,allowSelection:!0,enableEffects:!0,allowSummary:!1,rowHover:!0,persist:!1,editOnDoubleClick:!0,selectedRow:-1,allowSearching:!1,headerEffects:!1,allowReordering:!1,allowKeyboardNavigation:!0,selectionType:"single",dataSource:null,cssClass:"",allowScrolling:!1,localization:"en-US",autoSaveOnRowSelection:!0,allowMultiSorting:!1,edit:{allowEditing:!1,allowAdding:!1,allowDeleting:!1,editMode:"normal",dialogEditorTemplateId:null},pageSettings:{pageSize:12,pageCount:8,currentPage:1,totalPages:null},groupSettings:{toggleGrouping:!1,groupedColumnShow:!0,showUngroupButton:!0,showAnimateButton:!0,groupedColumns:[]},filterSettings:{filterType:"filterbar",filterBarMode:"immediate",showFilterBarMessage:!0,statusBarWidth:450,showPredicate:!1},sortSettings:{sortedColumns:[]},toolBar:{allowToolBar:!1,toolBarItems:[]},scrolling:{width:null,heigth:null},summaryRows:[],detailTemplate:null,detailData:null,rowTemplate:null,rowDataBound:null,rtl:!1,altRow:!0,currentViewData:null,queryCellInfo:null,toolBarClick:null,columns:[],query:t.Query(),isEdit:!1},getGridHeaderTable:function(){return this._gridHeaderTable},setGridHeaderTable:function(n){this._gridHeaderTable=n},getGridContentTable:function(){return this._gridContentTable},setGridContentTable:function(n){this._gridContentTable=n},getGridPager:function(){return this._gridPager},getGridRows:function(){return this._gridRows},setGridPager:function(n){this._gridPager=n},getGridFilterBar:function(){return this._gridFilterBar},setGridFilterBar:function(n){this._gridFilterBar=n},getCurrentViewData:function(){return this._currentJsonData},_init:function(){this._trigger("load"),this._initPrivateProperties(),(this.model.width||this.model.height)&&(this.model.allowScrolling=!0,this.model.width&&(this.model.scrolling.width=this.model.width),this.model.height&&(this.model.scrolling.height=this.model.height)),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&this._processEditing(),this._checkDataBinding(),this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&this._renderFilterDialogs()},_setModel:function(i){var r,u,e,f,o,s;for(r in i)switch(r){case"pageSettings":n.extend(this.model.pageSettings,i[r]),this.getGridPager().ejPager("option",i[r]),this.refreshGridContent();break;case"allowPaging":this.model.allowPaging=i[r],i[r]&&this.element.children(".e-pager").length==0?(this.element.append(this._renderGridPager()),this.refreshGridContent(),this.getGridPager().ejPager("refreshPager")):(this.getGridPager().remove(),this.setGridPager(null),this.refreshGridContent());break;case"allowGrouping":i[r]&&this.element.children(".groupdroparea").length==0?(this.model.allowGrouping=i[r],this.addGroupingTemplate(),this.element.prepend(this._renderGroupDropArea()),this._enableGroupingEvents(),this._headerCellgDragDrop()):this.element.children(".groupdroparea").remove();break;case"groupSettings":n.extend(this.model.groupSettings,i[r]),this.templateRefresh(),this.model.groupSettings.toggleGrouping&&(u=this._renderGridHeader().find("table"),this.element.children(".gridheader").find("table").replaceWith(u),this.setGridHeaderTable(u),this.setWidthToColumns());break;case"cssClass":this.element.removeClass(this.model.cssClass).addClass(i[r]);break;case"allowFiltering":case"filterSettings":if(r=="filterSettings"?n.extend(this.model.filterSettings,i[r]):this.model.allowFiltering=i[r],this.model.allowFiltering){if(this.model.filterSettings.filterType==t.Grid.filterType.FilterBar)for(this.getGridHeaderTable().find(".filterbar").remove(),this.getGridHeaderTable().find(".columnheader").find(".filtericon").remove().end().find(".headercellfilter").removeClass("headercellfilter"),this._renderFiltering(),this.model.filterSettings.showFilterBarMessage&&this._createStatusBar(),e=this.getGridHeaderTable().find(".filterbar"),f=0;f<this.model.groupSettings.groupedColumns.length;f++)e.prepend(this._getEmptyFilterBarCell());else this.model.filterSettings.filterType==t.Grid.filterType.Menu&&(this.getGridHeaderTable().find(".columnheader").find(".filtericon").remove().end().find(".headercellfilter").removeClass("headercellfilter"),this.getGridHeaderTable().find(".filterbar").remove(),this.getGridHeaderTable().find(".columnheader").find(".headercell").addClass("headercellfilter").append(t.buildTag("div.filtericon")),this._renderFilterDialogs());this._enableFilterEvents()}else this.model.filterSettings.filterType==t.Grid.filterType.FilterBar?this.getGridHeaderTable().find(".filterbar").remove():this.model.filterSettings.filterType==t.Grid.filterType.Menu&&this.getGridHeaderTable().find(".columnheader").find(".filtericon").remove().end().find(".headercellfilter").removeClass("headercellfilter"),this._filterCollection=[],this.refreshGridContent();break;case"rowHover":this.model.rowHover=i[r],this._enableRowHover();break;case"allowScrolling":i[r]?(this.element.children(".gridcontent").ejScroller("destroy"),this._renderScroller()):(this.element.children(".gridcontent").ejScroller("destroy"),this.element.children(".gridheader").removeClass("scrollcss").end().css("width","auto"));break;case"localization":this.model.localization=i[r],o=this.model,this.element.ejGrid("destroy").ejGrid(o);break;case"dataSource":this.model.dataSource=i[r]instanceof t.DataManager?i[r]:t.DataManager(i[r]),this.getGridPager().ejPager("model.currentPage",1),this.refreshGridContent(!0);break;case"editOnDoubleClick":this._off(this.element,"dblclick",".gridcontent"),i[r]&&this._on(this.element,"dblclick",".gridcontent",this._editdblClickHandler);break;case"selectedRow":this.selectRows(i[r]);break;case"edit":n.extend(this.model.edit,i[r]),this._processEditing(),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&(this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate")&&(n("#"+this._id+"_dialogEdit_wrapper,#"+this._id+"_dialogEdit").remove(),this.element.append(this._renderDialog())),this._enableEditingEvents();break;case"enableEffects":this.model.enableEffects=!0,i[r]?this.collapseGroupDropArea():this.expandGroupDropArea();break;case"allowSummary":case"summaryRows":r!="allowSummary"||i[r]?(s=this.element.find(".gridcontent").first(),this._renderGridFooter().insertAfter(s)):this.element.children(".gridfooter").remove();break;case"altRow":this.model.altRow=i[r],this.addInitTemplate(),this.refreshGridContent();break;case"toolBar":n.extend(this.model.toolBar,i[r]),this.element.children(".gridtoolbar").remove(),this.model.toolBar.allowToolBar&&this._renderToolBar().insertBefore(this.element.find(".gridheader").first());break;case"sortSettings":n.extend(this.model.sortSettings,i[r]),this.refreshGridContent();break;case"allowSelection":i[r]&&this._off(this.element,"click")._on(this.element,"click",this._clickHandler)}},_checkDataBinding:function(){if(this.model.query=new t.Query,this._initialRenderings(),this._initialRender=!0,this._ensureDataSource(),this._trigger("actionBegin"),this.element.addClass("e-grid-core"),this.model.rtl&&this.element.addClass("e-rtl"),this.model.cssClass!=null&&this.element.addClass(this.model.cssClass),this.model.allowGrouping&&this.element.append(this._renderGroupDropArea()),this.model.toolBar.allowToolBar&&this.element.append(this._renderToolBar()),this.element.append(this._renderGridHeader()),this.model.allowFiltering&&this.model.filterSettings.filterType=="filterbar"&&this._renderFiltering(),this.model.allowPaging&&this.element.append(this._renderGridPager()),n.isFunction(n.fn.ejWaitingPopup)&&(this.element.ejWaitingPopup({autoDisplay:!1}),n("#"+this._id+"_WaitingPopup").addClass("gridwaitingpopup")),this.model.dataSource instanceof t.DataManager)if(this.element.ejWaitingPopup("show"),this.model.dataSource.ready!=i){var r=this;this.model.dataSource.ready.done(function(n){r._initDataSource(),r.model.dataSource=t.DataManager(n.result)})}else this.element.ejWaitingPopup("show"),this._initDataSource();else this._initGridRender()},_initDataSource:function(){var n=this.model.dataSource.executeQuery(this.model.query);this._dataManager.dataSource.table!=null&&this._dataManager.dataSource.table.css("display","none"),n.done(t.proxy(function(n){this.element.ejWaitingPopup("hide"),this.model.currentViewData=n.result,this._totalRecordsCount=n.count==0&&n.result.length?n.result.length:n.count,this._initGridRender()},this))},_renderFilterDialogs:function(){var i,r,u,f;n.each(this.model.columns,t.proxy(function(n,t){t.type!="string"||i?t.type!="number"||r?t.type!="date"||f?t.type!="boolean"||u||(u=!0,this._renderBoolDialog()):(f=!0,this._renderDateDialog()):(r=!0,this._renderNumDialog()):(i=!0,this._renderStringDialog())},this))},_renderStringDialog:function(){var n=this._id+"_stringDlg",i=t.buildTag("div#"+n+".dlgcontainer");i.appendTo("body"),this._renderFDialog(n),this._renderDlgContent(i,"string")},_renderBoolDialog:function(){var i=this._id+"_booleanDlg",r=t.buildTag("div#"+i+".dlgcontainer");r.appendTo("body"),this._renderFDialog(i),this.model.filterSettings.showPredicate?n("#"+i).ejDialog({minHeight:136}):n("#"+i).ejDialog({minHeight:90}),this._renderDlgContent(r,"boolean")},_renderNumDialog:function(){var n=this._id+"_numberDlg",i=t.buildTag("div#"+n+".dlgcontainer");i.appendTo("body"),this._renderFDialog(n),this._renderDlgContent(i,"number")},_renderDateDialog:function(){var n=this._id+"_dateDlg",i=t.buildTag("div#"+n+".dlgcontainer");i.appendTo("body"),this._renderFDialog(n),this._renderDlgContent(i,"date")},_renderFDialog:function(t){n("#"+t).ejDialog({autoOpen:!1,rtl:this.model.rtl,cssClass:this.model.cssClass,showHeader:!1,width:260,resizable:!1,allowKeyboardNavigation:!1,contentContainer:"#"+this._id})},_renderDlgContent:function(i,r){i.addClass("e-grid-core");var f=t.buildTag("div.predicate"),s=t.buildTag("div.operator"),e=t.buildTag("div.value"),c=t.buildTag("input#"+this._id+r+"_ddinput",{},{},{type:"text"}),l=t.buildTag("div#"+this._id+r+"_dropdown"),h=t.buildTag("ul"),a=t.buildTag("input",{},{},{type:"radio",name:this._id+"_predicate"+r,value:"or"}),v=t.buildTag("input",{},{},{type:"radio",name:this._id+"_predicate"+r,value:"and",checked:"checked"}),o;f.append(v).append(t.buildTag("span.caption").html("AND")).append(a).append(t.buildTag("span.caption").html("OR")),this.model.filterSettings.showPredicate||f.hide(),r=="string"&&(o=t.buildTag("input",{},{},{type:"checkbox"}),f.append(o).append(t.buildTag("span.caption").html("Match Case")),n.each(["StartsWith","EndsWith","Contains","Equal","NotEqual"],function(n,i){h.append(t.buildTag("li").html(i))})),(r=="number"||r=="date")&&n.each(["LessThan","GreaterThan","LessThanOrEqual","GreaterThanOrEqual","Equal","NotEqual"],function(n,i){h.append(t.buildTag("li").html(i))}),r!="boolean"&&(l.append(h),s.append(c),s.append(l));var u=t.buildTag("input",{},{},{type:"text"}),y=t.buildTag("input",{},{},{type:"checkbox"}),p=t.buildTag("input.filter",{},{},{type:"button",value:"Filter"}),w=t.buildTag("input.clear",{},{},{type:"button",value:"Clear"});e.append(t.buildTag("span.caption").html("Filter : ")),i.append(f),r=="boolean"?e.append(y):(e.append(t.buildTag("br")).append(u),i.append(s)),i.append(e),i.append(t.buildTag("div.dlgBtns").append(p).append(w)),c.ejDropDownList({cssClass:this.model.cssClass,rtl:this.model.rtl,targetId:this._id+r+"_dropdown",width:"230px",height:"26px",selectedItem:0}),a.ejRadioButton({cssClass:this.model.cssClass,rtl:this.model.rtl}),v.ejRadioButton({cssClass:this.model.cssClass,rtl:this.model.rtl}),o&&o.ejCheckBox({cssClass:this.model.cssClass,rtl:this.model.rtl}),i.css("display","none"),this._createButton("filter",p),this._createButton("clear",w),r=="number"?u.ejNumericTextbox({cssClass:this.model.cssClass,rtl:this.model.rtl,value:0,showSpinButton:!1,height:"26px",decimal:2}):r=="date"?u.ejDatePicker({cssClass:this.model.cssClass,rtl:this.model.rtl,width:230}):r=="boolean"?y.ejCheckBox({cssClass:this.model.cssClass,rtl:this.model.rtl}):r=="string"&&(u.attr("id",this._id+"_acString"),u.ejAutocomplete({cssClass:this.model.cssClass,rtl:this.model.rtl,dataSource:this.model.dataSource,width:230,height:26,distinct:!0}))},_createButton:function(n,i){var r=n=="filter"?t.proxy(this._fltrBtnHandler,this):t.proxy(this._fltrClrHandler,this);i.ejButton({cssClass:this.model.cssClass,rtl:this.model.rtl,click:r})},_fltrBtnHandler:function(){var u=n("#"+this._id+"_"+this._$colType+"Dlg"),r=u.find(".value input"),f,t=r.val(),e=i;this._$colType=="number"&&(t=parseFloat(r.ejNumericTextbox("getValue")),e=!0),this._$colType=="string"&&(e=u.find(".predicate input[type='checkbox']").is(":checked")),this._$colType=="date"&&(t=Globalize.parseDate(t,this._$colFormat)),this._$colType=="boolean"?(t=r.ejCheckBox("model.checked")!=null?r.ejCheckBox("model.checked"):!1,f="equal"):f=n("#"+this._id+this._$colType+"_ddinput").ejDropDownList("getSelectedItem").toLowerCase(),this.sendFilteringRequest(this._$curFieldName,f,t,u.find(".predicate input[type='radio']:checked").attr("value"),e)},_fltrClrHandler:function(){var t="#"+this._id+"_"+this._$colType+"Dlg";this._$colType=="boolean"?n(t).find(".value input").ejCheckBox("model.checked",!1):n(t).find(".value input").val(""),this.sendFilteringRequest(this._$curFieldName,"","","or")},_processEditing:function(){var i=this._columnToSelect(),n;this.model.dataSource instanceof t.DataManager&&i.queries.length?(n=this.model.dataSource.executeQuery(this._columnToSelect()),n.done(t.proxy(function(n){this._dropDownManager=t.DataManager(n.result),this.model.edit.editMode=="dialog"?this.addDialogEditingTemplate():this.model.edit.editMode=="dialogTemplate"?this.addExternalDialogEditingTemplate():this.addEditingTemplate()},this))):this.model.edit.editMode=="dialog"?this.addDialogEditingTemplate():this.model.edit.editMode=="dialogTemplate"?this.addExternalDialogEditingTemplate():this.addEditingTemplate()},_initGridRender:function(){this.addInitTemplate(),this.model.allowGrouping&&this.addGroupingTemplate(),this.renderGrid(),this.model.allowGrouping&&this._headerCellgDragDrop(),this.model.allowReordering&&(this._headerCellreorderDragDrop(),this._initIndicators()),this._wireEvents(),this.model.allowResizing&&(this._resizer=new gridResize(this)),this._initialRender=!1,this.model.width&&!this.model.allowScrolling&&this.element.width(this.model.width)},_checkSkipAction:function(n){switch(n.requestType){case t.Grid.actions.Save:case t.Grid.actions.Delete:return!0}return!1},_processBindings:function(n){if(this.model.query=new t.Query,!this._checkSkipAction(n)&&this._trigger("actionBegin",n))return!0;if(this._ensureDataSource(n),n.requestType==t.Grid.actions.Delete&&this.model.groupSettings.groupedColumns.length==0&&n.tr.remove(),this.model.dataSource instanceof t.DataManager&&n.requestType!=t.Grid.actions.BeginEdit&&n.requestType!=t.Grid.actions.Cancel&&n.requestType!=t.Grid.actions.Add){var i=this.model.dataSource.executeQuery(this.model.query),r=this.element.ejWaitingPopup("instance");this.element.ejWaitingPopup("show"),i.done(t.proxy(function(i){this.element.ejWaitingPopup("hide"),this.model.currentViewData=i.result,this._totalRecordsCount=i.count==0&&i.result.length?i.result.length:i.count,n.requestType==t.Grid.actions.Filtering&&(this._filteredRecordsCount=i.count),this.sendDataRenderingRequest(n)},this))}else this.sendDataRenderingRequest(n)},_initPrivateProperties:function(){this._gridHeaderTable=null,this._gridWidth=this.element.width(),this._id=this.element.attr("id"),this._gridRows=null,this._gridContentTable=null,this._totalRecordsCount=this.model.dataSource!==null?this.model.dataSource.length:0,this._links=null,this._gridPager=null,this._cSortedColumn=null,this._cSortedDirection=null,this._$curSElementTarget=null,this._gridFilterBar=null,this._$curFieldName=null,this._$prevFieldName=null,this._$fDlgIsOpen=!1,this._$colType=null,this._$colFormat=null,this._$prevColType=null,this._$prevSElementTarget=null,this._currentFilterColumn=null,this._filterCollection=[],this._filteredRecordsCount=null,this._filteredRecords=[],this.filterColumnCollection=[],this._primaryKeys=[],this._primaryKeyValues=[],this._modifiedRecords=[],this._addedRecords=[],this._tdsOffsetWidth=[],this._deletedRecords=[],this._disabledToolItems=n(),this._validationRules={},this._groupedColumns=[],this._currentJsonData=[],this._groupingColumnIndex=0,this._dataManager=this.model.dataSource instanceof t.DataManager?this.model.dataSource:this.model.dataSource!=null?t.DataManager(this.model.dataSource):null,this._disabledSortableColumns=[],this._disabledGroupableColumns=[],this._disabledFilterableColumns=[],this._hiddenColumns=[],this._visibleColumns=[],this._sortedColumns=[],this._multiSortRequest=!1,this._multiSelectCtrlRequest=!1,this._multiSelectShiftRequest=!1,this._initialRender=!1,this._fieldColumnNames={},this._headerColumnNames={},this._selectedRowsIndexes=[],this._isReorder=!1,this._searchString="",this._searchCount=null,this._columnsWidthCollection=[],this._Indicator=null,this._resizer=null},addInitTemplate:function(){var s,o,u,r,h,l,f,a,e,c;if(this.model.columns.length!==0){if(s=document.createElement("tbody"),this.model.rowTemplate!=null)n(s).append(n(this.model.rowTemplate).html());else{for(o=document.createElement("tr"),u=this.model.columns,this._totalRecordsCount&&this._getColumnTypes(this.model.currentViewData[0]!=i?this.model.currentViewData[0]:this.model.currentViewData.value),h={_gridFormatting:this.formatting},n.views.helpers(h),this.model.detailTemplate&&(l=t.buildTag("td.detailrowcollapse","<div><\/div>"),n(o).append(l)),r=0;r<this.model.columns.length;r++){if(f=t.buildTag("td.rowcell"),u[r].visible==!1&&f.addClass("hide"),this.model.groupSettings.groupedColumnShow||f.addClass("{{for ~groupedColumns}} {{if #data == '"+this.model.columns[r].field+"'}}hide{{/if}}{{/for}}"),u[r].columnTemplate)e={},e["_"+this._id+"ColumnTemplating"]=this._gridTemplate,n.views.helpers(e),n("#"+this._id+u[r].headerText+"_Template").remove(),a=this._createTemplateElement(u[r]),this.model.columns[r].allowGrouping=this.model.columns[r].allowFiltering=this.model.columns[r].allowSorting=!1,f.addClass("templatecell").html("{{:~_"+this._id+"ColumnTemplating('"+a.id+"')}}");else{switch(u[r].type){case"boolean":f.addClass("boolrowcell").html("{{if "+u[r].field+'}} <input type ="checkbox" disabled="disabled" checked="checked"><\/input>{{else}} <input type ="checkbox" disabled="disabled"  ><\/input> {{/if}}');break;default:f.html("{{:"+u[r].field+"}}")}u[r].format!=i&&f.html("{{:~_gridFormatting('"+u[r].format+"',"+u[r].field+",'"+u[r].field+"')}}"),u[r].isUnBound&&(e={},e["_"+this._id+"UnboundTemplate"]=this._unboundTemplateRendering,n.views.helpers(e),this.model.columns[r].allowGrouping=this.model.columns[r].allowFiltering=this.model.columns[r].allowSorting=!1,n("#"+this._id+u[r].headerText+"_UnboundTemplate").remove(),divElement=this._createUnboundElement(u[r]),f.addClass("unboundcell").addClass(u[r].headerText.replace(/\s+/g,"")).html("{{:~_"+this._id+"UnboundTemplate('"+divElement.id+"')}}"),this._isUnboundColumn=!0)}u[r].textAlign!=i&&f.css("text-align",u[r].textAlign),t.isNullOrUndefined(u[r].customAttributes)||f.attr(u[r].customAttributes),n(o).append(f),this.model.altRow&&(h["_"+this._id+"AlternateRow"]=this._alternateRow,n.views.helpers(h),n(o).addClass("{{:~_"+this._id+"AlternateRow()}}"))}s.appendChild(o)}c={},c[this._id+"_JSONTemplate"]=n(s).html(),n.templates(c)}},_createTemplateElement:function(t){var i=document.createElement("script");return i.id=(this._id+t.headerText+"_Template").split(" ").join(""),i.type="text/x-jsrender",i.text=n(t.templateId).html(),n("body").append(i),n(t.templateId).hide(),i},_createUnboundElement:function(i){var f=document.createElement("div"),e,u,r,o;for(f.id=this._id+i.headerText.replace(/\s+/g,"")+"_UnboundTemplate",e=t.buildTag("div.unboundcelldiv"),u=i.commands,r=0;r<u.length;r++)o=t.buildTag("input."+u[r].type+"button","",{},{type:"button"}),o.val(u[r].type),e.append(o);return n("body").append(n(f).html(e).hide()),f},addGroupingTemplate:function(){var c=document.createElement("tbody"),i=this,r={};r["_"+i._id+"ColSpanAdjust"]=this._colSpanAdjust,r["_"+i._id+"Colgroup"]=this._getColGroup,r["_"+i._id+"CaptionFormat"]=this._captionFormat,r[i._id+"Object"]=this,n.views.helpers(r);var f="<td class='recordplusexpand'><div><\/div><\/td><td class='groupcaption' colspan='{{:~_"+i._id+"ColSpanAdjust('"+i._id+"Object','groupcaption') }}'>{{:~_"+i._id+"CaptionFormat('"+i._id+"Object')}}<\/td",e="<tr>"+f+"<\/tr>",u=t.buildTag("tbody");u.html("{{if items.GROUPGUID}}{{for items tmpl='"+i._id+"_GroupingTemplate'/}}{{else}}{{for items tmpl='"+i._id+"_JSONTemplate'/}}{{/if}}");var o="<table class='table {{if items.GROUPGUID}}{{else}}recordtable{{/if}}' cellspacing='0.25px' >{{:~_"+i._id+"Colgroup('"+i._id+"Object')}}"+u.html()+"<\/table>",s="<td class='tabletd' colspan='{{:~_"+i._id+"ColSpanAdjust('"+i._id+"Object','table')}}'>"+o+"<\/td>",h="<tr><td class='indentcell'><\/td>"+s+"<\/tr>";n.templates(i._id+"_GroupingTemplate",e+h)},_captionFormat:function(n){var t=this.getRsc("helpers",n),i=t.getColumnByField(this.data.field);return i.headerText+": "+this.data.key+" - "+this.data.count+" "+t._getLocalizedLabels("GroupCaptionFormat")},_alternateRow:function(){return this.getIndex()%2==0?"":"alt_row"},_getColGroup:function(t){var r=this.getRsc("helpers",t),u,f,e;return u=r.model.groupSettings.groupedColumns.length==1?this.data.items.level===i?0:this.data.items.level-1:this.data.items.level===i?r.model.groupSettings.groupedColumns.length:this.data.items.level-1,f=n(document.createElement("div")),e=r._getMetaColGroup(),u!=r.model.groupSettings.groupedColumns.length&&r.model.groupSettings.groupedColumns.length>1&&e.prepend(r._getIndentCol()),f.html(e),f.html()},_colSpanAdjust:function(n,t){var r=this.getRsc("helpers",n),u,e,f;return r.model.groupSettings.groupedColumns.length==1?(u=this.data.items.level===i?1:this.data.items.level-1,t=="groupcaption"&&(r._currentJsonData=r._currentJsonData.concat(this.data.items))):(u=this.data.items.level===i?r.model.groupSettings.groupedColumns.length:this.data.items.level-1,t=="groupcaption"&&this.data.items.level===i&&(r._currentJsonData=r._currentJsonData.concat(this.data.items))),e=r.model.groupSettings.groupedColumnShow?0:r.model.groupSettings.groupedColumns.length,f=r.model.columns.length+r.model.groupSettings.groupedColumns.length-u-r._hiddenColumns.length-e,r.model.detailTemplate!=null?f+1:f},_gridTemplate:function(t){return n("#"+t).render(this.data)},_unboundTemplateRendering:function(t){return n("#"+t).html()},_compiledDropDownTemplate:function(){var i=t.buildTag("select"),r=t.buildTag("option","{{:text}}",{},{value:"{{:value}}"});return i.append(r),n.templates(i.html())},addEditingTemplate:function(){var l,d,r,u,a,g,nt,tt,v,s,e,o,it,f,h;if(this.model.columns.length!=0){var y=t.buildTag("tbody"),p=t.buildTag("tr"),w=t.buildTag("td","",{},{colSpan:this.model.columns.length}),b=t.buildTag("form","",{},{id:this._id+"EditForm"}),c=t.buildTag("table.table","",{},{cellspacing:.25}),rt=t.buildTag("tbody"),k=t.buildTag("tr");for(y.append(p),p.append(w),w.append(b),l=n(document.createElement("colgroup")),b.append(c),c.append(l),rt.append(k).appendTo(c),d=this._compiledDropDownTemplate(),r=0;r<this.model.columns.length;r++){if(u=t.buildTag("td.rowcell"),k.append(u.get(0)),t.isNullOrUndefined(this.model.columns[r].isUnBound)&&t.isNullOrUndefined(this.model.columns[r].columnTemplate)){a=t.Grid.editingType.StringEdit,this.model.columns[r].columnEditType!=i&&(a=this.model.columns[r].columnEditType);switch(a){case"stringedit":u.html(t.buildTag("input.field ejinputtext","",{},{value:"{{:"+this.model.columns[r].field+"}}",id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}));break;case"booleanedit":u.html("{{if "+this.model.columns[r].field+'}} <input class="field checkbox" type ="checkbox" id='+this._id+this.model.columns[r].field+" name="+this.model.columns[r].field+' checked="checked"><\/input>{{else}} <input class="field checkbox" type ="checkbox" id='+this._id+this.model.columns[r].field+" name="+this.model.columns[r].field+" > {{/if}}");break;case"numericedit":g=t.buildTag("input.numerictextbox field","",{},{type:"text",value:"{{:"+this.model.columns[r].field+"}}",id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}),u.append(g);break;case"datepicker":nt=t.buildTag("input.datepicker field","",{},{type:"text",value:"{{:"+this.model.columns[r].field+"}}",id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}),u.append(nt);break;case"dropdownedit":if(t.isNullOrUndefined(this.model.columns[r].dropdownData))for(v=(new t.Query).select(this.model.columns[r].field),tt=t.isNullOrUndefined(this._dropDownManager)?this._dataManager.executeLocal(v):this._dropDownManager.executeLocal(v),s=[],e=e=t.dataUtil.mergeSort(t.distinct(tt)),o=0;o<e.length;o++)s.push({text:e[o],value:e[o]});else s=this.model.columns[r].dropdownData;u.get(0).innerHTML=["<select>",d.render(s),"<\/select>"].join(""),u.find("select").prop({id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}).addClass("field dropdownlist")}}else this.model.columns[r].columnTemplate?(f={},f["_"+this._id+"ColumnTemplating"]=this._gridTemplate,n.views.helpers(f),n("#"+this._id+this.model.columns[r].headerText+"_Template").remove(),it=this._createTemplateElement(this.model.columns[r]),u.addClass("templatecell").html("{{:~_"+this._id+"ColumnTemplating('"+it.id+"')}}")):this.model.columns[r].isUnBound&&(f={},f["_"+this._id+"UnboundTemplate"]=this._unboundTemplateRendering,n.views.helpers(f),n("#"+this._id+this.model.columns[r].headerText+"_UnboundTemplate").remove(),divElement=this._createUnboundElement(this.model.columns[r]),u.addClass("unboundcell").addClass(this.model.columns[r].headerText.replace(/\s+/g,"")).html("{{:~_"+this._id+"UnboundTemplate('"+divElement.id+"')}}"),this._isUnboundColumn=!0);this.model.columns[r].textAlign!=i&&u.css("text-align",this.model.columns[r].textAlign),this.model.columns[r].allowEditing==!1&&u.find(".field").attr("disabled",!0),this.model.columns[r].key===!0&&(u.find(".field").attr("disabled",!0),this._primaryKeys.push(n.trim(this.model.columns[r].field)),this._primaryKeys=n.unique(this._primaryKeys)),this.model.columns[r].isIdentity===!0&&u.find(".field").addClass("identity"),h=n(document.createElement("col")),this.model.columns[r].visible===!1&&(h.css("display","none"),u.addClass("hide")),!this.model.groupSettings.groupedColumnShow&&u.addClass("{{for ~groupedColumns}} {{if #data == '"+this.model.columns[r].field+"'}}hide{{/if}}{{/for}}")&&h.css("display","none"),l.append(h)}n.templates(this._id+"_JSONEditingTemplate",y.html())}},addDialogEditingTemplate:function(){var r,a,p,w,b,v,h,f,e;if(this.model.columns.length!=0){var o=t.buildTag("div"),s=t.buildTag("form","",{},{id:this._id+"EditForm"}),c=t.buildTag("table","",{},{cellspacing:"14px"}),k=this._compiledDropDownTemplate();for(r=0;r<this.model.columns.length;r++){var l=t.buildTag("tr"),y=t.buildTag("td","",{"text-align":"right"}),u=t.buildTag("td","",{"text-align":"left"}).addClass("rowcell");l.append(y.get(0)).append(u.get(0)),a=t.Grid.editingType.StringEdit,this.model.columns[r].columnEditType!=i&&(a=this.model.columns[r].columnEditType),this.model.columns[r].headerText==i&&(this.model.columns[r].headerText=this.model.columns[r].field),y.append("<label for='"+this.model.columns[r].field+"'>"+this.model.columns[r].headerText+"<\/label>");switch(a){case"stringedit":u.html(t.buildTag("input.field ejinputtext","",{},{value:"{{:"+this.model.columns[r].field+"}}",id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}));break;case"booleanedit":u.html("{{if "+this.model.columns[r].field+'}} <input class="field" type ="checkbox" id='+this._id+this.model.columns[r].field+" name="+this.model.columns[r].field+' checked="checked"><\/input>{{else}} <input class="field" type ="checkbox" id='+this._id+this.model.columns[r].field+" name="+this.model.columns[r].field+" > {{/if}}");break;case"numericedit":p=t.buildTag("input.numerictextbox field","",{},{type:"text",value:"{{:"+this.model.columns[r].field+"}}",id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}),u.append(p);break;case"datepicker":w=t.buildTag("input.datepicker field","",{},{type:"text",value:"{{:"+this.model.columns[r].field+"}}",id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}),u.append(w);break;case"dropdownedit":if(t.isNullOrUndefined(this.model.columns[r].dropdownData))for(v=(new t.Query).select(this.model.columns[r].field),b=t.isNullOrUndefined(this._dropDownManager)?this._dataManager.executeLocal(v):this._dropDownManager.executeLocal(v),h=[],f=f=t.dataUtil.mergeSort(t.distinct(b)),e=0;e<f.length;e++)h.push({text:f[e],value:f[e]});else h=this.model.columns[r].dropdownData;u.get(0).innerHTML=["<select>",k.render(h),"<\/select>"].join(""),u.find("select").prop({id:this._id+this.model.columns[r].field,name:this.model.columns[r].field}).addClass("field dropdownlist")}this.model.columns[r].key===!0&&u.find(".field").attr("disabled",!0),this.model.columns[r].visible===!1&&l.addClass("hide"),s.append(c),c.append(l),s.appendTo(o),this.model.columns[r].key===!0&&(u.find(".field").attr("disabled",!0),this._primaryKeys.push(n.trim(this.model.columns[r].field)),this._primaryKeys=n.unique(this._primaryKeys))}s.append(c),o=this.renderDiaglogButton(s,o),n.templates(this._id+"_JSONDialogEditingTemplate",o.html())}},renderDiaglogButton:function(n,i){var f=t.buildTag("input","",{"margin-left":"20px"},{type:"button",id:"EditDialog_"+this._id+"_Save"}),u,r;return f.ejButton({cssClass:this.model.cssClass,rtl:this.model.rtl,text:this._getLocalizedLabels("SaveButton"),width:"100"}),u=t.buildTag("input","",{"margin-left":"20px"},{type:"button",id:"EditDialog_"+this._id+"_Cancel"}),u.ejButton({cssClass:this.model.cssClass,rtl:this.model.rtl,text:this._getLocalizedLabels("CancelButton"),width:"100"}),r=t.buildTag("div"),r.append(f),r.append(u).css("padding-bottom","10px"),n.append(r),n.appendTo(i),i},addExternalDialogEditingTemplate:function(){var i,r,u;if(this.model.columns.length!=0){for(i=0;i<this.model.columns.length;i++)this.model.columns[i].key===!0&&(this._primaryKeys.push(n.trim(this.model.columns[i].field)),this._primaryKeys=n.unique(this._primaryKeys));r=t.buildTag("div","",{display:"none"}),u=t.buildTag("form","",{},{id:this._id+"EditForm"}),u.append(n(this.model.edit.dialogEditorTemplateId).clone().show()),r=this.renderDiaglogButton(u,r),u.appendTo(r),n.templates(this._id+"_JSONdialogTemplateMode",r.html())}},_buttonClick:function(t){if(t.keyCode!==i&&t.keyCode!=13)return!0;t.target.id=="EditDialog_"+this._id+"_Save"?n("#"+this._id).ejGrid("sendSaveRequest").length!==i&&n("#"+this._id+"_dialogEdit").ejDialog("close"):t.target.id=="EditDialog_"+this._id+"_Cancel"?(n("#"+this._id).ejGrid("sendCancelRequest"),n("#"+this._id+"_dialogEdit").ejDialog("close")):n("#"+this._id).ejGrid("sendCancelRequest")},_headerCellgDragDrop:function(){var i=this,r;this.dragHeaderElement(),r=this.element.children("div.groupdroparea"),r.ejDroppable({accept:r,drop:function(r,u){if(!t.isNullOrUndefined(u.helper)&&u.helper.is(":visible")){var f=i.getColumnByHeaderText(n.trim(u.helper.text()));(u.helper.remove(),n.inArray(f.headerText,i._disabledGroupableColumns)==-1)&&(t.isNullOrUndefined(f.field)||i.sendGroupingRequest(f.field))}}})},_headerCellreorderDragDrop:function(){var i=this,r;this.dragHeaderElement(),r=this.element.find(".headercelldiv"),r.ejDroppable({accept:r,drop:function(r,u){var f,e;!t.isNullOrUndefined(u.helper)&&u.helper.is(":visible")&&(f=i.getColumnByHeaderText(n.trim(u.helper.text())),u.helper.remove(),n.inArray(f.headerText,i._disabledGroupableColumns)==-1)&&(t.isNullOrUndefined(f.field)||(e=i.getColumnByHeaderText(n.trim(n(r.originalEvent.target).text())),i.sendReorderingRequest(f.field,e.field)))}})},dragHeaderElement:function(){var i=this,r=this.element.children("div.gridheader").find("th.headercell").not(".headertemplate"),u=t.buildTag("div.e-grid-metro cloneproperties e-grid-core","",{height:"20px","z-index":2});r.ejDraggable({helper:function(t){i.element.find(".dragclone").length>0&&i.element.find(".dragclone").remove();var r=n(t.sender.target).hasClass("headercell")?n(t.sender.target):n(t.sender.target).closest("th");return u.html(r.text()).clone().width(r.outerWidth()+2).height(r.height()+2).css({"font-size":parseInt((r.height()+3)/2)}).addClass("dragclone").appendTo(i.element)},dragStart:function(t){var r=t.event.originalEvent.target,u={target:r,draggableType:"headercell"},f;return i._resizer!=null&&i._resizer._expand?(n(".dragclone").remove(),!1):(i._dragActive=!0,f=i.element.find(".groupdroparea"),i.expandGroupDropArea(),i._trigger("dragStart",u)?!1:void 0)},drag:function(t){var r=n(t.event.originalEvent.target),u={target:r,draggableType:"headercell"};if(i._trigger("drag",u))return!1;r.hasClass("headercelldiv")&&i.model.allowReordering&&(document.body.style.cursor="",r.addClass("allowDrop"),i.getGridHeaderTable().find(".reorderindicate").removeClass("reorderindicate"),r.parent().addClass("reorderindicate")),r.hasClass(".groupdroparea")||r.closest(".groupdroparea").length?(document.body.style.cursor="",r.addClass("allowDrop")):document.body.style.cursor="not-allowed"},dragStop:function(t){var u,r;t.element.dropped||(r=n(t.event.originalEvent.target),u={target:r,draggableType:"headercell"},i._trigger("dragStop",u),i.element.find(".groupdroparea").removeClass("groupdropareahover"),i.getGridHeaderTable().find(".columnheader").find(".headercellactive").removeClass("headercellactive"),n(".dragclone").remove(),i._dragActive=!1,r=i.element.find(".groupdroparea"),i.getGridHeaderTable().find(".reorderindicate").removeClass("reorderindicate"),i.collapseGroupDropArea(),document.body.style.cursor="",n(i._Indicator).css("display","none"))}})},_initIndicators:function(){var t=this._id+"_ColumnDropIndicator";n("#"+t).length&&n("#"+t).remove(),this._Indicator=document.createElement("DIV"),n(this._Indicator).attr("id",t).addClass("columndropindicator").addClass("dropAcceptor").appendTo(document.body),n(this._Indicator).css({display:"none"})},_showImg:function(t){if(this._locationHelper(t),cell=t.target.tagName=="DIV"&&t.target.parentNode.tagName=="TH"?t.target.parentNode:t.target.tagName=="TH"?t.target:null,cell.cellIndex>=0){var i=n(cell).offset(),r=navigator.userAgent.search("Mozilla")>=0&&this._groupedColumns.length>0?3:4,u=navigator.userAgent.search("Mozilla")>=0&&this._groupedColumns.length>0?2:1;n(this._Indicator).css("left",parseInt(i.left-r)).css("position","absolute").css("top",parseInt(i.top+u)).css("display","").css("z-index",this._maxZindex()+1)}},_maxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},_locationHelper:function(n){this._x=document.all?n.clientX:document.layers?n.x:n.clientX,this._y=document.all?n.clientY:document.layers?n.y:n.clientY},set_dropColumn:function(i,r){var f,u,e;for(this.model.columns.splice(r,0,this.model.columns.splice(i,1)[0]),f=this.model.columns,this._fieldColumnNames=this._headerColumnNames=[],u=0;u<f.length;u++)this._fieldColumnNames[f[u].headerText]=f[u].field,this._headerColumnNames[f[u].field]=f[u].headerText,n(this.getGridHeaderTable().find(".headercell >div.headercelldiv")[u]).text(f[u].headerText);e={},e.requestType=t.Grid.actions.Reorder,this.addInitTemplate(),this.sendDataRenderingRequest(e)},_groupHeaderCelldrag:function(){var u=t.buildTag("div.e-grid-metro cloneproperties e-grid-core","",{height:"20px","z-index":2}),i=this,f=this.element.children(".groupdroparea").find(".groupheadercell"),r;f.ejDraggable({helper:function(t){var r=n(t.sender.target).closest(".grid-icon");return u.html(n(t.sender.target).closest(".groupheadercell").text()).clone().width(r.width()+2).height(r.height()+2).addClass("dragclone").appendTo(i.element)},dragStart:function(n){var t=n.event.originalEvent.target,r={target:t,draggableType:"groupheadercell"};if(i._trigger("dragStart",r))return!1},drag:function(t){n(".Sibling").remove();var r=n(t.event.originalEvent.target),u={target:r,draggableType:"groupheadercell"};if(i._trigger("drag",u))return!1;r.closest("div.gridcontent").length?(document.body.style.cursor="",r.addClass("allowDrop")):document.body.style.cursor="not-allowed"},dragStop:function(t){if(!t.element.dropped){var r=n(t.event.originalEvent.target),u={target:r,draggableType:"groupheadercell"};i._trigger("dragStop",u),n(".dragclone").remove(),document.body.style.cursor=""}}}),r=this.element.children(".gridcontent"),r.ejDroppable({accept:i.element.children("div.groupdroparea").find(".groupheadercell"),drop:function(r,u){if(!t.isNullOrUndefined(u.helper)&&u.helper.is(":visible")&&u.draggable.hasClass("groupheadercell")){var f=i.getFieldNameByHeaderText(n.trim(u.helper.text()));u.helper.remove(),t.isNullOrUndefined(f)||i.sendUngroupingRequest(f)}}})},renderGrid:function(){this._renderGridContent().insertAfter(this.element.children(".gridheader")),this.model.allowGrouping&&this._groupHeaderCelldrag(),this.model.allowSummary=this.model.summaryRows.length>0||this.model.allowSummary,this.model.allowSummary&&this._renderGridFooter().insertAfter(this.element.children(".gridcontent")),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&(this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate")&&this.element.append(this._renderDialog()),this._initialEndRendering(),this.model.allowFiltering&&this.model.filterSettings.showFilterBarMessage&&this._createStatusBar(),this.model.allowScrolling&&this._renderScroller()},_renderGroupDropArea:function(){this.model.groupSettings.showAnimateButton||(this.model.enableEffects=this.model.groupSettings.showAnimateButton);var i=this.model.enableEffects?"":this._getLocalizedLabels("GroupDropArea"),n=t.buildTag("div.groupdroparea",i);return this.model.groupSettings.showAnimateButton&&n.append(t.buildTag("div.animatebutton").addClass(this.model.enableEffects?"animatebuttondown":"animatebuttonup")),n},_renderToolBar:function(){var r=t.buildTag("div.gridtoolbar","",{},{id:this._id+"_toolbarItems"}),f=t.buildTag("ul"),u,i;return!t.isNullOrUndefined(this.model.toolBar.toolBarItems)&&this.model.toolBar.toolBarItems.length&&this._renderLi(f),r.append(f),u=t.buildTag("ul"),r.append(u),!t.isNullOrUndefined(this.model.toolBar.customToolbarItems)&&this.model.toolBar.customToolbarItems.length&&this._renderCustomLi(u),i={},i.click=this._toolBarClick,i.cssClass=this.model.cssClass,i.rtl=this.model.rtl,i.itemSeparator=!1,r.ejToolbar(i),r.ejToolbar("disableItem",this._disabledToolItems),this._disabledToolItems=n(),r},_renderCustomLi:function(i){for(var u,f,r=0;r<this.model.toolBar.customToolbarItems.length;r++){u=t.buildTag("li","",{},{title:this.model.toolBar.customToolbarItems[r]});switch(typeof this.model.toolBar.customToolbarItems[r]){case"string":f=t.buildTag("a.toolbaricons","",{}).addClass(this.model.toolBar.customToolbarItems[r]);break;case"object":u.attr("title",this.model.toolBar.customToolbarItems[r].templateId.replace("#","")),f=n(this.model.toolBar.customToolbarItems[r].templateId).hide().html()}u.html(f),i.append(u)}},_renderLi:function(n){for(var r,i=0;i<this.model.toolBar.toolBarItems.length;i++)r=t.buildTag("li","",{},{id:this._id+"_"+this.model.toolBar.toolBarItems[i],title:this.model.toolBar.toolBarItems[i]}),this._renderLiContent(r,this.model.toolBar.toolBarItems[i]),n.append(r)},_renderLiContent:function(n,i){var r,u;switch(i){case"add":r=t.buildTag("a.addnewitem toolbaricons","",{});break;case"edit":r=t.buildTag("a.edititem toolbaricons","",{});break;case"delete":r=t.buildTag("a.deleteitem toolbaricons","",{});break;case"update":r=t.buildTag("a.saveitem toolbaricons disabletool","",{}),this._disabledToolItems.push(n.get(0));break;case"cancel":r=t.buildTag("a.cancel toolbaricons disabletool","",{}),this._disabledToolItems.push(n.get(0));break;case"search":u=t.buildTag("input.ejinputtext","",{},{type:"text"}),r=t.buildTag("a.searchitem toolbaricons disabletool","",{}),n.append(u),this.model.allowSearching=!0}n.append(r)},_renderGridHeader:function(){var f,e,r,l,p;if(this.model.columns.length==0)throw"column collection is missing";f=t.buildTag("div.gridheader"),e=t.buildTag("div"),this.model.allowScrolling&&(e.addClass("headercontent"),f.addClass("scrollcss"));var s=t.buildTag("table.table","",{},{cellspacing:"0.25px"}),a=t.buildTag("thead"),v=t.buildTag("tbody.hide"),h=t.buildTag("tr.columnheader"),c=n(document.createElement("colgroup")),y=n(document.createElement("tr"));for(this._hiddenColumns=[],this.model.detailTemplate&&(h.append(t.buildTag("th.headercell detailheadercell","<div><\/div>")),c.append(this._getIndentCol())),r=0;r<this.model.columns.length;r++){var u=t.buildTag("th.headercell"),w=document.createElement("td"),o=t.buildTag("div.headercelldiv",this.model.columns[r].headerText==i?this.model.columns[r].headerText=this.model.columns[r].field:this.model.columns[r].headerText);u.append(o),this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&u.append(t.buildTag("div.filtericon")),l=document.createElement("col"),y.append(w),h.append(u),c.append(l),this.model.columns[r].visible===!1?u.addClass("hide")&&n(l).css("display","none")&&this._hiddenColumns.push(this.model.columns[r].headerText):this._visibleColumns.push(this.model.columns[r].headerText),this.model.columns[r].allowSorting===!1&&this._disabledSortableColumns.push(this.model.columns[r].headerText),this.model.columns[r].allowGrouping===!1&&this._disabledGroupableColumns.push(this.model.columns[r].headerText),t.isNullOrUndefined(this.model.columns[r].headerTemplateId)||(o.html(n(this.model.columns[r].headerTemplateId).hide().html()).parent().addClass("headertemplate"),p=n.inArray(this.model.columns[r].headerText,this._disabledGroupableColumns),p==-1&&this._disabledGroupableColumns.push(this.model.columns[r].headerText)),this.model.groupSettings.toggleGrouping&&n.inArray(this.model.columns[r].headerText,this._disabledGroupableColumns)==-1&&(n.inArray(this.model.columns[r].field,this.model.groupSettings.groupedColumns)!=-1?o.append(this._getToggleButton().addClass("toggleungroup")):o.append(this._getToggleButton().addClass("togglegroup"))),this._columnsWidthCollection.push(this.model.columns[r].width),this.model.columns[r].width==i&&this.model.commonWidth!==i&&(this._columnsWidthCollection[r]=this.model.commonWidth),this._fieldColumnNames[this.model.columns[r].headerText]=this.model.columns[r].field,this._headerColumnNames[this.model.columns[r].field]=this.model.columns[r].headerText,this.model.allowFiltering&&t.Grid.filterType.Menu==this.model.filterSettings.filterType&&u.addClass("headercellfilter")}return a.append(h),v.append(y),s.append(c).append(a).append(v),e.html(s),f.html(e),this.setGridHeaderTable(s),f},_renderGridFooter:function(){if(this.model.summaryRows.length>0){var i=t.buildTag("div.gridfooter"),n=t.buildTag("table#"+this._id+"_summaryTable.gridsummary","",{},{cellspacing:"0.25px"});return n.append(this.getGridHeaderTable().find("colgroup").clone()),this._createSummaryRows(n),i.append(n),i}throw"summary row collection is missing";},_createSummaryRows:function(i){i.find("tbody").length>0&&i.find("tbody").remove();var u=t.buildTag("tbody"),r=this;n.each(this.model.summaryRows,function(i,f){var o=t.buildTag("tr"),e=r.getGridHeaderTable().find("td").clone().addClass("summaryrow");e.first().html(f.title),o.append(e),u.append(o),n.each(f.summaryColumns,function(t,i){var u=r._getSummaryValues(i),o=i.prefix?i.prefix:"",f=r.getColumnIndexByField(i.displayColumn),s=i.suffix?i.suffix:"";n(e[f]).html(o+(i.format?r.formatting(i.format,u):u)+s).css("text-align",r.model.columns[f].textAlign)})}),i.append(u)},_getSummaryValues:function(n){var i,r,e,u,f;r=this._filterCollection.length>0?this._filteredRecords:this.model.dataSource,e=r instanceof t.DataManager?r:t.DataManager(r);switch(n.summaryType){case t.Grid.summaryType.Maximum:u=t.max(r,n.dataMember),i=u[n.dataMember];break;case t.Grid.summaryType.Minimum:u=t.min(r,n.dataMember),i=u[n.dataMember];break;case t.Grid.summaryType.Average:i=t.avg(r,n.dataMember);break;case t.Grid.summaryType.Sum:i=t.sum(r,n.dataMember);break;case t.Grid.summaryType.Count:i=r.length;break;case t.Grid.summaryType.TrueCount:f=t.Predicate(n.dataMember,"equal",!0),i=e.executeLocal(t.Query().where(f)).length;break;case t.Grid.summaryType.FalseCount:f=t.Predicate(n.dataMember,"equal",!1),i=e.executeLocal(t.Query().where(f)).length;break;case t.Grid.summaryType.Custom:i=n.customSummaryValue}return i},_renderDialog:function(){return t.buildTag("div.e-dialog e-dialog-content e-shadow e-widget-content","",{display:"none"},{id:this._id+"_dialogEdit"})},_renderGridContent:function(){var u=t.buildTag("div.gridcontent"),f=t.buildTag("div"),r=t.buildTag("table.table","",{},{cellspacing:"0.25px"}),e=n(document.createElement("tbody")),o,i;return r.append(this.getGridHeaderTable().find("colgroup").clone()).append(e),f.html(r),u.html(f),this.setGridContentTable(r),this.model.dataSource==null?(o=t.buildTag("td",this._getLocalizedLabels("EmptyRecord"),{},{colSpan:this.model.columns.length}),e.append(n(document.createElement("tr")).append(o))):(i={},this.model.groupSettings.groupedColumns.length?(this.model.groupSettings.groupedColumns.length&&this._initialRender&&(i.columnName=this.model.groupSettings.groupedColumns.lastItem()),i.requestType=t.Grid.actions.Grouping):i.requestType=t.Grid.actions.Refresh,this.sendDataRenderingRequest(i)),u},_renderScroller:function(){var t,i;this.model.scrolling||(this.model.scrolling={}),(this.model.scrolling.width||this.model.width)&&this.element.width(this.model.scrolling.width||this.model.width),t=this.element.children(".gridcontent").attr("tabindex","0"),t.ejScroller(this.model.scrolling),t.ejScroller("isVScroll")?this.element.find(".gridheader").addClass("scrollcss"):this.element.find(".gridheader").removeClass("scrollcss"),i=this,t.find(".content").scroll({gridObject:i},function(t){t.data.gridObject.element.children(".gridheader").find("div").first().scrollLeft(n(t.currentTarget).scrollLeft())}),this.element.find(".gridheader").find(".headercontent").scroll({gridObject:i},function(t){t.data.gridObject.element.children(".gridcontent").find(".content").first().scrollLeft(n(t.currentTarget).scrollLeft())})},_eventBindings:function(){if(this._refreshUnboundTemplate(this.getGridContentTable()),this._totalRecordsCount!=0&&(this.model.queryCellInfo!=null||this.model.rowDataBound!=null))for(var n=0;n<this._gridRows.length;n++)this._rowEventTrigger(this._gridRows[n],this.model.dataSource[n])},_rowEventTrigger:function(t,i){var u,e,r,f;for(this._trigger("rowDataBound",{Element:t,data:i}),u=t.cells,e=n(t).find(".rowcell"),r=0;r<u.length;r++)f={Element:u[r],Data:i,Text:u[r].innerHTML},n(u[r]).hasClass("rowcell")&&(f.column=this.model.columns[e.index(u[r])]),this._trigger("queryCellInfo",f)},_renderGridPager:function(){var t=n(document.createElement("div")),i={};return this.model.pageSettings.click=this._gPagerClickHandler,this.model.pageSettings.totalRecordsCount=this._totalRecordsCount,this.model.pageSettings.localization=this.model.localization,n.extend(i,this.model.pageSettings),i.masterObject=this,this.setGridPager(t),t.ejPager(i),t.ejPager("refreshPager"),this.model.pageSettings.totalPages=t.ejPager("model").totalPages,t},_renderFiltering:function(){var f=this.getGridHeaderTable(),i=t.buildTag("tr.filterbar"),n,r,u;for(this.model.detailTemplate&&i.append(t.buildTag("th.filterbarcell mastercell")),n=0;n<this.model.columns.length;n++)r=t.buildTag("input.ejinputtext","",{},{type:"text",id:this.model.columns[n].field+"_filterBarcell"}),u=t.buildTag("th.filterbarcell"),this.model.columns[n].allowFiltering===!1&&(r.attr("disabled",!0),this._disabledFilterableColumns.push(this.model.columns[n].headerText)),this.model.columns[n].visible===!1&&u.addClass("hide"),i.append(u.append(r));f.find("thead").append(i),this.setGridFilterBar(i)},_initialRenderings:function(){if(this.model.groupSettings.groupedColumns.length)for(var n=0;n<this.model.groupSettings.groupedColumns.length;n++)this.model.sortSettings.sortedColumns.push({field:this.model.groupSettings.groupedColumns[n],direction:t.sortOrder.Ascending})},_initialEndRendering:function(){this.model.selectedRow!=-1&&this.selectRows(this.model.selectedRow)},_createSortElement:function(){return t.buildTag("span","&nbsp;")},_createStatusBar:function(){var n=this.element.find(".e-grid-filterstatusbar");n.length&&n.remove();var i=this._gridWidth,r=i-this.model.filterSettings.statusBarWidth-2,u=t.buildTag("dihv.msgdiv");this.$statusBarDiv=t.buildTag("div.e-grid-filterstatusbar").addClass("status-right").append(u),this.$statusBarDiv.css({width:this.model.filterSettings.statusBarWidth+"px","margin-left":r+"px"}).appendTo(this.element)},_getColumnTypes:function(n){for(var t,r;n.items!=i;)n=n.items[0];for(t=0;t<this.model.columns.length;t++)r=n[this.model.columns[t].field],this.model.columns[t].type=r!=null?r.getDay?"date":typeof r:null},_findColumnsWidth:function(){var t=this.getGridHeaderTable().find("colgroup").find("col"),n;for(this.model.groupSettings.groupedColumns.length&&(t=t.slice(this.model.groupSettings.groupedColumns.length)),n=0;n<this.model.columns.length;n++)this._columnsWidthCollection[n]=t.eq(n).width()},_calculateWidth:function(){for(var t=this.getGridHeaderTable().find("colgroup").find("col"),i=0,n=0;n<t.length;n++)i+=t.eq(n).width();return i},_getEmptyTbody:function(){var i=t.buildTag("td",this._getLocalizedLabels("EmptyRecord"),{},{colSpan:this.model.columns.length});return n(document.createElement("tr")).append(i)},_getLocalizedLabels:function(n){return t.Grid.localization[this.model.localization][n]===i?t.Grid.localization["en-US"][n]:t.Grid.localization[this.model.localization][n]},_getToggleButton:function(){return t.buildTag("span.togglegroupbutton","&nbsp;")},_getRightHeaderCell:function(){return t.buildTag("th.rightheadercell")},_getGroupTopLeftCell:function(){var n=t.buildTag("th.grouptopleftcell");return n.append(t.buildTag("div.headercelldiv","&nbsp;")),n},_getIndentCol:function(){return t.buildTag("col","",{width:"30px"})},_getEmptyFilterBarCell:function(){return t.buildTag("th.filterbarcell")},_getMetaColGroup:function(){for(var u=t.buildTag("colgroup"),r,i=0;i<this.model.columns.length;i++)r=n(document.createElement("col")),this.model.columns[i].visible===!1&&r.css("display","none"),this.model.groupSettings.groupedColumnShow||n.inArray(this.model.columns[i].field,this.model.groupSettings.groupedColumns)==-1||r.css("display","none"),u.append(r);return u},_setoffsetWidth:function(){var i,t;if(this._totalRecordsCount!=0)for(i=n("#"+this._id+"EditForm").find("tr").find("td.rowcell").not(".unboundcell,.templatecell"),t=0;t<i.length;t++)this._tdsOffsetWidth[t]=i.get(t).offsetWidth},_setCurrentRow:function(n){(n==t.Grid.actions.Filtering||n==t.Grid.actions.Sorting||n==t.Grid.actions.Delete||n==t.Grid.actions.Save||n==t.Grid.actions.Cancel||n==t.Grid.actions.Paging)&&(this.model.selectedRow=-1)},refreshGridContent:function(n){n&&this.templateRefresh();var i={};i.requestType=t.Grid.actions.Refresh,this._processBindings(i)},templateRefresh:function(){this.addInitTemplate(),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&this.addEditingTemplate(),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&this.model.edit.editMode=="dialog"&&this.addDialogEditingTemplate(),(this.model.edit.allowEditing||this.model.edit.allowAdding)&&this.model.edit.editMode=="dialogTemplate"&&this.addExternalDialogEditingTemplate(),this.model.allowGrouping&&this.addGroupingTemplate(),this.model.detailTemplate!=null&&this.addDetailTemplate()},hideColumns:function(t){var i,u=0,f={},r;if(n.isArray(t))for(i=0;i<t.length;i++)r=n.inArray(t[i],this._visibleColumns),r!=-1&&(this._hiddenColumns.push(t[i]),this._visibleColumns.splice(r,1));else r=n.inArray(t,this._visibleColumns),r!=-1&&(this._hiddenColumns.push(t),this._visibleColumns.splice(r,1));for(i=0;i<this.model.columns.length;i++)if(n.inArray(this.model.columns[i].headerText,this._hiddenColumns)!=-1&&(this.model.columns[i].visible=!1,u++),this._hiddenColumns.length==u)break;this.templateRefresh(),f.requestType="refresh",this.sendDataRenderingRequest(f),this._hideHeaderColumn(this._hiddenColumns)},showColumns:function(t){var i,u=0,f={},r;if(n.isArray(t))for(i=0;i<t.length;i++)r=n.inArray(t[i],this._hiddenColumns),r!=-1&&(this._hiddenColumns.splice(r,1),this._visibleColumns.push(t[i]));else r=n.inArray(t,this._hiddenColumns),r!=-1&&(this._hiddenColumns.splice(r,1),this._visibleColumns.push(t));for(i=0;i<this.model.columns.length;i++)if(n.inArray(this.model.columns[i].headerText,this._visibleColumns)!=-1&&(this.model.columns[i].visible=!0,u++),this._visibleColumns.length==u)break;this.templateRefresh(),f.requestType="refresh",this.sendDataRenderingRequest(f),this._showHeaderColumn(this._visibleColumns)},clearSorting:function(){var t=this;this.model.sortSettings.sortedColumns=n.grep(this.model.sortSettings.sortedColumns,function(i){return n.inArray(i.field,t.model.groupSettings.groupedColumns)!=-1?!0:!1}),this._$prevSElementTarget=null,this._$curSElementTarget=null,this.refreshGridContent()},getBrowserDetails:function(){var n=navigator.userAgent.match(/(firefox|chrome|opera|msie|safari)\s?\/?(\d+(.\d+)*)/i);return{browser:n[1].toLowerCase(),version:n[2]}},getFieldNameByHeaderText:function(n){return t.isNullOrUndefined(this._fieldColumnNames[n])?null:this._fieldColumnNames[n]},getVisibleColumnNames:function(){return this._visibleColumns},getHiddenColumnNames:function(){return this._hiddenColumns},getHeaderTextByFieldName:function(n){return t.isNullOrUndefined(this._headerColumnNames[n])?null:this._headerColumnNames[n]},expandAll:function(){for(var i=this.element.find(".recordpluscollapse"),t=0;t<i.length;t++)this.expandCollapse(n(i[t]))},collapseAll:function(){for(var i=this.element.find(".recordplusexpand"),t=0;t<i.length;t++)this.expandCollapse(n(i[t]))},cleanUpSelection:function(i){if(this.model.selectedRow!=-1){var r=n(this.getGridRows()),i;t.isNullOrUndefined(i)?r.find(".rowcell, .detailrowcollapse, .detailrowexpand").removeClass("selectionbackground"):(n(r[i].cells).removeClass("selectionbackground"),i=n.inArray(i,this._selectedRowsIndexes),i!=-1&&this._selectedRowsIndexes.splice(i,1)),this._selectedRowsIndexes.length==0&&(this.model.selectedRow=-1)}return!0},_recalculateIndentWidth:function(){var r=this.getBrowserDetails(),n=this.getGridHeaderTable().find(".lastgrouptopleftcell").width(),t,u=n/30,i;u>1&&(t=30/u),this.getGridHeaderTable().find("colgroup").find("col").slice(0,this.model.groupSettings.groupedColumns.length).css("width",t+"px"),n=this.getGridHeaderTable().find(".lastgrouptopleftcell").width(),n>30?(this.getGridContentTable().find("table").filter(":not(.recordtable)").children("colgroup").find("col:first-child").css("width",n+"px"),i=this.getGridContentTable().find("colgroup").first().find("col").slice(0,this.model.groupSettings.groupedColumns.length),r.browser!="msie"?i.css("width",t+"px"):i.first().css("width",n/this.element.width()*100+"%")):r.browser!="msie"&&this.getGridContentTable().find("colgroup").first().find("col").slice(0,this.model.groupSettings.groupedColumns.length).css("width",t+"px")},setWidthToColumns:function(){var r=this.getGridContentTable().children("colgroup").find("col"),u=this.getGridHeaderTable().children("colgroup").find("col"),o=this.element.width(),s,e,h,c,l,i,f;for(this.model.groupSettings.groupedColumns.length&&(s=this.getBrowserDetails(),s.browser=="msie"&&parseInt(s.version,10)>8&&r.first().css("width",3e3/o+"%")),e=this.model.columns.length,r.length>e&&r.splice(0,r.length-e),u.length>e&&u.splice(0,u.length-e),i=0;i<u.length;i++)t.isNullOrUndefined(this._columnsWidthCollection[i])?this.model.allowScrolling&&(h=(o/this.model.columns.length).toFixed(2)+"px",r.eq(i).css("width",h),u.eq(i).css("width",h),this._columnsWidthCollection[i]=(o/this.model.columns.length).toFixed(2)):(r.eq(i).width(this._columnsWidthCollection[i]),u.eq(i).width(this._columnsWidthCollection[i]));if(this.model.isEdit&&(f=r.clone(),c=n("#"+this._id+"EditForm").find("colgroup"),c.empty().append(f),this.model.detailTemplate!=null&&c.prepend(this._getIndentCol())),this.model.groupSettings.groupedColumns.length)for(l=this.getGridContentTable().find(".recordtable").children("colgroup"),i=0;i<l.length;i++)f=r.clone(),this.model.detailTemplate!=null&&f.splice(0,0,this._getIndentCol()[0]),l.eq(i).empty().append(f)},expandCollapse:function(i){var s,r,f,e,o,u;if(i.prop("tagName")=="DIV"&&(i.parent().hasClass("recordplusexpand")||i.parent().hasClass("recordpluscollapse")||i.parent().hasClass("detailrowcollapse")||i.parent().hasClass("detailrowexpand"))&&(i=i.parent()),i.hasClass("recordplusexpand")&&this.model.groupSettings.groupedColumns.length)s=i.index(),r=i.closest("tr").next(),r.hide(),i.removeClass("recordplusexpand").addClass("recordpluscollapse");else if(i.hasClass("recordpluscollapse")&&this.model.groupSettings.groupedColumns.length){var s=i.index(),r=i.closest("tr").next(),f=[],e=r;for(n(e[0].cells[s]).hasClass("indentcell")&&e.children(".indentcell").length==i.parent().children(".indentcell").length+1&&(e.show(),o=e.children(".recordplusexpand"),o!=null&&o.length>0&&f.push(o)),i.removeClass("recordpluscollapse").addClass("recordplusexpand"),u=0;u<f.length;u++)f[u].removeClass("recordplusexpand").addClass("recordpluscollapse"),this.expandCollapse(f[u])}else if(i.hasClass("detailrowexpand")){var s=i.index(),c=i.closest("tr").index()-i.closest("tr").prevAll("tr.detailrow").length,r=i.closest("tr").next();this._trigger("detailCollapse",{masterRow:i.closest("tr"),detailRow:r,masterData:this._currentJsonData[c]}),r.hide(),i.removeClass("detailrowexpand").addClass("detailrowcollapse")}else if(i.hasClass("detailrowcollapse")){var s=i.index(),c=i.closest("tr").index()-i.closest("tr").prevAll("tr.detailrow").length,l=i.closest("tr").next();if(l.hasClass("detailrow"))r=l;else{var h=t.buildTag("tr.detailrow","",{display:"none"},{}),a=t.buildTag("td.detailindentcell"),v=t.buildTag("td.detailcell","",{},{colspan:this.model.columns.length});n(h).append(a),n(h).append(v.append(n(this.model.detailTemplate).render(this._currentJsonData[c]))),n(i.closest("tr")).after(h),this._trigger("detailData",{templateDetail:h}),r=h}for(this._trigger("detailExpand",{masterRow:i.closest("tr"),detailRow:r,masterData:this._currentJsonData[c]}),f=[],e=r,n(e[0].cells[s]).hasClass("detailindentcell")&&(e.show(),o=e.children(".detailrowexpand"),o!=null&&o.length>0&&f.push(o)),i.removeClass("detailrowcollapse").addClass("detailrowexpand"),u=0;u<f.length;u++)f[u].removeClass("detailrowexpand").addClass("detailrowcollapse"),this.expandCollapse(f[u])}},getSelectedRecords:function(){for(var t=[],n=0;n<this._selectedRowsIndexes.length;n++)this._selectedRowsIndexes[n]!=-1&&t.push(this._currentJsonData[this._selectedRowsIndexes[n]]);return t},selectRows:function(r,u){var f=n(this.getGridRows()),s={},e,o;if(this.model.selectedRow!=-1&&(s={currentRowIndex:this.model.selectedRow,currrentRow:f.eq(this.model.selectedRow),currentData:this.model.currentViewData[this.model.selectedRow]}),!this._trigger("rowSelecting",s)){if((this.model.edit.allowEditing||this.model.edit.allowAdding)&&this.model.isEdit&&this.model.autoSaveOnRowSelection){if(this.sendSaveRequest())return;f=n(this.getGridRows())}if(t.isNullOrUndefined(u)||t.isNullOrUndefined(r)){r=t.isNullOrUndefined(r)?u:r;switch(this.model.selectionType){case t.Grid.selectionType.Multiple:if(this._multiSelectCtrlRequest){e=n.inArray(r,this._selectedRowsIndexes),e!=-1&&this.cleanUpSelection(r)&&this._selectedRowsIndexes.splice(e,0),e==-1&&(this._selectedRowsIndexes.push(r),n(f[r]).find(".rowcell, .detailrowcollapse, .detailrowexpand").addClass("selectionbackground"));break}case t.Grid.selectionType.Single:this.cleanUpSelection(),this._selectedRowsIndexes=[],this._selectedRowsIndexes.push(r),n(f[r]).find(".rowcell, .detailrowcollapse, .detailrowexpand").addClass("selectionbackground")}}else{for(this.cleanUpSelection(),this._selectedRowsIndexes=[],rows=r-u<0?f.slice(r,u+1):f.slice(u,r+1),o=0;o<rows.length;o++)this._selectedRowsIndexes.push(rows[o].rowIndex);n(rows).find(".rowcell, .detailrowcollapse, .detailrowexpand").addClass("selectionbackground")}this._previousIndex=this._selectedRowsIndexes.length?r:i,this.model.selectedRow=r,this._trigger("rowSelected",{currentRowIndex:this.model.selectedRow,currrentRow:f.eq(this.model.selectedRow),currentData:this.model.currentViewData[this.model.selectedRow]}),this._multiSelectCtrlRequest=!1}},getColumnByHeaderText:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].headerText==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByIndex:function(n){return n<this.model.columns.length?this.model.columns[n]:null},getColumnIndexByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t},getColumnFieldNames:function(){for(var t=[],n=0;n<this.model.columns.length;n++)this.model.columns[n].field&&t.push(this.model.columns[n].field);return t},setValidation:function(){n("#"+this._id+"EditForm").validate({errorClass:"field-validation-error",errorElement:"span",errorPlacement:function(n,t){n.appendTo(t.closest("td"))}});for(var i=0;i<this.model.columns.length;i++)t.isNullOrUndefined(this.model.columns[i].validationRules)||this.setValidationToField(this.model.columns[i].field,this.model.columns[i].validationRules)},setValidationToField:function(i,r){var f=n("#"+this._id+i).length>0?n("#"+this._id+i):n("#"+i),u;f.rules("add",r),u=n("#"+this._id+"EditForm").validate(),t.isNullOrUndefined(r.required)||(u.settings.messages[i]={},u.settings.messages[i].required=this.getColumnByField(i).headerText+" is required")},_columnToSelect:function(){for(var i=[],n=0;n<this.model.columns.length;n++)this.model.columns[n].columnEditType===t.Grid.editingType.DropdownEdit&&t.isNullOrUndefined(this.model.columns[n].dropdownData)&&i.push(this.model.columns[n].field);return i.length?t.Query().select(i):t.Query()},_ensureDataSource:function(i){var u,c,f,e,o,s,l,r,h;if(this.model.dataSource!=null||this.model.dataSource instanceof t.DataManager){if(this.model.query.requiresCount(),u=this.model.query,this.model.dataSource instanceof t.DataManager||(this.model.currentViewData=this.model.dataSource),!(this.model.dataSource instanceof t.DataManager)&&(this.model.edit.allowEditing||this.model.edit.allowAdding)&&(!t.isNullOrUndefined(this._cModifiedData)||!t.isNullOrUndefined(this._cAddedRecord))){if(t.isNullOrUndefined(this._cAddedRecord)){for(f=0;f<this._primaryKeys.length;f++)u=u.where(this._primaryKeys[f],t.FilterOperators.equal,this._primaryKeyValues[f]);c=this._dataManager.executeLocal(u),n.extend(this.model.dataSource[n.inArray(c.result[0],this.model.dataSource)],this._cModifiedData),this._cModifiedData=null}else this.model.dataSource.unshift(this._cAddedRecord),this._cAddedRecord=null;u.queries=[],this.model.isEdit=!1}if(this.model.edit.allowDeleting&&!t.isNullOrUndefined(this._cDeleteData)&&(f=n.inArray(this._cDeleteData[0],this.model.dataSource),this.model.dataSource.splice(f,1)),this.model.sortSettings.sortedColumns.length)for(r=this.model.sortSettings.sortedColumns.length-1;r>=0;r--)u.sortBy(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);if(this.model.allowSearching&&this._searchString.length&&(u.search(this._searchString,this.getColumnFieldNames(),t.FilterOperators.contains,!0),this.model.pageSettings.currentPage=1),this.model.allowFiltering&&this._filterCollection.length){for(o=this._filterCollection[0],e=t.Predicate(o.columnName,o.operator,o.value,!o.matchcase),r=1;r<this._filterCollection.length;r++)e=e[this._filterCollection[r].predicate](this._filterCollection[r].columnName,this._filterCollection[r].operator,this._filterCollection[r].value,!this._filterCollection[r].matchcase);u.where(e),this.model.dataSource instanceof t.DataManager?t.isNullOrUndefined(i)||i.requestType!=t.Grid.actions.Filtering||(this.model.pageSettings.currentPage=1):(this._filteredRecordsCount=this._dataManager.executeLocal(u).count,s=this._filteredRecordsCount%this.model.pageSettings.pageSize==0?this._filteredRecordsCount/this.model.pageSettings.pageSize:parseInt(this._filteredRecordsCount/this.model.pageSettings.pageSize,10)+1,(this.model.pageSettings.currentPage>s||this._filteredRecordsCount!=0&&this.model.pageSettings.currentPage==0)&&(this.model.pageSettings.currentPage=s)),this.model.allowSummary&&this.model.summaryRows.length>0&&(l=new t.Query,this._filteredRecords=this._dataManager.executeLocal(l.where(e)))}if(this.model.allowPaging&&(this.model.pageSettings.currentPage==0&&(this.model.pageSettings.currentPage=this._prevPageNo),u.page(this.model.pageSettings.currentPage,this.model.pageSettings.pageSize)),this.model.allowGrouping)for(r=0;r<this.model.groupSettings.groupedColumns.length;r++)u.group(this.model.groupSettings.groupedColumns[r]);this.model.dataSource instanceof t.DataManager||(h=this._dataManager.executeLocal(u),this.model.currentViewData=h.result,this._totalRecordsCount=this.model.dataSource.length,this._searchCount=this._searchString.length?h.count:null)}},sendDataRenderingRequest:function(i){var b,a,v,y,k,c,h,e,l,d,r,u,it,s,o,p,w,tt,f;if(this.model.currentViewData.length)switch(i.requestType){case t.Grid.actions.Refresh:case t.Grid.actions.Paging:case t.Grid.actions.Sorting:case t.Grid.actions.Filtering:case t.Grid.actions.Save:case t.Grid.actions.Cancel:case t.Grid.actions.Delete:case t.Grid.actions.Search:case t.Grid.actions.Reorder:if(this.model.groupSettings.groupedColumns.length==0){r=document.createElement("div"),this.getGridContentTable().find("colgroup").first().replaceWith(this._getMetaColGroup()),this.model.detailTemplate!=null&&this.getGridContentTable().find("colgroup").first().prepend(this._getIndentCol()),r.innerHTML=["<table>",n.render[this._id+"_JSONTemplate"](this.model.currentViewData),"<\/table>"].join(""),this.getGridContentTable().get(0).replaceChild(this.model.rowTemplate!=null?r.firstChild.lastChild:r.firstChild.firstChild,this.getGridContentTable().get(0).lastChild),this._currentJsonData=this.model.currentViewData,this._gridRows=this.getGridContentTable().get(0).rows,this._eventBindings();break}case t.Grid.actions.Grouping:if(this.model.groupSettings.groupedColumns.length&&this.model.currentViewData){for(this._currentJsonData=[],b=this.getGridContentTable().children("tbody"),b.empty(),r=document.createElement("div"),this.model.groupSettings.groupedColumnShow||(this._hideHeaderColumn(this.model.groupSettings.groupedColumns,!0),this.getGridContentTable().children("colgroup").replaceWith(this.getGridHeaderTable().find("colgroup").clone())),this._isReorder=i.requestType=="reorder"?!0:!1,a=this.getGridContentTable().children("colgroup").find("col"),v=a.length-this.model.columns.length,this.model.detailTemplate!=null&&v--,a.length>this.model.columns.length&&this.getGridContentTable().children("colgroup").find("col:lt("+v+")").remove(),this.getGridContentTable().find("colgroup").first().replaceWith(this._getMetaColGroup()),f=0;f<this.model.groupSettings.groupedColumns.length;f++)this.getGridContentTable().children("colgroup").prepend(this._getIndentCol());r.innerHTML=["<table>",n.render[this._id+"_GroupingTemplate"](this.model.currentViewData,{groupedColumns:this.model.groupSettings.groupedColumns}),"<\/table>"].join(""),this.getGridContentTable().get(0).replaceChild(r.firstChild.firstChild,this.getGridContentTable().get(0).lastChild),this._groupingAction(),this._recalculateIndentWidth(),y=this.getBrowserDetails(),this.model.allowScrolling&&y.browser=="msie"&&parseInt(y.version,10)>8&&(this.getGridContentTable().width(this.getGridHeaderTable().width()),this.getGridContentTable().children("colgroup").find("col").first().css("width",(this.getGridHeaderTable().find("colgroup").find("col").first().width()/this.getGridContentTable().width()*100).toFixed(2)+"%")),this._gridRows=this.getGridContentTable().get(0).rows,this._eventBindings(),this._gridRows=this.getGridContentTable().find(".recordtable").find("tbody").find("tr").toArray()}break;case t.Grid.actions.BeginEdit:for(k=t.DataManager(this._currentJsonData),c=new t.Query,h=0;h<this._primaryKeys.length;h++)c=c.where(this._primaryKeys[h],t.FilterOperators.equal,this._primaryKeyValues[h]);if(this._currentData=k.executeLocal(c),r=document.createElement("div"),e=n(r),this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate")e.addClass("editedrow"),r.innerHTML=this.model.edit.editMode=="dialog"?n.render[this._id+"_JSONDialogEditingTemplate"](this._currentData):n.render[this._id+"_JSONdialogTemplateMode"](this._currentData),n("#"+this._id+"_dialogEdit").html(n(r)),u={},u.cssClass=this.model.cssClass,u.rtl=this.model.rtl,u.width=280,u.resizable=!1,u.contentContainer="#"+this._id,u.modal=!0,u.allowKeyboardNavigation=!1,u.title=this._getLocalizedLabels("EditFormTitle")+this._currentData[0][this._primaryKeys[0]],n("#"+this._id+"_dialogEdit").ejDialog(u),n("#"+this._id+"_dialogEdit").ejDialog("open");else{for(r.innerHTML=["<table>",n.render[this._id+"_JSONEditingTemplate"](this._currentData,{groupedColumns:this.model.groupSettings.groupedColumns}),"<\/table>"].join(""),e.find("td").first().addClass("editcell"),l=e.find("select.field"),f=0;f<l.length;f++)l.eq(f).val(this._currentData[0][l[f].name]);this.model.groupSettings.groupedColumns.length>=2&&(d=i.currentTr.find("td.indentcell"),e.find("tr").first().prepend(d));var g=e.find("tr").first(),nt=0,o=this.model.groupSettings.groupedColumnShow?0:this.model.groupSettings.groupedColumns.length;this.model.detailTemplate!=null&&(nt++,e.find(".editcell").find("tr").prepend(i.currentTr.find("[class*='detailrow']"))),e.find(".editcell").get(0).colSpan=this.model.columns.length-this._hiddenColumns.length-o+nt,i.currentTr.hasClass("alt_row")&&g.addClass("alt_row"),i.currentTr.empty().replaceWith(g.addClass("editedrow")),this._refreshUnboundTemplate(n("#"+this._id+"EditForm")),this._gridRows=this.getGridContentTable().find("td.rowcell").closest("tr").toArray()}break;case t.Grid.actions.Add:if(r=document.createElement("div"),this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate")n(r).addClass("addedrow"),r.innerHTML=this.model.edit.editMode=="dialog"?n.render[this._id+"_JSONDialogEditingTemplate"](i.data):n.render[this._id+"_JSONdialogTemplateMode"](i.data),n("#"+this._id+"_dialogEdit").html(n(r)),u={},u.cssClass=this.model.cssClass,u.modal=!0,u.width=280,u.resizable=!1,u.contentContainer="#"+this._id,u.modal=!0,u.rtl=this.model.rtl,u.allowKeyboardNavigation=!1,u.title="Add New Record",n("#"+this._id+"_dialogEdit").ejDialog(u),n("#"+this._id+"_dialogEdit").ejDialog("open");else{if(r.innerHTML=["<table>",n.render[this._id+"_JSONEditingTemplate"](i.data,{groupedColumns:this.model.groupSettings.groupedColumns}),"<\/table>"].join(""),n(r).find("td").first().addClass("editcell").end().find("input.field").val(""),it=n(r).find(".editcell").get(0),this.getGridContentTable().find("tbody").first().prepend(n(r).find("tr").first().addClass("addedrow")),s=n("#"+this._id+"EditForm").closest("tr.addedrow"),o=this.model.groupSettings.groupedColumnShow?0:this.model.groupSettings.groupedColumns.length,this.model.groupSettings.groupedColumns.length){for(f=0;f<this.model.groupSettings.groupedColumns.length;f++)f==0?s.prepend(t.buildTag("td.indentcell")):s.find("tr").prepend(t.buildTag("td.indentcell"));this.model.groupSettings.groupedColumns.length>=2?s.find("td.editcell").prop("colspan",this.model.columns.length+(this.model.groupSettings.groupedColumns.length-1)-this._hiddenColumns.length-o):s.find("td.editcell").prop("colspan",this.model.columns.length-this._hiddenColumns.length-o)}else s.find("td.editcell").prop("colspan",this.model.columns.length-this._hiddenColumns.length-o);this._refreshUnboundTemplate(n("#"+this._id+"EditForm")),this._gridRows=this.getGridContentTable().find("td.rowcell").closest("tr").toArray()}break;case t.Grid.actions.Ungrouping:if(p=this.element.children(".gridheader"),w=p.find(".filterbar").find("th").find("input"),p.find("div").first().empty().append(this._renderGridHeader().find("table")),this.model.allowFiltering&&this.model.filterSettings.filterType=="filterbar")for(this._renderFiltering(),tt=this.element.children(".gridheader").find(".filterbar").find("th").find("input"),f=0;f<w.length;f++)tt.eq(f).val(w.eq(f).val());this.model.groupSettings.groupedColumnShow||this._hideHeaderColumn(this.model.groupSettings.groupedColumns,!0),this.element.find(".gridcontent").children("div").first().empty().append(this._renderGridContent().find("table").first())}else this.getGridContentTable().find("tbody").empty().append(this._getEmptyTbody());this._completeAction(i)},_hideHeaderColumn:function(t,i){for(var o=this.getGridHeaderTable().find("thead"),h=o.find(".headercell"),c=o.find(".filterbar").find(".filterbarcell"),r=this.getGridHeaderTable().find("colgroup").find("col"),f,e,s,u=0;u<t.length;u++)f=i?this.getColumnByField(t[u]):this.getColumnByHeaderText(t[u]),e=n.inArray(f,this.model.columns),s=h.eq(e).addClass("hide").index(),c.eq(s).addClass("hide"),r.length>this.model.columns.length&&(r=r.slice(r.length-this.model.columns.length)),r.eq(e).css("display","none")},_showHeaderColumn:function(t,i){for(var e=this.getGridHeaderTable().find("thead"),s=e.find(".headercell"),h=e.find(".filterbar").find(".filterbarcell"),c=this.getGridHeaderTable().find("colgroup").find("col"),u,f,o,r=0;r<t.length;r++)u=i?this.getColumnByField(t[r]):this.getColumnByHeaderText(t[r]),f=n.inArray(u,this.model.columns),o=s.eq(f).removeClass("hide").index(),h.eq(o).removeClass("hide"),c.eq(f).css("display","")},_groupingAction:function(){var t=this.getGridHeaderTable().find("thead").find(".columnheader").find(".grouptopleftcell"),r=this.getGridHeaderTable().find("colgroup").find("col"),i=t.length,n;for(i&&(this.getGridHeaderTable().find("colgroup").replaceWith(this._getMetaColGroup()),this.model.detailTemplate!=null&&this.getGridHeaderTable().find("colgroup").prepend(this._getIndentCol()),t.remove(),this.getGridHeaderTable().find("thead").find(".filterbar").find(".filterbarcell:lt("+i+")").remove()),this.setWidthToColumns(),n=0;n<this.model.groupSettings.groupedColumns.length;n++)this.getGridHeaderTable().find("colgroup").prepend(this._getIndentCol()),this.getGridHeaderTable().find("thead").find(".columnheader").prepend(this._getGroupTopLeftCell()),this.getGridHeaderTable().find("thead").find(".filterbar").prepend(this._getEmptyFilterBarCell());this.getGridHeaderTable().find("thead").find("th.grouptopleftcell").last().addClass("lastgrouptopleftcell")},_completeAction:function(i){var f,e,o,s,u,r;if(this.model.isEdit=!1,t.Grid.actions.Grouping!=i.requestType||!t.isNullOrUndefined(i.columnName)){if(this.model.groupSettings.groupedColumns.length==0&&this.setWidthToColumns(),t.Grid.actions.Sorting==i.requestType&&this.model.allowSorting||t.Grid.actions.Refresh==i.requestType){for(this._multiSortRequest||this.getGridHeaderTable().find(".columnheader").find(".headercelldiv").find(".ascending,.descending").remove(),r=0;r<this.model.sortSettings.sortedColumns.length;r++)this._addSortElementToColumn(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);this.model.groupSettings.groupedColumns.length&&this._$curSElementTarget!=null&&(f=this._checkEinGroupDrop(n.trim(this._$curSElementTarget.text())),t.isNullOrUndefined(f)||f.find(".ascending,.descending").removeClass().addClass(i.columnSortDirection)),this._refreshGridPager(),this._multiSortRequest=!1}else if((t.Grid.actions.Delete==i.requestType||t.Grid.actions.Save==i.requestType||t.Grid.actions.Search==i.requestType)&&this.model.allowPaging)this._filterCollection.length?this.getGridPager().ejPager({totalRecordsCount:this._searchCount==null?this._filteredRecordsCount:this._searchCount}):this.getGridPager().ejPager({totalRecordsCount:this._searchCount==null?this._totalRecordsCount:this._searchCount});else if(t.Grid.actions.Filtering==i.requestType){if(this._refreshGridPager(),this.model.filterSettings.filterType=="menu"){this._closeFilterDlg();var c=this.getColumnByField(this._$curFieldName),l=n.inArray(c,this.model.columns),a=this,h=!1;n.each(this._filterCollection,function(n,t){if(t.columnName==a._$curFieldName)return h=!0,!1}),e=this.getGridHeaderTable().find("thead").find(".headercell").eq(l).find(".filtericon"),h?e.addClass("filteredicon"):e.removeClass("filteredicon")}}else if(t.Grid.actions.BeginEdit==i.requestType||t.Grid.actions.Add==i.requestType){if(o=n("#"+this._id+"EditForm"),this.model.isEdit=!0,this.setWidthToColumns(),t.Grid.actions.Add==i.requestType)for(o.find(".field:disabled").not(".identity").removeAttr("disabled"),r=0;r<this.model.groupSettings.groupedColumns.length-1;r++)o.find("colgroup").prepend(this._getIndentCol());(this._tdsOffsetWidth.length==0||this.model.groupSettings.groupedColumns.length)&&this._setoffsetWidth(),this._refreshEditForm(),n.isFunction(n.validator)&&this.setValidation()}else if(t.Grid.actions.Grouping==i.requestType){if(u=this.element.children(".groupdroparea"),this.model.groupSettings.groupedColumns.length&&u.find(".grid-icon").length==0&&u.empty(),this._initialRender)for(r=0;r<this.model.groupSettings.groupedColumns.length;r++)this._addColumnToGroupDrop(this.model.groupSettings.groupedColumns[r]);else this._addColumnToGroupDrop(i.columnName);for(this.getGridHeaderTable().find(".columnheader").find(".headercelldiv").find(".ascending,.descending").remove(),r=0;r<this.model.sortSettings.sortedColumns.length;r++)this._addSortElementToColumn(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);s=this.getBrowserDetails(),this.model.allowScrolling&&s.browser=="msie"&&parseInt(s.version,10)>8&&this.getGridContentTable().width(this._calculateWidth()),this._initialRender||this._groupHeaderCelldrag(),this.model.allowScrolling&&this.getGridContentTable().parent().scrollLeft(this.getGridHeaderTable().parent().scrollLeft()-1),this.element.children(".cloneproperties").remove()}else if(t.Grid.actions.Ungrouping==i.requestType){for(u=this.element.children(".groupdroparea"),this._removeColumnFromDrop(i.columnName),this.getGridHeaderTable().find(".columnheader").find(".headercelldiv").find(".ascending,.descending").remove(),r=0;r<this.model.sortSettings.sortedColumns.length;r++)this._addSortElementToColumn(this.model.sortSettings.sortedColumns[r].field,this.model.sortSettings.sortedColumns[r].direction);this.model.groupSettings.groupedColumns.length==0&&(u.html(this.model.enableEffects?"":this._getLocalizedLabels("GroupDropArea")),this.model.groupSettings.showAnimateButton&&u.append(t.buildTag("div.animatebutton").addClass(this.model.enableEffects?"animatebuttondown":"animatebuttonup")),u.css("height","auto")),this._headerCellgDragDrop(),this.model.allowScrolling&&this.getGridContentTable().parent().scrollLeft(this.getGridHeaderTable().parent().scrollLeft()+10),this.element.children(".cloneproperties").remove()}this.model.toolBar.allowToolBar&&this.refreshToolBar(),this.model.allowSummary&&this.model.summaryRows.length>0&&this._createSummaryRows(n("#"+this._id+"_summaryTable")),this._setCurrentRow(i.requestType),i.requestType==(t.Grid.actions.Grouping||t.Grid.actions.Ungrouping||t.Grid.actions.Add||t.Grid.actions.Edit||t.Grid.actions.Filtering)&&(this.model.allowScrolling&&this.element.find(".gridcontent").first().ejScroller("refresh").ejScroller("isVScroll")?this.element.find(".gridheader").addClass("scrollcss"):this.element.find(".gridheader").removeClass("scrollcss")),this._trigger("actionComplete",i)}},_refreshGridPager:function(){if(this.getGridPager()!=null){var i=this.getGridPager().ejPager("model"),n={};n.currentPage=this.model.pageSettings.currentPage,this._filteredRecordsCount==0&&this.model.currentViewData.length==0&&(t.isNullOrUndefined(this._prevPageNo)||this._prevPageNo)?(n.currentPage=0,this._prevPageNo=i.currentPage,this.model.pageSettings.currentPage=0):i.currentPage==0&&(t.isNullOrUndefined(this._prevPageNo)||this._prevPageNo)&&(n.currentPage=this._prevPageNo),n.totalRecordsCount=this._filterCollection.length==0?this._searchCount==null?this._totalRecordsCount:this._searchCount:this._filteredRecordsCount,this.getGridPager().ejPager("option",n)}},_refreshUnboundTemplate:function(n){var o,f,e,r,i,s,h,u;if(this._isUnboundColumn)for(o=0,f=0;f<this.model.columns.length;f++)if(this.model.columns[f].isUnBound)for(e=n.find(".unboundcell."+this.model.columns[f].headerText.replace(/\s+/g,"")).find(".unboundcelldiv"),r=this.model.columns[f].commands,i=0;i<r.length;i++)s=t.isNullOrUndefined(r[i].buttonOptions.width)?"52":r[i].buttonOptions.width,h=t.isNullOrUndefined(r[i].buttonOptions.height)?"30":r[i].buttonOptions.height,r[i].buttonOptions.width=t.isNullOrUndefined(r[i].buttonOptions.width)?"52":r[i].buttonOptions.width,r[i].buttonOptions.height=t.isNullOrUndefined(r[i].buttonOptions.height)?"28":r[i].buttonOptions.height,r[i].buttonOptions.cssClass=this.model.cssClass,r[i].buttonOptions.rtl=this.model.rtl,u=e.find("."+r[i].type+"button"),n.closest(".editcell").length?r[i].type=="save"||r[i].type=="cancel"?u.show():(u.hasClass("deletebutton")&&u.hide(),u.hasClass("editbutton")&&u.hide()):r[i].type=="save"||r[i].type=="cancel"?u.hide():(u.hasClass("deletebutton")&&u.show(),u.hasClass("editbutton")&&u.show()),u.ejButton(r[i].buttonOptions);else continue},refreshToolBar:function(){var r=n("#"+this._id+"_toolbarItems"),i=r.find("li"),t;for(r.ejToolbar("enableItem",i),t=0;t<i.length;t++)switch(i[t].id){case this._id+"_add":case this._id+"_edit":case this._id+"_delete":this.model.isEdit&&(n(i[t]).hasClass("toolhover")&&n(i[t]).removeClass("toolhover"),this._disabledToolItems.push(i[t]));break;case this._id+"_update":case this._id+"_cancel":this.model.isEdit||(n(i[t]).hasClass("toolhover")&&n(i[t]).removeClass("toolhover"),this._disabledToolItems.push(i[t]))}r.ejToolbar("disableItem",this._disabledToolItems),this._disabledToolItems=n()},sendDeleteRequest:function(i){var s,r,h,e,f,u,o,c;if(this.model.edit.allowDeleting){if(this.model.selectedRow==-1&&t.isNullOrUndefined(i)){alert(this._getLocalizedLabels("DeleteOperationAlert"));return}for(t.isNullOrUndefined(i)&&(i=n(this.getGridRows()).eq(this.model.selectedRow)),this._primaryKeyValues=[],r=0;r<this._primaryKeys.length;r++)s=this.getColumnByField(this._primaryKeys[r]),r=n.inArray(s,this.model.columns),this._primaryKeyValues.push(i.find(".rowcell").eq(r).html());for(h=t.DataManager(this._currentJsonData),e=new t.Query,f=0;f<this._primaryKeys.length;f++)e=e.where(this._primaryKeys[f],t.FilterOperators.equal,this._primaryKeyValues[f]);if(currentData=h.executeLocal(e),u={},u.tr=i,u.data=currentData[0],u.requestType=t.Grid.actions.Delete,this._trigger("actionBegin",u))return!0;this._cDeleteData=currentData,this.model.dataSource instanceof t.DataManager?(o=this._dataManager.remove(this._primaryKeys[0],currentData[0][this._primaryKeys[0]]),c=this,o.done(function(){c._processBindings(u)}),o.fail(function(){})):this._processBindings(u),this._primaryKeyValues=[],this._cDeleteData=null}},sendEditingRequest:function(i){var f,r,u,e;if(this.model.edit.allowEditing){if(this.model.selectedRow==-1&&t.isNullOrUndefined(i)){alert(this._getLocalizedLabels("EditOperationAlert"));return}for(t.isNullOrUndefined(i)?(this._currentTrIndex=this.model.selectedRow,this._$currentTr=n(this.getGridRows()).eq(this.model.selectedRow)):(this._currentTrIndex=i.index(),this._$currentTr=i),r=0;r<this._primaryKeys.length;r++)f=this.getColumnByField(this._primaryKeys[r]),r=n.inArray(f,this.model.columns),this._primaryKeyValues.push(this._$currentTr.find(".rowcell").eq(r).html());if(u={currentTr:this._$currentTr,rowIndex:this._currentTrIndex,primaryKey:this._primaryKeys,primaryKeyValue:this._primaryKeyValues},e=this._trigger("beginEdit",u),e){this._primaryKeyValues=[];return}u.requestType=t.Grid.actions.BeginEdit,this._processBindings(u)}},sendAddRequest:function(){var t,i,u,r,f;if(this.model.edit.allowAdding){for(cloneData={},t=0;t<this.model.columns.length;t++)cloneData[this.model.columns[t].field]="";i={},i.data=cloneData,i.requestType="add",this.cleanUpSelection(),u=this._processBindings(i),u||(this.model.selectedRow=0),r=this.model.groupSettings.groupedColumns.length,r>1&&(f=this.getGridContentTable().find(".addedrow").find("table").find("colgroup").children(),n(f.slice(0,r-1)).css("width",this.getGridHeaderTable().find("colgroup").children()[0].style.width))}},sendSaveRequest:function(){var r,h,u,e,o,c,f,s,l,a;if(this.model.isEdit){if(!this.editFormValidate())return!0;for(obj={},r=document.getElementById(this._id+"EditForm"),h=this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"?n(r).closest("div"):n(r).closest("tr"),u=0;u<r.length;u++)h.hasClass("addedrow")&&n(r[u]).hasClass("identity")||(e=r[u].name,o=n(r[u]),e!=i&&(e==""&&(e=r[u].id.replace(this._id,"")),e!=""&&obj[e]==null&&(c=this.getColumnByField(e),f=r[u].value,n(r[u]).hasClass("e-datepicker")?(f=o.ejDatePicker("theDate"),o.ejDatePicker("destroy")):o.is(".e-numerictextbox")?f=o.ejNumericTextbox("getValue"):o.data("ejDropDownList")&&(f=o.ejDropDownList("getSelectedValue")),c==null?f=parseFloat(f):c.type=="number"&&f.length&&(f=parseFloat(f)),obj[e]=r[u].type!="checkbox"?f:n(r[u]).is(":checked"))));if(s={data:obj},s.requestType=t.Grid.actions.Save,this._trigger("actionBegin",s))return!0;h.hasClass("editedrow")?this._cModifiedData=obj:h.hasClass("addedrow")&&(this._cAddedRecord=obj),this.model.dataSource instanceof t.DataManager?(l=t.isNullOrUndefined(this._cModifiedData)?this._dataManager.insert(s.data):this._dataManager.update(this._primaryKeys[0],s.data),a=this,l.done(function(){a._processBindings(s)}),l.fail(function(){})):this._processBindings(s),this._cModifiedData=null,this._cAddedRecord=null,this._primaryKeyValues=[]}},sendGroupingRequest:function(i){var r,u,f;if(this.model.allowGrouping&&n.inArray(i,this._disabledGroupableColumns)==-1&&!t.isNullOrUndefined(this.getColumnByField(i))&&n.inArray(i,this.model.groupSettings.groupedColumns)==-1){for(this.model.groupSettings.groupedColumns.push(i),r=0;r<this.model.sortSettings.sortedColumns.length;r++)if(this.model.sortSettings.sortedColumns[r].field==i)break;this.model.sortSettings.sortedColumns.length==r&&this.model.sortSettings.sortedColumns.push({field:i,direction:t.sortOrder.Ascending}),u={},u.columnName=i,u.requestType=t.Grid.actions.Grouping,f=this._processBindings(u),f&&this.model.groupSettings.groupedColumns.pop(),this._primaryKeyValues=[]}},sendUngroupingRequest:function(i){var u,r,f;if(this.model.allowGrouping){if(n.inArray(i,this.model.groupSettings.groupedColumns)!=-1)this.model.groupSettings.groupedColumns.splice(n.inArray(i,this.model.groupSettings.groupedColumns),1);else return null;for(u={},r=0;r<this.model.sortSettings.sortedColumns.length;r++)if(this.model.sortSettings.sortedColumns[r].field==i){this.model.sortSettings.sortedColumns.splice(r,1);break}u.columnName=i,u.requestType=t.Grid.actions.Ungrouping,f=this._processBindings(u),f&&this.model.groupSettings.groupedColumns.push(i),this._primaryKeyValues=[]}},sendCancelRequest:function(){var i={};n("#"+this._id+"EditForm").find(".e-datepicker").ejDatePicker("destroy"),i.requestType=t.Grid.actions.Cancel,this._processBindings(i),this._primaryKeyValues=[],this._currentData=null},sendSearchRequest:function(n){var i={};i.requestType=t.Grid.actions.Search,i.keyValue=n,this._searchString=n,this._processBindings(i),this._primaryKeyValues=[]},sendSortingRequest:function(r,u){var f,o,e,s;if(this.model.allowSorting&&n.inArray(r,this._disabledSortableColumns)==-1&&r.length!=0){for(f={},this._multiSortRequest||(o=this,this.model.sortSettings.sortedColumns=n.grep(this.model.sortSettings.sortedColumns,function(t){return n.inArray(t.field,o.model.groupSettings.groupedColumns)!=-1?!0:!1})),f.requestType=t.Grid.actions.Sorting,f.columnName=r,this._cSortedColumn=this.getFieldNameByHeaderText(r),this._cSortedDirection=f.columnSortDirection=u===i?t.sortOrder.Ascending:u,e=0;e<this.model.sortSettings.sortedColumns.length;e++)if(this.model.sortSettings.sortedColumns[e].field==this._cSortedColumn){this.model.sortSettings.sortedColumns.splice(e,1);break}this.model.sortSettings.sortedColumns.push({field:this._cSortedColumn,direction:this._cSortedDirection}),s=this._processBindings(f),s&&(this._cSortedDirection=this._cSortedColumn=null),this._primaryKeyValues=[]}},sendPagingRequest:function(n){if(this.model.allowPaging){var i={};i.requestType=t.Grid.actions.Paging,this.model.pageSettings.currentPage=n,i.endIndex=this.model.pageSettings.currentPage*this.model.pageSettings.pageSize>this._totalRecordsCount?this._totalRecordsCount:this.model.pageSettings.currentPage*this.model.pageSettings.pageSize,i.startIndex=this.model.pageSettings.currentPage*this.model.pageSettings.pageSize-this.model.pageSettings.pageSize,i.currentPage=n,this.getGridPager().ejPager("refreshPager"),this._processBindings(i),this._primaryKeyValues=[]}},_setDateFilters:function(t){var u=new Date(t.value.setDate(t.value.getDate()-1)),f=new Date(t.value.setDate(t.value.getDate()+2)),i=n.extend({},t),r=n.extend({},t);i.value=u,r.value=f,t.operator=="equal"?(i.operator=">",i.predicate="and",r.operator="<",r.predicate="and"):(i.operator="<=",i.predicate="or",r.operator=">=",r.predicate="or"),this._filterCollection.push(i),this._filterCollection.push(r)},sendFilteringRequest:function(i,r,u,f,e){var s,l,p,h,o,w,c,a,y;if(this.model.allowFiltering){for(s={},s.requestType=t.Grid.actions.Filtering,n.isArray(r)||(r=n.makeArray(r)),n.isArray(u)||(u=n.makeArray(u)),l=!1,p=this._filterCollection,h=0;h<r.length;h++){if(o={columnName:i,operator:r[h],value:u[h],matchcase:e,predicate:f},this.model.filterSettings.filterType=="filterbar"&&(this._$colType=this._currentFilterColumn.type),this._filterCollection.length==0&&o.value!=="")this._$colType=="date"&&(r=="equal"||r=="notequal")?this._setDateFilters(o):this._filterCollection.push(o);else{if(w=this,!l){var b=t.DataManager(this._filterCollection),k=(new t.Query).where("columnName",t.FilterOperators.equal,o.columnName),v=b.executeLocal(k);for(c=0;c<v.length;c++)a=n.inArray(v[c],this._filterCollection),a!=-1&&this._filterCollection.splice(a,1)}o.value!==""&&(this._$colType=="date"&&(r=="equal"||r=="notequal")?this._setDateFilters(o):this._filterCollection.push(o))}l=!0}s.filterCollection=this._filterCollection,s.currentFilteringColumn=i,y=this._processBindings(s),y&&(this._filterCollection.reverse().splice(0,r.length),this._filterCollection.reverse())}},sendReorderingRequest:function(n,t){var i=this.model.columns.indexOf(this.getColumnByField(n)),r=this.model.columns.indexOf(this.getColumnByField(t));this.set_dropColumn(i,r)},collapseGroupDropArea:function(){$groupDropArea=this.element.find(".groupdroparea").first(),proxy=this,this.model.groupSettings.groupedColumns.length==0&&this.model.enableEffects&&$groupDropArea.animate({height:"10px"},200,function(){proxy.model.groupSettings.groupedColumns.length==0&&(n(this).html("").append(t.buildTag("div.animatebutton animatebuttondown")),n(this).dequeue().css("height","auto"))})},expandGroupDropArea:function(){$groupDropArea=this.element.find(".groupdroparea").first(),proxy=this,this.model.groupSettings.groupedColumns.length==0&&proxy.model.enableEffects&&$groupDropArea.animate({height:"30px"},150,function(){proxy.model.groupSettings.groupedColumns.length==0&&$groupDropArea.html(proxy._getLocalizedLabels("GroupDropArea")).append(t.buildTag("div.animatebutton animatebuttonup")),$groupDropArea.dequeue().css("height","30px")})},_wireEvents:function(){var n=this.model.allowFiltering&&this.model.filterSettings.filterType=="menu";(this.model.allowSelection||n)&&this._on(this.element,"click",this._clickHandler),this._on(this.element,"click",".gridheader",this._mouseClickHandler),this._enableEditingEvents(),this._enableRowHover(),this._on(this.element,"click",".gridcontent .unboundcelldiv",this._unboundClickHandler),this._enableGroupingEvents(),this._enableFilterEvents(),this.model.allowKeyboardNavigation&&(this.element[0].tabIndex=0,this.element[0].accessKey="e",this._on(this.element,"keyup",this._keyDownHandler)),this._on(this.element,"mousedown",".gridheader",this._headerMouseDown),this._on(this.element,"mouseenter mouseleave",".groupdroparea,.groupheadercell",this._dropAreaHover),this._on(this.element,"mouseover mousemove mouseleave",".gridheader",this._headerHover),this.model.allowResizing&&(this._on(this.element,"mousemove",this._mouseMove),this._on(this.element,"mouseup",this._mouseUp))},_enableGroupingEvents:function(){this.model.allowGrouping&&(this._on(this.element,"click",".groupdroparea,.groupheadercell",this._groupHeaderCellClick),this._on(this.element,"mousedown",".groupheadercell",function(){return!1}))},_enableEditingEvents:function(){if(this.model.edit.allowEditing||this.model.edit.allowAdding){if(this.model.edit.allowEditing&&this.model.editOnDoubleClick&&this._on(this.element,"dblclick",".gridcontent",this._editdblClickHandler),this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate"){this._on(n("#"+this._id+"_dialogEdit"),"click keypress","#EditDialog_"+this._id+"_Save ,#EditDialog_"+this._id+"_Cancel",this._buttonClick);n(this.element).on("click",".e-icon",n.proxy(this._buttonClick,this))}}else this._off(this.element,"dblclick",".gridcontent"),this._off(n("#"+this._id+"_dialogEdit"),"click","#EditDialog_"+this._id+"_Save ,#EditDialog_"+this._id+"_Cancel"),n(this.element).off("click",".e-icon")},_enableRowHover:function(){this.model.rowHover?this._on(this.element,"mouseenter mouseleave",".gridcontent tr td",this._rowHover):this._off(this.element,"mouseenter mouseleave",".gridcontent tr td")},_enableFilterEvents:function(){this.model.allowFiltering&&(this.model.filterSettings.filterType=="menu"?this._off(n(document),"click")._on(n(document),"click",this._docClickHandler):(this._off(this.element,"keyup",".filterbar input")._on(this.element,"keyup",".filterbar input",this._filterBarHandler),this.model.filterSettings.showFilterBarMessage&&this._off(this.element,"mouseover",".e-grid-filterstatusbar,.e-grid-filterstatusbarbottom")._on(this.element,"mouseover",".e-grid-filterstatusbar,.e-grid-filterstatusbarbottom",this._stausBarHoverHandler)))},_dropAreaHover:function(t){var i=n(t.target),r=this;return t.type=="mouseenter"?(this._dragActive?i.hasClass("groupdroparea")&&i.addClass("groupdropareahover"):i.removeClass("groupdropareahover"),i.hasClass("groupheadercell")&&this.model.groupSettings.showUngroupButton&&i.find(".ungroupbutton").show(150)):t.type=="mouseleave"&&(i.hasClass("groupdroparea")&&(i.find(".ungroupbutton").hide(150),i.removeClass("groupdropareahover")),i.hasClass("groupheadercell")&&this.model.groupSettings.showUngroupButton&&i.find(".ungroupbutton").hide(150)),!1},_mouseUp:function(n){this.model.allowResizing&&this._resizer._mouseUp(n)},_mouseMove:function(n){this.model.allowResizing&&this._resizer._mouseMove(n)},_headerMouseDown:function(t){if(this.model.allowResizing&&this._resizer._mouseDown(t),n(t.target).hasClass("headercelldiv")&&!n(t.target).parent().hasClass("grouptopleftcell")||n(t.target).hasClass("headercell")){var i=n(t.target).hasClass("headercelldiv")?n(t.target).parent():n(t.target);this.model.headerEffects&&i.addClass("headercellactive")}},_headerHover:function(t){var i=n(t.target);t.type=="mouseover"||t.type=="mousemove"?(this.model.allowResizing&&this._resizer._mouseHover(t),this.model.headerEffects&&!this._dragActive&&(i.hasClass("headercelldiv")&&!i.parent().hasClass("grouptopleftcell")||i.hasClass("headercell"))&&(i.hasClass("headercelldiv")&&(i=i.parent()),this.getGridHeaderTable().find(".columnheader").find(".headercell-hover").removeClass("headercell-hover"),i.addClass("headercell-hover"))):this.model.headerEffects&&this.getGridHeaderTable().find(".columnheader").find(".headercell-hover").removeClass("headercell-hover")},_groupHeaderCellClick:function(t){var i=n(t.target),r,u;return i.hasClass("ungroupbutton")?(r=n.trim(i.parent().text()),u=this.getFieldNameByHeaderText(r),this.sendUngroupingRequest(u)):i.hasClass("togglegroupbutton")?(r=n.trim(i.parent().text()),u=this.getFieldNameByHeaderText(r),i.hasClass("toggleungroup")&&this.sendUngroupingRequest(u)):i.hasClass("animatebutton")&&(this.model.enableEffects?(this.expandGroupDropArea(),this.model.enableEffects=!1):(this.model.enableEffects=!0,this.collapseGroupDropArea())),!1},_rowHover:function(t){var i,r,u;if(this.model.rowHover)return(i=n(t.target),r=n(this.getGridRows()),i.hasClass("rowcell")&&i.closest("#"+this._id+"EditForm").length||!i.hasClass("rowcell"))?void 0:(t.type!="mouseenter"||this._dragActive?r.removeClass("enablerowhover"):(r.removeClass("enablerowhover"),u=r.index(i.parent()),u!=-1&&i.parent().addClass("enablerowhover")),!1)},_unboundClickHandler:function(t){var i=n(t.target),r,u;i.hasClass("unboundcelldiv")||(this.model.allowSelection&&this.selectRows(n(this.getGridRows()).index(i.closest("tr"))),n.isFunction(n.fn.ejDatePicker)&&n("#"+this._id+"EditForm").find(".e-datepicker").ejDatePicker("hideDatePicker"),i.hasClass("editbutton")?(r=n(this.getGridRows()).index(i.closest("tr")),this.model.isEdit&&this.sendCancelRequest(),u=n(this.getGridRows()[r]),this.sendEditingRequest(u)):i.hasClass("deletebutton")?this.sendDeleteRequest(i.closest("tr")):i.hasClass("savebutton")?this.sendSaveRequest():i.hasClass("cancelbutton")&&this.sendCancelRequest())},_docClickHandler:function(t){var i=this.getBrowserDetails();this._$colType&&n(t.target).find(".e-grid-core.dlgcontainer").length>1&&(i.browser=="msie"?t.target.tagName!="BODY"&&this._closeFilterDlg():this._closeFilterDlg())},_closeFilterDlg:function(){n("#"+this._id+"_"+this._$colType+"Dlg").ejDialog("close"),this._$fDlgIsOpen=!1},_clickHandler:function(i){var r=n(i.target);if(!r.closest("#"+this._id+"EditForm").length){if(r.hasClass("rowcell")||r.parent().hasClass("rowcell")){if(!this.model.allowSelection)return;this.model.selectionType==t.Grid.selectionType.Multiple&&(i.ctrlKey&&(this._multiSelectCtrlRequest=!0),i.shiftKey&&(this._multiSelectShiftRequest=!0,this.selectRows(this._previousIndex,n(this.getGridRows()).index(r.closest("tr"))))),this._multiSelectShiftRequest||this.selectRows(n(this.getGridRows()).index(r.closest("tr"))),this._multiSelectShiftRequest=!1}this.expandCollapse(r),this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&r.closest(".dlgcontainer").length!=1&&this._closeFilterDlg()}},_editdblClickHandler:function(t){var i=n(t.target);return i.hasClass("rowcell")&&(this.model.isEdit||(this._$currentTr=i.closest("tr"),this.sendEditingRequest(this._$currentTr))),!1},_stausBarHoverHandler:function(t){var f=this.element.width(),i=n(t.target),e=i.width(),u=0,r=this.element.find(".e-grid-filterstatusbar, .e-grid-filterstatusbarbottom");return i.hasClass("status-left")||i.hasClass("status-left")?(r.addClass("status-right"),r.removeClass("status-left"),u=f-e-2):(i.hasClass("status-right")||i.parent().hasClass("status-right"))&&(r.addClass("status-left"),r.removeClass("status-right")),r.css({"margin-left":u+"px"}),!1},_keyPressed:function(t,i,r){var f,u,o,e,s;if(!this.model.allowKeyboardNavigation||i.tagName=="INPUT"&&r.code!=13&&r.code!=27&&r.code!=9||String.fromCharCode(r.code).toLowerCase()==this.element[0].accessKey.toLowerCase()||(this.model.edit.editMode=="dialog"||this.model.edit.editMode=="dialogTemplate")&&n(i).closest("#"+this._id+"EditForm").length)return!0;this.getGridPager()!=null&&(f=this.getGridPager().ejPager("model"),u=f.currentPage),o=!1;switch(t){case"insertRecord":this._toolbarOperation(this._id+"_add");break;case"saveRequest":this._toolbarOperation(this._id+"_update");break;case"cancelRequest":this._toolbarOperation(this._id+"_cancel");break;case"deleteRecord":this._toolbarOperation(this._id+"_delete");break;case"editRecord":this._toolbarOperation(this._id+"_edit");break;case"totalGroupCollapse":this.collapseAll();break;case"totalGroupExpand":this.expandAll();break;case"selectedGroupExpand":this._$currentTr=n(this.getGridRows()).eq(this.model.selectedRow),e=this._$currentTr.parents("tr").first().prev().find(".recordpluscollapse"),this.expandCollapse(e);break;case"selectedGroupCollapse":this._$currentTr=n(this.getGridRows()).eq(this.model.selectedRow),e=this._$currentTr.parents("tr").first().prev().find(".recordplusexpand"),this.expandCollapse(e);break;case"firstRowSelection":this.selectRows(0);break;case"lastRowSelection":this.selectRows(n(this.getGridRows()).length-1);break;case"upArrow":this.selectRows(this.model.selectedRow==0?0:this.model.selectedRow-1);break;case"downArrow":s=n(this.getGridRows()).length-1,this.selectRows(this.model.selectedRow==s?s:this.model.selectedRow+1);break;case"nextPage":this.getGridPager()!=null&&(u=u+1);break;case"previousPage":this.getGridPager()!=null&&(u=u-1);break;case"lastPage":this.getGridPager()!=null&&(u=f.totalPages);break;case"firstPage":this.getGridPager()!=null&&(u=1);break;case"nextPager":this.getGridPager()!=null&&(u=Math.ceil(f.currentPage/f.pageCount)*f.pageCount+1);break;case"previousPager":this.getGridPager()!=null&&(u=(Math.floor(f.currentPage/f.pageCount)-1)*f.pageCount+1);break;default:o=!0}return this.getGridPager()!=null&&f.currentPage!==u&&this.getGridPager().ejPager("goToPage",u),o},_mouseClickHandler:function(i){var r,f,s,u,e,o;if(n(i.target).is(".ascending, .descending")&&(i.target=i.target.parentNode),r=n(i.target),this._$fDlgIsOpen&&this.model.allowFiltering&&this.model.filterSettings.filterType=="menu"&&(n.fx.off=!0,n("#"+this._id+"_"+this._$prevColType+"Dlg").ejDialog("close"),n.fx.off=!1),this.getGridHeaderTable().find(".columnheader").find(".headercellactive").removeClass("headercellactive"),r.hasClass("headercelldiv")){if(!this.model.allowSorting)return;u=n.trim(r.text()),f=t.sortOrder.Ascending,this._$prevSElementTarget=this._$curSElementTarget,this._$curSElementTarget=r,f=r.find("span").hasClass("ascending")?t.sortOrder.Descending:t.sortOrder.Ascending,this.model.allowMultiSorting&&i.ctrlKey&&(this._multiSortRequest=!0),this.sendSortingRequest(u,f)}else if(r.hasClass("togglegroupbutton"))u=n.trim(r.parent().text()),s=this.getFieldNameByHeaderText(u),r.hasClass("togglegroup")&&this.sendGroupingRequest(s),r.hasClass("toggleungroup")&&this.sendUngroupingRequest(s);else if((r.hasClass("filtericon")||r.hasClass("filteredicon"))&&(u=n.trim(r.parent().text()),this._$prevFieldName=this._$curFieldName,this.model.allowFiltering)){e=this,n.each(this.model.columns,function(n,t){t.headerText==u&&(e._$colType=t.type,e._$curFieldName=t.field,e._$colFormat=t.format)}),o="#"+this._id+"_"+this._$colType+"Dlg",this._$colType=="string"?n("#"+this._id+"_acString").ejAutocomplete({fields:{text:e._$curFieldName,id:this._getIdField()}}):this._$colType=="date"&&(this._$colFormat=this._$colFormat.replace("{0:","").replace("}",""),n(o).find(".e-datewidget input").ejDatePicker({dateFormat:this._$colFormat.replace("{0:","").replace("}","")})),this._setFilterFieldValues(o);var h=n(document).width(),c=250,l=i.clientX;h-i.clientX<=c&&(l=h-c),n(o).ejDialog({position:{X:l,Y:r.parent().offset().top+32}}).ejDialog("open"),this._$colType=="number"&&n(o).find(".e-numerictextbox").ejNumericTextbox({width:"230px"}),this._$prevColType=this._$colType,this._$fDlgIsOpen=!0}return!1},_setFilterFieldValues:function(t){var i="",r=this;this._$curFieldName!=this._$prevFieldName&&(n.each(this._filterCollection,function(n,t){if(t.columnName==r._$curFieldName)return i=t.value,!1}),this._$colType=="boolean"?i&&i!=""?n(t).find(".value input").attr("checked",!0):n(t).find(".value input").attr("checked",!1):n(t).find(".value input").val(i))},_getIdField:function(){var t;return n.each(this.model.columns,function(n,i){if(i.key)return t=i.field,!1}),t},_gPagerClickHandler:function(n){if(this._prevPageNo!=n.currentPage)return this.model.masterObject.sendPagingRequest(n.currentPage),!1},_toolBarClick:function(t){var f=n(this.itemsContainer).closest(".e-grid"),u=f.ejGrid("instance"),r=f.attr("id");if((t.event!=i||t.target.tagName!="INPUT"||t.currentTarget.id!=r+"_search")&&(n.isFunction(n.fn.ejDatePicker)&&n("#"+r+"EditForm").find(".e-datepicker").ejDatePicker("hideDatePicker"),!f.ejGrid("instance")._trigger("toolBarClick",t))){switch(t.currentTarget.id){case r+"_add":u._toolbarOperation(r+"_add");break;case r+"_edit":u._toolbarOperation(r+"_edit");break;case r+"_delete":u._toolbarOperation(r+"_delete");break;case r+"_update":u._toolbarOperation(r+"_update");break;case r+"_cancel":u._toolbarOperation(r+"_cancel");break;case r+"_search":u._toolbarOperation(r+"_search",n(t.currentTarget).find("input").val())}return!1}},_toolbarOperation:function(n,t){var i=this.element,r=i.attr("id");switch(n){case r+"_add":i.ejGrid("sendAddRequest");break;case r+"_edit":i.ejGrid("sendEditingRequest");break;case r+"_delete":i.ejGrid("sendDeleteRequest");break;case r+"_update":i.ejGrid("sendSaveRequest");break;case r+"_cancel":i.ejGrid("sendCancelRequest");break;case r+"_search":i.ejGrid("sendSearchRequest",t)}return!1},_filterBarHandler:function(t){var f=t.keyCode,i,r,u;if((this.model.filterSettings.filterBarMode=="immediate"||f==13)&&f!=9){if(i=n(t.target),this.filterStatusMsg="",r=i.closest("th").index()-this.model.groupSettings.groupedColumns.length,this.model.detailTemplate!=null&&r--,u=this.getColumnByIndex(r),u==null)return;if(this._currentFilterColumn=u,this._currentFilterColumn!=this._oldFilterColumn&&(this.filterValueOldLength=0),this._currentFilterbarValue=i.val(),this.filterValueCurrentLength=this._currentFilterbarValue.length,(this.filterValueCurrentLength==0&&this.filterValueOldLength==0||this._currentFilterbarValue==this.OldfilterValue)&&this._currentFilterColumn==this._oldFilterColumn){this._showFilterMsg();return}if(this._skipFilterProcess=this._checkForSkipInput(),this._skipFilterProcess)if(this._currentFilterColumn.type=="string")this.filterStatusMsg="Invalid Filter Data",this._showFilterMsg();else{this._skipFilterProcess=!1,this._showFilterMsg();return}else this._processFilter()}},editFormValidate:function(){return n.isFunction(n.validator)?n("#"+this._id+"EditForm").validate().form():!0},_checkEinHeader:function(t){for(var r=this.element.children(".gridheader").find("thead").find(".columnheader").find(".headercell"),i=0;i<r.length;i++)if(n.trim(r.eq(i).text())==t)return r.eq(i);return null},_checkEinGroupDrop:function(t){for(var r=this.element.children(".groupdroparea").find(".grid-icon"),i=0;i<r.length;i++)if(n.trim(r.eq(i).text())==t)return r.eq(i);return null},_addColumnToGroupDrop:function(n){var i=t.buildTag("div.grid-icon groupheadercell"),o=this.element.find(".groupdroparea").first(),r=t.buildTag("div"),s=this.getColumnByField(n),u,f;i.append(r.html(s.headerText)),u=this._checkEinHeader(s.headerText),this.model.groupSettings.toggleGrouping&&(r.append(this._getToggleButton().addClass("toggleungroup")),u.find(".headercelldiv").find(".togglegroupbutton").remove().end().append(this._getToggleButton().addClass("toggleungroup"))),f="ascending",u.find(".ascending,.descending").length&&(f=u.find(".ascending,.descending").hasClass("ascending")?"ascending":"descending"),r.append(this._createSortElement().addClass(f)),this.model.groupSettings.showUngroupButton&&r.append(t.buildTag("span.ungroupbutton"," ",{},{title:"Click here to ungroup"})),o.append(i).css("height","auto");var h=i.offset().left,e=i.clone().css("position","absolute"),c=this;i.css("visibility","hidden"),o.append(e).dequeue(),e.css({left:h+150}).animate({left:h},150,function(){i.css("visibility","visible"),e.remove()})},_removeColumnFromDrop:function(t){for(var u=this.getHeaderTextByFieldName(t),e=this,f=this.element.children(".groupdroparea"),r=f.css("height","30px").find(".grid-icon"),i=0;i<r.length;i++)n.trim(r.eq(i).text())==u&&(this.model.groupSettings.groupedColumns.length==0?this.collapseGroupDropArea():r.eq(i).remove())},_addSortElementToColumn:function(t,i){var u=this.getColumnByField(t),f=n.inArray(u,this.model.columns),r=this.getGridHeaderTable().find("thead").find(".headercell").not(".detailheadercell").eq(f).find(".headercelldiv");r.find(".ascending,.descending").remove(),r.append(this._createSortElement().addClass(i))},_removeSortElementFromColumn:function(t){var i=this.getColumnByField(t),r=n.inArray(i,this.model.columns),u=this.getGridHeaderTable().find("thead").find(".headercell").not(".detailheadercell").eq(r).find(".headercelldiv");u.find(".ascending,.descending").remove()},_refreshEditForm:function(){for(var p=document.getElementById(this._id+"EditForm"),c=!1,l=n(p).find("input,select"),r,f,h,o,u,s,v,y,e=0;e<l.length;e++)if(r=l.eq(e),!r.closest("td").hasClass("unboundcell")){if(f=this._tdsOffsetWidth[e]*(80/100),r.hasClass("numerictextbox")){var o=f>0?r.width()>f?f:r.width():1,u={},a=r.val();u.width=o,u.height=28,u.rtl=this.model.rtl,u.showSpinButton=!0,u.cssClass=this.model.cssClass,a.length&&(u.value=parseFloat(a)),h=this.getColumnByField(r.prop("name")),t.isNullOrUndefined(h.numericEditParams)||n.extend(u,h.numericEditParams),r.ejNumericTextbox(u),r.prop("name",r.prop("name").replace(this._id,""))}else if(r.hasClass("datepicker"))o=f>0?r.width()>f?f:r.width():1,u={},u.width=o,u.height=28,u.rtl=this.model.rtl,u.cssClass=this.model.cssClass,u.displayDefaultDate=!0,u.showDateIcon=!1,r.val().length&&(u.defaultDate=new Date(r.val())),s=this.getColumnByField(r.prop("name")),s.format!==i&&s.format.length>0&&(v=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),y=v.exec(s.format),u.dateFormat=y[2]),r.ejDatePicker(u);else if(r.hasClass("dropdownlist"))r.ejDropDownList({width:f+"px",rtl:this.model.rtl}),r.ejDropDownList("selectItemByValue",r.val());else switch(r.prop("tagName")){case"INPUT":r.attr("type")!="checkbox"?r.width(f>0?f:r.width()).height(28).css("text-align",r.attr("name")!=null?this.getColumnByField(r.attr("name")).textAlign:"center"):r.width(f>0?r.width()>f?f:r.width():1);break;case"SELECT":r.width(f>0?f:r.width()).height(28)}r.is(":disabled")||c||r.is(":hidden")||(this._focusElements(r.closest("td")),c=!0)}},_focusElements:function(n){if(n.length){var t=n.children();t[0].tagName.toLowerCase()=="select"||t[0].tagName.toLowerCase()=="input"?(t.focus().select(),t[0].focus()):t.find("input").focus().select()}},_processFilter:function(){this._alreadyFilterProcessed?(this._stopTimer(),this._startTimer()):(this._alreadyFilterProcessed=!0,this._startTimer())},_startTimer:function(){var n=this;this._timer=window.setTimeout(function(){n._onTimerTick()},1500)},_stopTimer:function(){this._oldFilterColumn=this._currentFilterColumn,this.filterValueOldLength=this.filterValueCurrentLength,this._timer!=null&&window.clearTimeout(this._timer)},_onTimerTick:function(){this.OldfilterValue=this._currentFilterbarValue,this._findPredicate(),this._skipFilterProcess?this.filterStatusMsg="Invalid Filter Data":this.sendFilteringRequest(this._currentFilterColumn.field,this._operator,this._currentFilterbarValue,this._predicate,this._currentFilterColumn.type=="string"?!1:!0),this._showFilterMsg(),this._stopTimer()},_findPredicate:function(){var e=this._currentFilterbarValue.replace(/ && /i," and ").replace(" || "," or "),r=e.split(" "),i;if(this._predicate="and",r.length!=0)if(n.isFunction(t.Predicate[r[1]])){this._skipFilterProcess=!1,this._predicate=r[1];var u=e.split(" "+r[1]+" "),o=[],f=[];for(i=0;i<u.length;i++)this._validateFilterValue(u[i]),o.push(this._operator),this._currentFilterColumn.type=="number"?f.push(this._currentFilterbarValue):this._currentFilterColumn.type=="string"&&f.push(u[i]);this._currentFilterbarValue=f,this._operator=o}else this._validateFilterValue(n.trim(this._currentFilterbarValue));else this._validateFilterValue(n.trim(this._currentFilterbarValue))},_validateFilterValue:function(n){var r,i,u;switch(this._currentFilterColumn.type){case"number":for(this._operator=t.FilterOperators.equal,r=[">","<","=","!"],i=0;i<n.length;i++)if(jQuery.inArray(n[i],r)!=-1)break;i!=n.length&&(this._getOperator(n.substring(i)),i!=0&&(this._currentFilterbarValue=n.substring(0,i))),this._currentFilterbarValue=this._currentFilterbarValue!=""&&n.length>1?parseFloat(this._currentFilterbarValue):n.length>1?parseFloat(n):n;break;case"date":this._operator=t.FilterOperators.equal,this._getOperator(n),u=this._currentFilterColumn.format==""?Globalize.culture().calendar.patterns.d:this._currentFilterColumn.format.split(":")[1].replace("}",""),this._currentFilterbarValue!=""&&(this._currentFilterbarValue=Globalize.parseDate(this._currentFilterbarValue,u));break;case"string":this._operator=t.FilterOperators.startsWith;break;case"boolean":this._currentFilterbarValue.toLowerCase()=="true"||this._currentFilterbarValue=="1"?this._currentFilterbarValue=!0:(this._currentFilterbarValue.toLowerCase()=="false"||this._currentFilterbarValue=="0")&&(this._currentFilterbarValue=!1),this._operator=t.FilterOperators.equal;break;default:this._operator=t.FilterOperators.equal}},_getOperator:function(n){n.charAt(0)=="="&&(this._operator=t.FilterOperators.equal,this._currentFilterbarValue=n.substring(1)),(t.data.operatorSymbols[n.charAt(0)]!==i||t.data.operatorSymbols[n.slice(0,2)]!==i)&&(this._operator=t.data.operatorSymbols[n.charAt(0)],this._currentFilterbarValue=n.substring(1),this._operator===i&&(this._operator=t.data.operatorSymbols[n.slice(0,2)],this._currentFilterbarValue=n.substring(2))),(this._operator==t.FilterOperators.lessThan||this._operator==t.FilterOperators.greaterThan)&&this._currentFilterbarValue.charAt(0)=="="&&(this._operator=this._operator+"orequal",this._currentFilterbarValue=this._currentFilterbarValue.substring(1))},_checkForSkipInput:function(){var u=!1,e=this,f,r;if(this._currentFilterColumn.type=="number"&&(t.data.operatorSymbols[this._currentFilterbarValue]!==i||n.inArray(this._currentFilterbarValue,["="," ","!"])!=-1)&&(u=!0),this._currentFilterColumn.type=="string")for(f=[">","<","=","!"],r=0;r<this._currentFilterbarValue.length;r++)jQuery.inArray(this._currentFilterbarValue[r],f)!=-1&&(u=!0);return u},_showFilterMsg:function(){var t=jQuery.inArray(this._currentFilterColumn,this.filterColumnCollection);if(this._currentFilterbarValue!==""&&t==-1&&this.filterColumnCollection.push(this._currentFilterColumn),this._currentFilterbarValue==""&&t!=-1&&this.filterColumnCollection.splice(t,1),(!this._skipFilterProcess||this.filterColumnCollection.length>0)&&this.filterStatusMsg!="Invalid Filter Data")for(t=0;t<this.filterColumnCollection.length;t++)t>0&&(this.filterStatusMsg+=" && "),this.filterStatusMsg+=this.filterColumnCollection[t].headerText+": "+n("#"+this.filterColumnCollection[t].field+"_filterBarcell").val();this.$statusBarDiv.find(".msgdiv").html(this.filterStatusMsg),this.filterStatusMsg=="Invalid Filter Data"&&(t=jQuery.inArray(this._currentFilterColumn,this.filterColumnCollection),this.filterColumnCollection.splice(t,1)),this.filterStatusMsg="",this.filterColumnCollection.length==0&&this._currentFilterbarValue==""?this.$statusBarDiv.css({display:"none"}):this.$statusBarDiv.css({display:"block"})},formatting:function(t,i){var r,o,f,e,s,h,u;return t=t.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),r=t,o=t.split("{0:"),s=t.split("}"),f=o[0],e=s[1],t.indexOf("{0:")!=-1?(h=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),u=h.exec(t),u!=null&&i!=null?f!=null&&e!=null?f+Globalize.format(i,u[2])+e:Globalize.format(i,u[2]):i!=null?i:""):this.data!=null&&this.data.Value==null?(n.each(this.data,function(n,t){r=r.replace(new RegExp("\\{"+n+"\\}","gm"),t)}),r):this.data.Value},_destroy:function(){this.element.empty().removeClass("e-grid-core e-grid "+this.model.cssClass)}}),t.Grid.localization={},t.Grid.localization["en-US"]={EmptyRecord:"No records to display",GroupDropArea:"Drag a column header here to group its column",DeleteOperationAlert:"No records selected for delete operation",EditOperationAlert:"No records selected for edit operation",SaveButton:"Save",CancelButton:"Cancel",EditFormTitle:"Details of ",Notactionkeyalert:"This Key-Combination is not avaiable",Keyconfigalerttext:"This Key-Combination has already been assigned to ",GroupCaptionFormat:"items"},t.Grid.filterBarMode={Immediate:"immediate",OnEnter:"onenter"},t.Grid.actions={Paging:"paging",Sorting:"sorting",Filtering:"filtering",BeginEdit:"beginedit",Save:"save",Add:"add",Delete:"delete",Cancel:"cancel",Grouping:"grouping",Ungrouping:"ungrouping",Refresh:"refresh",Reorder:"reorder"},t.Grid.toolBarItems={Add:"add",Edit:"edit",Delete:"delete",Update:"update",Cancel:"cancel",Search:"search"},t.Grid.editingType={StringEdit:"stringedit",BooleanEdit:"booleanedit",NumericEdit:"numericedit",DropdownEdit:"dropdownedit",DatePickerEdit:"datepicker"},t.Grid.unboundType={Edit:"edit",Save:"save",Delete:"delete",Cancel:"cancel"},t.Grid.selectionType={Single:"single",Multiple:"multiple"},t.Grid.editMode={Normal:"normal",Dialog:"dialog",DialogTemplate:"dialogTemplate"},t.Grid.filterType={Menu:"menu",FilterBar:"filterbar"},t.Grid.summaryType={Average:"average",Minimum:"minimum",Maximum:"maximum",Count:"count",Sum:"sum",TrueCount:"truecount",FalseCount:"falsecount",Custom:"custom"}}(jQuery,Syncfusion),gridResize.prototype={_mouseHover:function(n){var t;if(!this._$visualElement.is(":visible")&&($(n.target).is(".headercelldiv")&&(n.target=n.target.parentNode),t=$(n.target),t.hasClass("headercell"))){var u=n.target,i=u.getBoundingClientRect(),r=n.clientX,f=n.clientY,e=this.gridInstance.getGridHeaderTable().width()+this.gridInstance.element.children(".gridheader").find(".columnheader").offset().left;(r>=i.left+document.documentElement.scrollLeft+u.offsetWidth-5||r<=i.left+3)&&r<e&&r>=i.left&&f<=i.top+document.documentElement.scrollTop+n.target.offsetHeight?(t.parent().css("cursor","col-resize"),this._currentCell=u.cellIndex,this._allowStart=!0):(t.parent().css("cursor","pointer"),this._allowStart=!1,this._currentCell=-1)}},_start:function(n,t){var r=this.gridInstance.getGridHeaderTable().find(".columnheader")[0],f=r.cells,i,u;(this._currentCell!=-1&&this._currentCell<r.cells.length&&(i=f[this._currentCell]),typeof i!="undefined")&&(u=i.getBoundingClientRect(),this._tableY=u.top+parseInt(navigator.userAgent.indexOf("WebKit")!=-1?document.body.scrollTop:document.documentElement.scrollTop),this._allowStart?(this._$visualElement=$(document.createElement("div")),_height=this.gridInstance.element.find(".gridcontent").first().height()+this.gridInstance.element.find(".gridheader").height(),this._$visualElement.addClass("reSizeColbg").appendTo(this.gridInstance.element).css({height:_height+"px",cursor:"col-resize"}),this._$visualElement.css({left:n,top:this._tableY}),this._oldWidth=i.offsetWidth,this._orgX=n,this._orgY=t,this._extra=n-this._orgX,this._expand=!0):this._currentCell=-1)},_mouseMove:function(n){if(this._expand){var t=n.clientX,i=n.clientY;navigator.userAgent.indexOf("WebKit")!=-1&&(t=n.pageX,i=n.pageY),t+=document.documentElement.scrollLeft,n.preventDefault(),this._moveVisual(t)}else this._mouseHover(n)},_reSize:function(n){var c=this,t,i,u,o,f;if(this._initialTableWidth=this.gridInstance.getGridHeaderTable().parent().width(),this._getResizableCell(),i=this.gridInstance.getGridHeaderTable().find(".columnheader"),this._currentCell!=-1&&this._expand){this._expand=!1;var s=i[0].cells,h=s[this._currentCell],e=h.offsetWidth,r=n-this._orgX;parseInt(r)+parseInt(e)>this._colMinWidth&&(r!=0&&i.css("cursor","default"),this._resizeColumnUsingDiff(e,r),this.gridInstance._findColumnsWidth(),t=this.gridInstance.element.find(".gridcontent").first(),this.gridInstance.model.allowScrolling&&t.ejScroller("refresh"),u=this.gridInstance.getBrowserDetails(),u.browser=="msie"&&(o=this.gridInstance.getGridContentTable().width(),f=this.gridInstance._calculateWidth(),parseInt(u.version,10)>8&&this.gridInstance.model.groupSettings.groupedColumns.length&&(f>o?(this.gridInstance.getGridContentTable().width(f),this.gridInstance.getGridContentTable().children("colgroup").find("col").first().css("width",2e3/t.find("table").first().width()+"%")):(this.gridInstance.getGridContentTable().css("width","100%"),this.gridInstance._groupingAction(),this.gridInstance.getGridContentTable().children("colgroup").find("col").first().css("width",(this.gridInstance.getGridHeaderTable().find("colgroup").find("col").first().width()/t.find("table").first().width()*100).toFixed(2)+"%"))),this.gridInstance.getGridHeaderTable().parent().scrollLeft(t.find(".content").scrollLeft()-1)))}this._$visualElement.remove(),this._expand=!1,this._currentCell=-1,this._allowStart=!1},_resizeColumnUsingDiff:function(n,t){var h=this,i=parseInt(t)+parseInt(n),f,e,u,r;if(i>0&&t!=0){i<this._colMinWidth&&(i=this._colMinWidth);var t=i-n,o=this.gridInstance.getGridHeaderTable().find("colgroup").find("col").eq(this._currentCell),s=this.gridInstance.getGridContentTable().find("colgroup").first().find("col").eq(this._currentCell);if(o.width(i),this.gridInstance.model.isEdit&&(f=this.gridInstance.getGridContentTable().find(".editedrow,.addedrow").find("table").find("colgroup"),$(f[0].children[this._currentCell-this.gridInstance.model.groupSettings.groupedColumns.length]).width(i)),this.gridInstance.model.groupSettings.groupedColumns.length)for(e=this.gridInstance.getGridContentTable().find(".recordtable"),u=e.find("colgroup"),r=0;r<u.length;r++)$(u[r].children[this._currentCell-this.gridInstance.model.groupSettings.groupedColumns.length]).width(i);s.width(i),this.gridInstance.getGridHeaderTable().find(".columnheader").css("cursor","default")}},_mouseUp:function(n){if(this._expand){var t=n.clientX,i=n.clientY;navigator.userAgent.indexOf("WebKit")!=-1&&(t=n.pageX,i=n.pageY),t+=document.documentElement.scrollLeft,this._reSize(t,i)}},_getResizableCell:function(){for(var r=this.gridInstance.getGridHeaderTable().find(".columnheader")[0],t=r.cells,u=navigator.userAgent.indexOf("WebKit")!=-1?document.body.scrollLeft:document.documentElement.scrollLeft,i,n=0;n<t.length;n++)if(point=t[n].getBoundingClientRect(),i=point.left+u+5,i>this._orgX){this._currentCell=n-1;return}},_moveVisual:function(n){var t=this.gridInstance.getGridHeaderTable()[0].getBoundingClientRect();t.left+document.documentElement.scrollLeft+t.width<n||n<t.left+document.documentElement.scrollLeft?this._$visualElement.remove():this._currentCell!=-1&&this._$visualElement.css({left:n,top:this._tableY})},_mouseDown:function(n){if(this._allowStart&&this.gridInstance.getGridHeaderTable().find(".columnheader").css("cursor")=="col-resize"){var t=n.clientX,i=n.clientY;navigator.userAgent.indexOf("WebKit")!=-1&&(t=n.pageX,i=n.pageY),t+=document.documentElement.scrollLeft,n.button!=2&&this._start(t,i),n.preventDefault()}return!1}},SfSvgRender=function(n){this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=$(n).attr("id"),this.svgObj.setAttribute("id",this._rootId+"_svg")},SfSvgRender.prototype={drawPath:function(n,t){var i=document.createElementNS(this.svgLink,"path");$(i).attr(n).appendTo(t)},drawLine:function(n,t){var i=document.createElementNS(this.svgLink,"line");$(i).attr(n),$(i).appendTo(t)},drawPolygon:function(n,t){var i=document.createElementNS(this.svgLink,"polygon");$(i).attr(n),$(i).appendTo(t)},drawCircle:function(n,t){var i=document.createElementNS(this.svgLink,"circle");$(i).attr(n).appendTo(t)},drawEllipse:function(n,t){var i=document.createElementNS(this.svgLink,"ellipse");$(i).attr(n).appendTo(t)},drawRect:function(n,t){var i=document.createElementNS(this.svgLink,"rect");$(i).attr(n).appendTo(t)},createGradientElement:function(n,t,i,r,u,f,e){var o,s,h;return Object.prototype.toString.call(t)=="[object Array]"?(s={id:this.svgObj.id+"_"+n+"Gradient",x1:i+"%",y1:r+"%",x2:u+"%",y2:f+"%"},h="#"+this.svgObj.id+"_"+n+"Gradient",$(e).find(h).length==0&&this.drawGradient(s,t,e),o="url(#"+this.svgObj.id+"_"+n+"Gradient)"):o=t,o},drawGradient:function(n,t,i){var e=this.createDefs(),u=document.createElementNS(this.svgLink,"linearGradient"),r,f;for($(u).attr(n),r=0;r<t.length;r++)f=document.createElementNS(this.svgLink,"stop"),$(f).attr({offset:t[r].colorStop,"stop-color":t[r].color,"stop-opacity":1}),$(f).appendTo(u);$(u).appendTo(e),$(e).appendTo(i)},drawText:function(n,t,i,r){var e=document.createElementNS(this.svgLink,"text"),o=$(e),s,u,f,h;if(jQuery.type(t)=="array")for(s=0,o.attr(n),u=0;u<t.length;u++)f=document.createElementNS(this.svgLink,"tspan"),f.textContent=t[u],$(f).attr({x:n.x,dy:s}),$(f).appendTo(e),h=this.measureText(t[u]),s=h.height+2;else e.textContent=t,o.attr(n);o.appendTo(i),ej.util.isNullOrUndefined(r)&&$(i).appendTo(this.svgObj)},drawImage:function(n,t){var i=document.createElementNS(this.svgLink,"image");i.setAttributeNS(null,"height",n.height),i.setAttributeNS(null,"width",n.width),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n.href),i.setAttributeNS(null,"x",n.x),i.setAttributeNS(null,"y",n.y),i.setAttributeNS(null,"id",n.id),i.setAttributeNS(null,"visibility",n.visibility),ej.util.isNullOrUndefined(n.clippath)&&ej.util.isNullOrUndefined(n.preserveAspectRatio)||(i.setAttributeNS(null,"clip-path",n.clippath),i.setAttributeNS(null,"preserveAspectRatio",n.preserveAspectRatio)),$(i).appendTo(t)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(n){var t=document.createElementNS(this.svgLink,"clipPath");return $(t).attr(n),t},createForeignObject:function(n){var t=document.createElementNS(this.svgLink,"foreignObject");return $(t).attr(n),t},createGroup:function(n){var t=document.createElementNS(this.svgLink,"g");return $(t).attr(n),t},createText:function(n,t){var i=document.createElementNS(this.svgLink,"text");return $(i).attr(n),ej.util.isNullOrUndefined(t)||(i.textContent=t),i},createPath:function(n){var t=document.createElementNS(this.svgLink,"path");return $(t).attr(n),t},createCircle:function(n){var t=document.createElementNS(this.svgLink,"circle");return $(t).attr(n),t},createLine:function(n){var t=document.createElementNS(this.svgLink,"line");return $(t).attr(n),t},decimalPlaces:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},dateTimeLabelFormat:function(n){var t="d";return n.toLowerCase()=="years"?t="MMM, yyyy":n.toLowerCase()=="months"?t="dd, MMM":n.toLowerCase()=="days"?t="dd/MM/yyyy":n.toLowerCase()=="hours"?t="dd, hh:mm":n.toLowerCase()=="seconds"||n.toLowerCase()=="minutes"?t="hh:mm:ss":n.toLowerCase()=="milliseconds"&&(t="hh:mm:ss:tt"),t},getAttrVal:function(n,t,i){var r=$(n).attr(t);return r!=null?r:i},getFontString:function(n){return n==null&&(n={}),n.FontFamily||(n.FontFamily="Arial"),n.FontStyle||(n.FontStyle="Normal"),n.Size||(n.Size="12px"),n.FontStyle+" "+n.Size+" "+n.FontFamily},round:function(n,t,i){return t*(i?Math.ceil(n/t):Math.floor(n/t))},logBase:function(n,t){return Math.log(n)/Math.log(t)},correctRect:function(n,t,i,r){return{X:Math.min(n,i),Y:Math.min(t,r),Width:Math.abs(i-n),Height:Math.abs(r-t)}},measureText:function(n,t,i){var r=document.createElement("text"),u;return r.innerHTML=n,i!=null&&(r.style.fontSize=i.size>0?i.size+"px":i.size,r.style.fontStyle=i.fontStyle,r.style.fontFamily=i.fontFamily),r.style.backgroundColor="white",r.style.position="absolute",r.style.top=-100,r.style.left=0,t&&(r.style.maxwidth=t+"px"),document.body.appendChild(r),u={width:r.offsetWidth,height:r.offsetHeight},$(r).remove(),u},measureBounds:function(n,t){this.append(n,t.svgObject),this.append(t.svgObject,t.element);var i=n.getBoundingClientRect();return $(n).remove(),i},getPathBounds:function(n,t){this.append(n,t.svgObject),this.append(t.svgObject,t.element);var i=n.getBBox();return $(n).remove(),i},getCircleBounds:function(n,t){this.append(n,t.svgObject),this.append(t.svgObject,t.element);var i=n.getBBox();return $(n).remove(),i},hexFromRGB:function(n){var i=n.R,r=n.G,u=n.B,t=[i.toString(16),r.toString(16),u.toString(16)];return $.each(t,function(n,i){i.length===1&&(t[n]="0"+i)}),t.join("").toUpperCase()},createDelegate:function(n,t){return function(i){t.apply(n,[i,this])}},drawClipPath:function(n,t){var i=this.createDefs(),r=this.createClipPath({id:n.id});this.drawRect(n,r),this.append(r,i),this.append(i,t)},addRegion:function(n,t,i,r,u){var f=$.inArray(i,n.model.series),e={SeriesIndex:f,Region:{PointIndex:u,Bounds:t}};n.model.chartRegions.push(e)},getSvgXY:function(n,t,i){var r=n+i.xAxis.Location.X1,u=t+i.yAxis.Location.Y1;return{X:r,Y:u}},getPoint:function(n,t){var i=(n.X-t.xAxis.visibleRange.min)/(t.xAxis.visibleRange.max-t.xAxis.visibleRange.min)*(t.xAxis.Location.X2-t.xAxis.Location.X1),r=(n.YValues[0]-t.yAxis.visibleRange.min)/(t.yAxis.visibleRange.max-t.yAxis.visibleRange.min)*(t.yAxis.Location.Y1-t.yAxis.Location.Y2);return{X:i,Y:r}},getPointXY:function(n,t,i){var r=(n-i.xAxis.visibleRange.min)/(i.xAxis.visibleRange.max-i.xAxis.visibleRange.min)*(i.xAxis.Location.X2-i.xAxis.Location.X1),u=(t-i.yAxis.visibleRange.min)/(i.yAxis.visibleRange.max-i.yAxis.visibleRange.min)*(i.yAxis.Location.Y1-i.yAxis.Location.Y2);return{X:r,Y:u}},minMax:function(n,t,i){return n>i?i:n<t?t:n},inside:function(n,t){return n===""?!1:n<=t.max&&n>=t.min},append:function(n,t){$(n).appendTo(t)}},SfSvgRender.commonChartEventArgs={Cancel:!1,Data:null},SfSvgRender.chartSymbol={_drawSeriesType:function(n,t,i){switch(i.model.series[t.SeriesIndex].type){case i.model.seriesType.Pie:case i.model.seriesType.Bubble:this._drawCircle(n,t,i,i.gLegendItemEle);break;case i.model.seriesType.Column:this._drawRectangle(n,t,i,i.gLegendItemEle);break;default:this._drawRectangle(n,t,i,i.gLegendItemEle)}},_drawCircle:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=Math.sqrt(u.height*u.height+u.width*u.width)/2,s={id:e.id+"_circlesymbol_"+t.PointIndex+"_"+t.SeriesIndex,cx:n.startX,cy:n.startY,r:o,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity};f.drawCircle(s,r)},_drawLeftArrow:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX-u.width/2)+" "+n.startY+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4),e={id:s.id+"_leftarrowsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawRightArrow:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+u.width/2+u.width)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+u.width)+" "+(n.startY+-u.height/4)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+u.width)+" "+(n.startY+u.height/4);var s=n.startX+u.width/2,h=n.startY,c={id:e.id+"_rightarrowsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(180,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawUpArrow:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+u.width)+" "+(n.startY-u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY-u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+-u.height/2)+" L "+n.startX+" "+(n.startY-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY-u.height/2+u.height/4);var s=n.startX,h=n.startY-u.height/2,c={id:e.id+"_Uparrowsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(90,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawDownArrow:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+u.width)+" "+(n.startY+u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2+u.height/4);var s=n.startX,h=n.startY+u.height/2,c={id:e.id+"_downarrowsymbol"+t.pointindex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(-90,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawCross:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L"+(n.startX+u.width/2)+" "+n.startY+" M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2),e={id:s.id+"_crosssymbol"+t.PointIndex,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,d:f},o.drawPath(e,r)},_drawHorizLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2)+" "+n.startY,e={id:s.id+"_horzlinesymbol"+t.PointIndex,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,d:f},o.drawPath(e,r)},_drawVertLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2),e={id:s.id+"_verlinesymbol"+t.PointIndex,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,d:f},o.drawPath(e,r)},_drawTriangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2),e={id:s.id+"_trianglesymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawInvertedTriangle:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2);var s=n.startX,h=n.startY,c={id:e.id+"_inverttrianglesymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(180,"+s+","+h+")",opacity:t.Style.Opacity,d:o};f.drawPath(c,r)},_drawHexagon:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+(n.startX+u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY,e={id:s.id+"_hexagonsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawWedge:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+3*(u.width/4))+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+n.startY,e={id:s.id+"_wedgesymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawPentagon:function(n,t,i,r){for(var v=i.svgRenderer,y=i.svgObject,f=t.ShapeSize,o=Math.sqrt(f.height*f.height+f.width*f.width)/2,e=syncfusion.getStringBuilder(),l,a,u=0;u<=5;u++){var p=u*72,s=Math.PI/180*p,h=o*Math.cos(s),c=o*Math.sin(s);u==0?e.append("M "+(n.startX+h)+" "+(n.startY+c)+" "):e.append("L "+(n.startX+h)+" "+(n.startY+c)+" ")}l=e.toString(),a={id:y.id+"_pentagonsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:l},v.drawPath(a,r)},_drawStar:function(n,t,i,r){var o=i.svgRenderer,u=t.ShapeSize,s=i.svgObject,f,e;f="M "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+-u.width/3)+" "+(n.startY+-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2),e={id:s.id+"_starsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawRectangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2),e={id:s.id+"_rectsymbol"+t.pointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawTrapezoid:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX+-u.width/2)+" "+n.startY,e={id:s.id+"_trapezoidsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawDiamond:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY,e={id:s.id+"_diamondsymbol"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,d:f},o.drawPath(e,r)},_drawEllipse:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=n.startX,s=n.startY,h={id:e.id+"_ellipse"+t.PointIndex,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,cx:o,cy:s,rx:u.width,ry:u.height/2};f.drawEllipse(h,r)},_drawImage:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=n.startX+-u.width/2,s=n.startY+-u.width/2,h=u.width,c=u.height,l={id:e.id+"_image"+t.PointIndex,height:c,width:h,href:t.Imageurl,x:o,y:s,visibility:"visible"};f.drawImage(l,r)}},SfSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},SfSvgRender.themes={flatlight:{backInterior:"transparent",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},crossHair:{line:{width:1,color:"Black"}},commonSeriesOptions:{pieOptions:{connectorLine:{stroke:"Black"}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultMetro,colors:SfSvgRender.seriesPalette.defaultMetro},flatdark:{backInterior:"#111111",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:0,ry:0,borderColor:"#29ABE2",fillColor:"#29ABE2",borderWidth:1},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"white"}}},crossHair:{line:{width:1,color:"White"}},commonSeriesOptions:{pieOptions:{connectorLine:{stroke:"White"}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultMetro,colors:SfSvgRender.seriesPalette.defaultMetro},gradientlight:{backInterior:"transparent",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},crossHair:{line:{width:1,color:"Black"}},commonSeriesOptions:{pieOptions:{connectorLine:{stroke:"Black"}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultGradient.borderColors,colors:SfSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{backInterior:"#111111",legend:{textOption:{font:{color:"#707070"}}},titleFont:{color:"#707070"},primaryXAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryX:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},primaryYAxis:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},secondaryY:{majorGridLines:{color:"#B7B7B7"},majorTickLines:{color:"#B7B7B7"},minorGridLines:{color:"#B7B7B7"},minorTickLines:{color:"#B7B7B7"},axisLine:{color:"#686868"},font:{color:"#707070"},title:{font:{color:"#707070"}},crossHairLabelStyle:{rectOptions:{rx:3,ry:3,borderColor:"#333333",fillColor:"#F4F4F4",borderWidth:2},textOptions:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1,color:"#333333"}}},crossHair:{line:{width:1,color:"White"}},commonSeriesOptions:{pieOptions:{connectorLine:{stroke:"White"}}},seriesBorderDefaultColors:SfSvgRender.seriesPalette.defaultGradient.borderColors,colors:SfSvgRender.seriesPalette.defaultGradient.seriesColors}},$.extend(SfSvgRender.themes,{azure:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueMetro,colors:SfSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueMetro,colors:SfSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueGradient.borderColors,colors:SfSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.blueGradient.borderColors,colors:SfSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenMetro,colors:SfSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenMetro,colors:SfSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenGradient.borderColors,colors:SfSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.greenGradient.borderColors,colors:SfSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleMetro,colors:SfSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleMetro,colors:SfSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleGradient.borderColors,colors:SfSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:SfSvgRender.seriesPalette.sandleGradient.borderColors,colors:SfSvgRender.seriesPalette.sandleGradient.seriesColors}}),axisTypes={},SfAxisRenderer=function(){},SfStripline=function(n){this.chart=n},SfAxisRenderer.prototype={AlignRangeStart:function(n,t,i,r){var u=new Date(n),f=new Date(t),e,o,s,h,c,l,a,v,y,p,w,b;return r.toLowerCase()=="days"?(e=Math.floor(Math.floor(n.getDate()/i)*i),u=new Date(n.getFullYear(),n.getMonth(),e,0,0,0),o=Math.floor(t.getDate()+i+(i-(t.getTime()-u.getTime())/864e5%i)),f=new Date(t.getFullYear(),t.getMonth(),o,0,0,0)):r.toLowerCase()=="hours"?(s=Math.floor(Math.floor(n.getHours()/i)*i),u=new Date(n.getFullYear(),n.getMonth(),n.getDate(),s,0,0),h=Math.floor(t.getHours()+i+(i-(t.getTime()-u.getTime())/20736e5%i)),f=new Date(t.getFullYear(),t.getMonth(),t.getDate(),h,0,0,0)):r.toLowerCase()=="milliseconds"?(c=Math.floor(Math.floor(n.getMilliseconds()/i)*i),u=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),c),l=Math.floor(t.getMilliseconds()+i+(i-(t.getTime()-u.getTime())/746496e10%i)),f=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),l)):r.toLowerCase()=="seconds"?(a=Math.floor(Math.floor(n.getSeconds()/i)*i),u=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),a,0),v=Math.floor(t.getSeconds()+i+(i-(t.getTime()-u.getTime())/746496e7%i)),f=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),v,0)):r.toLowerCase()=="minutes"?(y=Math.floor(Math.floor(n.getMinutes()/i)*i),u=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),y,0,0),p=Math.floor(t.getMinutes()+i+(i-(t.getTime()-u.getTime())/124416e6%i)),f=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),p,0,0)):r.toLowerCase()=="months"?(w=Math.floor(Math.floor(n.getMonth()/i)*i),u=new Date(n.getFullYear(),w,n.getDate(),0,0,0),f=new Date(t.getFullYear(),t.getMonth(),0,0,0,0)):r.toLowerCase()=="years"&&(b=Math.floor(Math.floor(n.getFullYear()/i)*i),u=new Date(b,n.getMonth(),n.getDate(),0,0,0),f=new Date(t.getFullYear(),t.getMonth(),0,0,0,0)),{sResult:u,eResult:f}},_increaseDateTimeInterval:function(n,t,i){var r=new Date(n);return i.toLowerCase()=="days"?r.setDate(n.getDate()+t):i.toLowerCase()=="hours"?r.setHours(n.getHours()+t):i.toLowerCase()=="milliseconds"?r.setMilliseconds(n.getMilliseconds()+t):i.toLowerCase()=="seconds"?r.setSeconds(n.getSeconds()+t):i.toLowerCase()=="minutes"?r.setMinutes(n.getMinutes()+t):i.toLowerCase()=="months"?r.setMonth(n.getMonth()+t):i.toLowerCase()=="years"&&r.setYear(n.getFullYear()+t),r},_calculatePadding:function(n){var t=Date.parse(n.range.min),i=Date.parse(n.range.max),k=Date.parse(this._increaseDateTimeInterval(n.range.min,n.range.interval,n.intervalType))-Date.parse(n.range.min),w,u,o,f,r,e,s,c,v,h,b,l,y,a,p;if(!this.chartObj.zoomed&&!n.setRange)if(t=new Date(n.range.min),i=new Date(n.range.max),w=n.intervalType.toLowerCase(),n.rangePadding.toLowerCase()=="none")t=Date.parse(t),i=Date.parse(i);else if(n.rangePadding.toLowerCase()=="additional"||n.rangePadding.toLowerCase()=="round")switch(w){case"years":u=t.getFullYear()/n.range.interval*n.range.interval,o=i.getFullYear()+(t.getFullYear()-u),u<=0&&(u=1),o<=0&&(o=1),n.rangePadding.toLowerCase()=="additional"?(t=Date.parse(new Date(u-n.range.interval,1,1,0,0,0)),i=Date.parse(new Date(o+n.range.interval,1,1,0,0,0))):(t=Date.parse(new Date(u,1,1,0,0,0)),i=Date.parse(new Date(o,1,1,0,0,0)));break;case"months":f=t.getMonth()/n.range.interval*n.range.interval,f<=0&&(f=1),r=i.getMonth()+(t.getMonth()-f),r<=0&&(r=1),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),f,1,0,0,0)),i=Date.parse(new Date(i.getFullYear(),r,r==2?28:30,0,0,0))):(t=Date.parse(new Date(t.getFullYear(),f+-n.range.interval,1,0,0,0)),i=Date.parse(new Date(i.getFullYear(),r+n.range.interval,r==2?28:30,0,0,0)));break;case"days":e=t.getDate()/n.range.interval*n.range.interval,e<=0&&(e=1),s=i.getDate()+(t.getDate()-e),s<=0&&(s=1),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),e,0,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),s,0,0,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),e+-n.range.interval,0,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),s+n.range.interval,0,0,0)));break;case"hours":c=t.getHour()/n.range.interval*n.range.interval,v=i.getHour()+(t.getHour()-c),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),c,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),v,0,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),c+-n.range.interval,0,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),v+n.range.interval,0,0)));break;case"minutes":h=t.getMinute()/n.range.interval*n.range.interval,b=i.getMinute()+(t.getMinute()-h),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),h,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),b,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),h+-n.range.interval,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),h+n.range.interval,0)));break;case"seconds":l=t.getSecond()/n.range.interval*n.range.interval,y=i.getSecond()+(t.getSecond()-l),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),l,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),y,0))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),l+-n.range.interval,0)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),y+n.range.interval,0)));break;case"milliseconds":a=t.getMilliseconds()/n.range.interval*n.range.interval,p=i.getMilliseconds()+(t.getMilliseconds()-a),n.rangePadding.toLowerCase()=="round"?(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),t.getSecond(),a)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),i.getSecond(),p))):(t=Date.parse(new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),t.getMinute(),t.getSecond(),a+-n.range.interval)),i=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinute(),i.getSecond(),p+n.range.interval)))}n.actualRange.interval=k,n.actualRange.min=t,n.actualRange.max=i,n._intervalType=n.intervalType,n._interval=n.range.interval,n.actualRange.Delta=n.actualRange.max-n.actualRange.min,n.range.min=new Date(t),n.range.max=new Date(i),this._calculateVisibleRange(n)},_calculateVisibleRange:function(n){var o;if(n.visibleRange=$.extend(!0,{},n.actualRange),n._intervalType=n.intervalType,n.zoomFactor<1||n.zoomPosition>0){var i=n.actualRange,t=n.actualRange.min+n.zoomPosition*n.actualRange.Delta,r=t+n.zoomFactor*n.actualRange.Delta;t<i.min&&(r=r+(i.min-t),t=i.min),r>i.max&&(t=t-(r-i.max),r=i.max);var f=new Date(t),e=new Date(r),u=this.CalculateDateTimeNiceInterval(n,f,e);n.visibleRange.min=Date.parse(f),n.visibleRange.max=Date.parse(e),o=Date.parse(this._increaseDateTimeInterval(f,u.interval,u.intervalType))-n.visibleRange.min,n._intervalType=u.intervalType,n.visibleRange.interval=o,n._interval=u.interval}},_calculateAxisLabels:function(n){for(var t=n.visibleRange.min,f,i,e,r,u,o,s;t<=n.visibleRange.max;)t>=n.visibleRange.min&&t<=n.visibleRange.max&&n.labelsCollection.push({Value:t,Text:Globalize.format(new Date(t),ej.util.isNullOrUndefined(n.labelFormat)?this.chartObj.svgRenderer.dateTimeLabelFormat(n._intervalType):n.labelFormat)}),t=Date.parse(this._increaseDateTimeInterval(new Date(t),n._interval,n._intervalType)),f=$.extend({},SfSvgRender.commonChartEventArgs),f.Data={Label:n.labelsCollection[n.labelsCollection.length-1],Axis:n},this.chartObj._trigger("axesLabelRendering",f.Data),n.labelsCollection[n.labelsCollection.length-1]=f.Data.Label;for(i={width:0,height:0},e="",r=0;r<n.labelsCollection.length;r++)u=this.chartObj.svgRenderer.measureText(n.labelsCollection[r].Text,$(this.chartObj.svgObject).width(),n.font),i.width<u.width&&(i.width=u.width,e=n.labelsCollection[r].Text),i.height<u.height&&(i.height=u.height);ej.util.isNullOrUndefined(n.labelRotation)||n.labelRotation==0||n.orientation.toLowerCase()!="horizontal"||(o={"font-size":n.font.size,transform:"rotate("+n.labelRotation+",0,0)","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"text-anchor":"middle"},s=this.chartObj.svgRenderer.createText(o,e),i.height=Math.ceil(this.chartObj.svgRenderer.measureBounds(s,this.chartObj).height)),n._LableMaxWidth=i},CalculateDateTimeNiceInterval:function(n,t,i){var u=Math.ceil(Math.abs((t.getTime()-i.getTime())/864e5)),r=this.CalculateNumericNiceInterval(u/365,n),f,e,o,s;return r>=1?{interval:r,intervalType:"Years"}:(r=this.CalculateNumericNiceInterval(u/30,n),r>=1)?{interval:r,intervalType:"Months"}:(r=this.CalculateNumericNiceInterval(u,n),r>=1)?{interval:r,intervalType:"Days"}:(f=u*24,r=this.CalculateNumericNiceInterval(f,n),r>=1)?{interval:r,intervalType:"Hours"}:(e=u*1440,r=this.CalculateNumericNiceInterval(e,n),r>=1)?{interval:r,intervalType:"Minutes"}:(o=u*86400,r=this.CalculateNumericNiceInterval(o,n),r>=1)?{interval:r,intervalType:"Seconds"}:(s=u/24*36e5,r=this.CalculateNumericNiceInterval(s,n),r>=1?{interval:r,intervalType:"Milliseconds"}:void 0)},CalculateNumericNiceInterval:function(n,t){for(var f=this.GetActualDesiredIntervalsCount(t,t.length),i=n/f,o=Math.pow(10,Math.floor(this.chartObj.svgRenderer.logBase(i,10))),e=[10,5,2,1],u,r=0;r<e.length;r++){if(u=o*e[r],f<n/u)return i;i=u}return i},GetActualDesiredIntervalsCount:function(n,t){if(ej.util.isNullOrUndefined(n.desiredIntervals)){var i=(n.orientation.toLowerCase()=="horizontal"?.8:1)*2;return i=Math.max(t*(i/100),1),n.desiredIntervals=i,i}return n.desiredIntervals},_calculateRange:function(n,t){var o,c,l,a,v,u,e,r,f,i,s,p,h,y;if(!this.chartObj.zoomed)if(o=new Date,t.length>0&&t[0].points.length>0){for(u=0;u<t.length;u++)if(t[u].points.length>0&&t[u].type.toLowerCase()!=="pie"&&t[u].visibility.toLowerCase()==="visible"&&t[u].points.length>0){for(v=c=t[u].points[0].X,a=l=t[u].points[0].YValues[0],e=0;e<t[u].points.length;e++)v>t[u].points[e].X&&(v=t[u].points[e].X),c<t[u].points[e].X&&(c=t[u].points[e].X),l>t[u].points[e].YValues[0]&&(l=t[u].points[e].YValues[0]),a<t[u].points[e].YValues[0]&&(a=t[u].points[e].YValues[0]);t[u].minX=v,t[u].maxX=c,t[u].minY=l,t[u].maxY=a}for(r={maxX:null,minX:null},f={maxY:null,minY:null},i=0;i<t.length;i++)t[i].type.toLowerCase()!=="pie"&&t[i].visibility.toLowerCase()==="visible"&&((r.minX=r.minX==null&&jQuery.type(t[i].minX)=="date"?t[i].minX:r.minX)>t[i].minX&&(r.minX=jQuery.type(t[i].minX)=="date"?t[i].minX:r.minX),(r.maxX=r.maxX==null&&jQuery.type(t[i].maxX)=="date"?t[i].maxX:r.maxX)<t[i].maxX&&(r.maxX=jQuery.type(t[i].maxX)=="date"?t[i].maxX:r.maxX),(f.minY=f.minY==null&&jQuery.type(t[i].maxX)=="date"?t[i].minY:f.minY)>t[i].minY&&(f.minY=jQuery.type(t[i].minY)=="date"?t[i].minY:f.minY),(f.maxY=f.maxY==null&&jQuery.type(t[i].maxX)=="date"?t[i].maxY:f.maxY)<t[i].maxY&&(f.maxY=jQuery.type(t[i].maxY)=="date"?t[i].min:f.maxY));n.orientation.toLowerCase()=="horizontal"&&(n.setRange?(ej.util.isNullOrUndefined(n.actual_Range)&&(typeof n.range.min=="string"&&n.range.min.indexOf("/Date(")!=-1&&(n.range.min=new Date(parseInt(n.range.min.substr(6)))),typeof n.range.max=="string"&&n.range.max.indexOf("/Date(")!=-1&&(n.range.max=new Date(parseInt(n.range.max.substr(6)))),n.actual_Range=$.extend(!0,{},n.range),n.interval_Type=n.intervalType,n.setRange=!0),n.range={min:n.actual_Range.min,max:n.actual_Range.max,interval:n.actual_Range.interval},n.intervalType=n.interval_Type):(r.minX=r.minX==null?o:r.minX,r.maxX=r.maxX==null?new Date((new Date).setMonth(o.getMonth()+5)):r.maxX,s=this.CalculateDateTimeNiceInterval(n,r.minX,r.maxX),p=this.AlignRangeStart(r.minX,r.maxX,s.interval,s.intervalType),n.range={min:p.sResult,max:r.maxX,interval:s.interval},n.intervalType=s.intervalType)),n.orientation.toLowerCase()=="vertical"&&(n.setRange?(ej.util.isNullOrUndefined(n.actual_Range)&&(typeof n.range.min=="string"&&n.range.min.indexOf("/Date(")!=-1&&(n.range.min=new Date(parseInt(n.range.min.substr(6)))),typeof n.range.max=="string"&&n.range.max.indexOf("/Date(")!=-1&&(n.range.max=new Date(parseInt(n.range.max.substr(6)))),n.actual_Range=$.extend(!0,{},n.range),n.interval_Type=n.intervalType,n.setRange=!0),n.range={min:n.actual_Range.min,max:n.actual_Range.max,interval:n.actual_Range.interval},n.intervalType=n.interval_Type):(f.minY=r.minY==null?o:f.minY,f.maxY=r.maxY==null?new Date((new Date).setMonth(o.getMonth()+5)):f.maxY,h=this.CalculateDateTimeNiceInterval(n,f.minY,f.maxY),y=this.AlignRangeStart(f.minY,f.maxY,h.interval,h.intervalType),n.range={min:y.sResult,max:y.eResult,interval:h.interval},n.intervalType=h.intervalType))}else n.setRange||(n.range={min:o,max:new Date((new Date).setMonth(o.getMonth()+5)),interval:1},n.intervalType="Months")},_calculateRanges:function(n,t,i){this.chartObj=n,this._calculateRange(t,i),this._calculatePadding(t),this._calculateAxisLabels(t)}},sfDateTimeValue=sfExtendClass(SfAxisRenderer),axisTypes.datetime=sfDateTimeValue,sfDoubleValue=sfExtendClass(SfAxisRenderer,{_calculateRange:function(n,t,i){var s,c,h,l,f,e,o,r,u,a,v,y,p;if(!n.zoomed)if(i.length>0&&i[0].points.length>0){for(h=s=i[0].points[0].X,l=c=i[0].points[0].YValues[0],f=0;f<i.length;f++)if(i[f].points.length>0)if(typeof i[f].points[0].X!="string"||t.orientation.toLowerCase()!="horizontal"||n.model.isPieSeries){if(t.labels.length!=0)for(o=0;o<t.labels.length;o++)i[f].points[o].X=t.labelPlacement===null||t.labelPlacement===undefined?.5+o:t.labelPlacement.toLowerCase()=="betweenticks"?.5+o:o}else for(t.labels=[],e=0;e<i[f].points.length;e++)t.labels.push(i[f].points[e].X),i[f].points[e].X=t.labelPlacement===null||t.labelPlacement===undefined?.5+e:t.labelPlacement.toLowerCase()=="betweenticks"?.5+e:e;for(r=0;r<i.length;r++)if(t.labels.length==0){if(i[r].type.toLowerCase()!=="pie"&&i[r].visibility.toLowerCase()==="visible")for(u=0;u<i[r].points.length;u++)h>i[r].points[u].X&&(h=i[r].points[u].X),s<i[r].points[u].X&&(s=i[r].points[u].X),!(i[r].points[u].YValues===null||i[r].points[u].YValues===undefined)&&c>i[r].points[u].YValues[0]&&(c=i[r].points[u].YValues[0]),!(i[r].points[u].YValues===null||i[r].points[u].YValues===undefined)&&l<i[r].points[u].YValues[0]&&(l=i[r].points[u].YValues[0])}else h=0,s=t.labels.length-1+(t.labelPlacement===null||t.labelPlacement===undefined?.5:0);a=s-h,v=l-c,t.orientation.toLowerCase()=="horizontal"&&(y=this.CalculateNumericNiceInterval(a,t),!t.setRange||t.labels.length>0?t.range={min:h,max:s,interval:y,Delta:a}:(ej.util.isNullOrUndefined(t.actual_Range)&&(t.actual_Range=$.extend(!0,{},t.range),t.setRange=!0),t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:t.actual_Range.interval,Delta:t.actual_Range.max-t.actual_Range.min})),t.orientation.toLowerCase()=="vertical"&&(p=this.CalculateNumericNiceInterval(v,t),t.setRange?(ej.util.isNullOrUndefined(t.actual_Range)&&(t.actual_Range=$.extend(!0,{},t.range),t.setRange=!0),t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:t.actual_Range.interval,Delta:t.actual_Range.max-t.actual_Range.min}):t.range={min:c,max:l,interval:p,Delta:v})}else t.setRange||(t.range={min:0,max:5,interval:1,Delta:4})},_calculatePadding:function(n,t,i){var u=i.min,e=i.max,r,o,f;t.setRange||n.zoomed||t.labels.length==0&&(t.rangePadding.toLowerCase()=="normal"?(r=0,u=i.min,u<0?(u=0,r=i.min+i.min/20,o=i.interval+r%i.interval,.365*i.interval>=o&&(r-=i.interval),r%i.interval<0&&(r=r-i.interval-r%i.interval)):(r=i.min<5/6*i.max?0:i.min-(i.max-i.min)/2,r%i.interval>0&&(r-=r%i.interval)),f=e+(e-u)/20,o=i.interval-f%i.interval,.365*i.interval>=o&&(f+=i.interval),f%i.interval>0&&(f=f+i.interval-f%i.interval),i.interval=this.CalculateNumericNiceInterval(f-r,t),u=ej.util.isNullOrUndefined(t.roundingPlaces)?parseFloat(r.toFixed(n.svgRenderer.decimalPlaces(i.interval)==0?1:n.svgRenderer.decimalPlaces(i.interval))):parseFloat(r.toFixed(t.roundingPlaces)),e=ej.util.isNullOrUndefined(t.roundingPlaces)?parseFloat(f.toFixed(n.svgRenderer.decimalPlaces(i.interval)==0?1:n.svgRenderer.decimalPlaces(i.interval))):parseFloat(f.toFixed(t.roundingPlaces))):(t.rangePadding.toLowerCase()=="additional"||t.rangePadding.toLowerCase()=="round")&&(u=Math.floor(u/i.interval)*i.interval,e=Math.ceil(e/i.interval)*i.interval,t.rangePadding.toLowerCase()=="additional"&&(u-=i.interval,e+=i.interval))),t.actualRange.min=u,t.actualRange.max=e,t.actualRange.interval=i.interval,t.range.min=u,t.range.max=e,t.range.interval=i.interval,t.actualRange.Delta=e-u,this._calculateVisibleRange(t)},_calculateVisibleRange:function(n){var u,f;if(n.visibleRange=$.extend(!0,{},n.actualRange),n.zoomFactor<1||n.zoomPosition>0){var r=n.actualRange,t=n.actualRange.min+n.zoomPosition*n.actualRange.Delta,i=t+n.zoomFactor*n.actualRange.Delta;t<r.min&&(i=i+(r.min-t),t=r.min),i>r.max&&(t=t-(i-r.max),i=r.max),u=i-t,n.visibleRange.interval=this.CalculateNumericNiceInterval(u,n),f=ej.util.isNullOrUndefined(n.roundingPlaces)?this.chartObj.svgRenderer.decimalPlaces(n.visibleRange.interval)==0?1:this.chartObj.svgRenderer.decimalPlaces(n.visibleRange.interval):n.roundingPlaces,n.visibleRange.interval=parseFloat(n.visibleRange.interval.toFixed(f)),n.visibleRange.min=t,n.visibleRange.max=i,n.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed}},_calculateAxisLabels:function(n,t){var i,o,s,e,r,h,u,f,c,l;for(t.labels.length>1&&(n.zoomed||t.zoomed?(t.visibleRange.interval=1,t.visibleRange.min=Math.floor(t.visibleRange.min),t.visibleRange.max=Math.ceil(t.visibleRange.max)):(t.labelPlacement=ej.util.isNullOrUndefined(t.labelPlacement)?"BetweenTicks":t.labelPlacement,t.visibleRange.interval=1,t.visibleRange.min=0,t.visibleRange.max=t.labelPlacement.toLowerCase()=="betweenticks"?t.labels.length:t.labels.length-1,i=t.visibleRange.min)),i=n.zoomed||t.zoomed||!t.setRange?t.visibleRange.min-t.visibleRange.min%t.visibleRange.interval:t.visibleRange.min;i<=t.visibleRange.max;i+=t.visibleRange.interval)i=ej.util.isNullOrUndefined(t.roundingPlaces)?parseFloat(i.toFixed(this.chartObj.svgRenderer.decimalPlaces(t.visibleRange.interval)==0?1:this.chartObj.svgRenderer.decimalPlaces(t.visibleRange.interval))):parseFloat(i.toFixed(t.roundingPlaces)),this.chartObj.svgRenderer.inside(i,t.visibleRange)&&(t.labels.length>1?i<t.labels.length&&t.labelsCollection.push({Value:i,Text:t.labels[Math.floor(i)]}):(o=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}"),s=ej.util.isNullOrUndefined(t.labelFormat)?i:o!=null?t.labelFormat.replace("{value}",i):Globalize.format(i,t.labelFormat),t.labelsCollection.push({Value:i,Text:s})),e=$.extend({},SfSvgRender.commonChartEventArgs),e.Data={Label:t.labelsCollection[t.labelsCollection.length-1],Axis:t},n._trigger("axesLabelRendering",e.Data),t.labelsCollection[t.labelsCollection.length-1]=e.Data.Label);for(r={width:0,height:0},u=0;u<t.labelsCollection.length;u++)f=n.svgRenderer.measureText(t.labelsCollection[u].Text,$(this.svgObject).width(),t.font,t.labelRotation),r.width<f.width&&(r.width=f.width,h=t.labelsCollection[u].Text),r.height<f.height&&(r.height=f.height);ej.util.isNullOrUndefined(t.labelRotation)||t.labelRotation==0||t.orientation.toLowerCase()!="horizontal"||(c={"font-size":t.font.size,transform:"rotate("+t.labelRotation+",0,0)","font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"text-anchor":"middle"},l=n.svgRenderer.createText(c,h),r.height=Math.ceil(n.svgRenderer.measureBounds(l,n).height)),t._LableMaxWidth=r},_calculateRanges:function(n,t,i){this.chartObj=n,this._calculateRange(n,t,i),this._calculatePadding(n,t,t.range),this._calculateAxisLabels(n,t)}}),axisTypes.double=sfDoubleValue,SfAxisRenderer.prototype={_drawAxes:function(n,t){t.orientation.toLowerCase()=="horizontal"&&(this._drawXAxisGridLine(n,t),this._drawXAxisLabels(n,t),this._drawXTitle(n,t)),t.orientation.toLowerCase()=="vertical"&&(this._drawYAxisGridLine(n,t),this._drawYAxisLabels(n,t),this._drawYTitle(n,t))},_drawXAxisGridLine:function(n,t){var b="",k="",d=" ",g=" ",nt=syncfusion.getStringBuilder(),tt=syncfusion.getStringBuilder(),it=syncfusion.getStringBuilder(),rt=syncfusion.getStringBuilder(),f=0,a=0,r=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid_"+n}),ut,ft,i,v,y,e,p,c,et,s,ot,u,st,h,ht,ct,lt,at;for((!ej.util.isNullOrUndefined(t.minorGridLines)&&t.minorTickLines.visible||!ej.util.isNullOrUndefined(t.majorGridLines)&&t.majorTickLines.visible)&&(ut={id:this.svgObject.id+"_XAxisGrid_"+n+"_XTicksClipRect",x:t.Location.X1,y:t.opposedPosition?t.Location.Y1-t._LableMaxWidth.height-t.axisLine.lineWidth-t.majorTickLines.size:t.Location.Y1,width:t.Location.X2-t.Location.X1,height:t._LableMaxWidth.height+t.axisLine.lineWidth+t.majorTickLines.size,fill:"white","stroke-width":1,stroke:"transparent"},this.svgRenderer.drawClipPath(ut,r)),t.axisLine.visible&&(ft={id:this.svgObject.id+"_XAxisLine",x1:t.Location.X1,y1:t.Location.Y1,x2:t.Location.X2,y2:t.Location.Y2,"stroke-dasharray":t.axisLine.dashArray,"stroke-width":t.axisLine.lineWidth,stroke:t.axisLine.color},this.svgRenderer.drawLine(ft,r)),i=1,t.valueType=="datetime"?(i=t.visibleRange.min,v=t.visibleRange.max,y=0):(i=this.zoomed||t.zoomed||!t.setRange?t.visibleRange.min-t.visibleRange.min%t.visibleRange.interval:t.visibleRange.min,v=t.visibleRange.max,y=t.visibleRange.interval),e=0;i<=v;i+=y){if(i=ej.util.isNullOrUndefined(t.roundingPlaces)?parseFloat(i.toFixed(this.svgRenderer.decimalPlaces(t.visibleRange.interval)==0?1:this.svgRenderer.decimalPlaces(t.visibleRange.interval))):parseFloat(i.toFixed(t.roundingPlaces)),this.svgRenderer.inside(i,t.visibleRange)){if(i>t.visibleRange.max)break;if(!ej.util.isNullOrUndefined(t.minorGridLines)&&t.minorGridLines.visible||!ej.util.isNullOrUndefined(t.minorTickLines)&&t.minorTickLines.visible)for(p=0,c=Math.abs(i-t.visibleRange.interval);p<t.minorTicksPerInterval;p++)if(c+=t.visibleRange.interval/t.minorTicksPerInterval,c<i){var l=Math.ceil((c-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.X2-t.Location.X1)),w=0,o=$.extend({},SfSvgRender.commonChartEventArgs);o.Data={MoveTo:{X:l,Y:w+t.minorTickLines.size},LineTo:{X:l,Y:w},Value:i,GridLineType:"MinorTick",Axis:t},et=t.opposedPosition?t.Location.Y1-o.Data.MoveTo.Y:o.Data.MoveTo.Y+t.Location.Y1,!ej.util.isNullOrUndefined(t.minorTickLines)&&t.minorTickLines.visible&&nt.append("M "+(o.Data.MoveTo.X+t.Location.X1)+" "+et+" L "+(o.Data.LineTo.X+t.Location.X1)+" "+(o.Data.LineTo.Y+t.Location.Y1)+" "),s=$.extend({},SfSvgRender.commonChartEventArgs),s.Data={MoveTo:{X:l,Y:w},LineTo:{X:l,Y:this.model.m_AreaBounds.Height},Value:i,GridLineType:"MinorGridLine",Axis:t},ot=t.opposedPosition?t.Location.Y1-s.Data.MoveTo.Y:s.Data.MoveTo.Y+t.Location.Y1,tt.append("M "+(s.Data.MoveTo.X+t.Location.X1)+" "+ot+" L "+(s.Data.LineTo.X+t.Location.X1)+" "+this.model.m_AreaBounds.Y+" ")}if(t.majorTickLines.visible){if(t.hidePartialLabels&&(i==t.visibleRange.min||i==t.visibleRange.max)&&t.valueType!="datetime")continue;f=Math.ceil((i-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.X2-t.Location.X1)),u=$.extend({},SfSvgRender.commonChartEventArgs),u.Data={MoveTo:{X:f,Y:a+t.majorTickLines.size+t.axisLine.lineWidth/2},LineTo:{X:f,Y:a},Value:i,GridLineType:"MajorTick",Axis:t},st=t.opposedPosition?t.Location.Y1-u.Data.MoveTo.Y:u.Data.MoveTo.Y+t.Location.Y1,it.append("M "+(u.Data.MoveTo.X+t.Location.X1)+" "+st+" L "+(u.Data.LineTo.X+t.Location.X1)+" "+(u.Data.LineTo.Y+t.Location.Y1+(t.opposedPosition?-t.axisLine.lineWidth/2:t.axisLine.lineWidth/2))+" ")}if(i>=t.visibleRange.max)break;t.majorGridLines.visible&&(f=Math.ceil((i-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.X2-t.Location.X1)),h=$.extend({},SfSvgRender.commonChartEventArgs),h.Data={MoveTo:{X:f,Y:a},LineTo:{X:f,Y:this.model.m_AreaBounds.Height},Value:i,GridLineType:"MajorGridLine",Axis:t},rt.append("M "+(h.Data.MoveTo.X+t.Location.X1)+" "+(h.Data.MoveTo.Y+this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height)+" L "+(h.Data.LineTo.X+t.Location.X1)+" "+this.model.m_AreaBounds.Y+" "))}if(t.valueType=="datetime")if(e=t.hidePartialLabels&&(i==t.visibleRange.min||i==t.visibleRange.max)?e+2:e+1,e<t.labelsCollection.length)i=t.labelsCollection[e].Value;else break}!ej.util.isNullOrUndefined(t.minorTickLines)&&t.minorTickLines.visible&&(d=nt.toString(),ht={id:this.svgObject.id+"_XAxisMinorTicks",fill:"none","stroke-width":t.minorTickLines.lineWidth,stroke:t.minorTickLines.color,"stroke-dasharray":t.minorTickLines.dashArray,"clip-path":"url(#"+this.svgObject.id+"_XAxisGrid_"+n+"_XTicksClipRect)",d:d},this.svgRenderer.drawPath(ht,r)),!ej.util.isNullOrUndefined(t.minorGridLines)&&t.minorGridLines.visible&&(g=tt.toString(),ct={id:this.svgObject.id+"_XAxisMinorGridLines",fill:"none","stroke-width":t.minorGridLines.lineWidth,stroke:t.minorGridLines.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:g},this.svgRenderer.drawPath(ct,r)),!ej.util.isNullOrUndefined(t.majorTickLines)&&t.majorTickLines.visible&&(k=it.toString(),lt={id:this.svgObject.id+"_XAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.lineWidth,stroke:t.majorTickLines.color,"clip-path":"url(#"+this.svgObject.id+"_XAxisGrid_"+n+"_XTicksClipRect)",d:k},this.svgRenderer.drawPath(lt,r)),b=rt.toString(),t.majorGridLines.visible&&(at={id:this.svgObject.id+"_XAxisMajorGridLines",fill:"none","stroke-width":t.majorGridLines.lineWidth,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:b},this.svgRenderer.drawPath(at,r)),$(r).appendTo(this.gXaxisEle)},_drawYAxisGridLine:function(n,t){var y="",p="",w="",b="",k=syncfusion.getStringBuilder(),d=syncfusion.getStringBuilder(),g=syncfusion.getStringBuilder(),nt=syncfusion.getStringBuilder(),r=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid_"+n}),tt,it,rt,i,v,h,u,a,f,ut,e,o,ft,et,ot,st;for(t.axisLine.visible&&(tt={id:this.svgObject.id+"_YAxisLine",x1:t.Location.X1,y1:t.Location.Y1,x2:t.Location.X2,y2:t.Location.Y2,"stroke-width":t.axisLine.lineWidth,"stroke-dasharray":t.axisLine.dashArray,stroke:t.axisLine.color},this.svgRenderer.drawLine(tt,r)),ej.util.isNullOrUndefined(t.axisBottomLine)||t.axisBottomLine.visible&&(it={id:this.svgObject.id+"_YAxisBottomLine",x1:this.model.m_AreaBounds.X,y1:t.Location.Y1,x2:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width,y2:t.Location.Y1,"stroke-width":t.axisBottomLine.lineWidth,stroke:t.axisBottomLine.color},this.svgRenderer.drawLine(it,r)),(!ej.util.isNullOrUndefined(t.minorGridLines)&&t.minorTickLines.visible||!ej.util.isNullOrUndefined(t.majorGridLines)&&t.majorTickLines.visible)&&(rt={id:this.svgObject.id+"_YAxisGrid_"+n+"_YTicksClipRect",x:t.opposedPosition?t.Location.X2:t.Location.X1-t._LableMaxWidth.width-t.majorTickLines.size-t.axisLine.lineWidth,y:t.Location.Y2,width:t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.lineWidth,height:t.Location.Y1-t.Location.Y2,fill:"white","stroke-width":1,stroke:"transparent"},this.svgRenderer.drawClipPath(rt,r)),i=this.zoomed||t.zoomed||!t.setRange?t.visibleRange.min-t.visibleRange.min%t.visibleRange.interval:t.visibleRange.min;i<=t.visibleRange.max;i+=t.visibleRange.interval)if(i=ej.util.isNullOrUndefined(t.roundingPlaces)?parseFloat(i.toFixed(this.svgRenderer.decimalPlaces(t.visibleRange.interval)==0?1:this.svgRenderer.decimalPlaces(t.visibleRange.interval))):parseFloat(i.toFixed(t.roundingPlaces)),this.svgRenderer.inside(i,t.visibleRange)){if(i>t.visibleRange.max)break;if(!ej.util.isNullOrUndefined(t.minorGridLines)&&t.minorGridLines.visible||!ej.util.isNullOrUndefined(t.minorTickLines)&&t.minorTickLines.visible)for(v=0,h=Math.abs(i-t.visibleRange.interval);v<t.minorTicksPerInterval;v++)if(h+=t.visibleRange.interval/t.minorTicksPerInterval,h<i){var c=0,l=(h-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.Y1-t.Location.Y2),ht=t.opposedPosition?c+t.minorTickLines.size:c-t.minorTickLines.size,s=$.extend({},SfSvgRender.commonChartEventArgs);s.Data={MoveTo:{X:ht,Y:l*-1},LineTo:{X:c,Y:l*-1},Value:i,GridLineType:"MinorTick",Axis:t},!ej.util.isNullOrUndefined(t.minorTickLines)&&t.minorTickLines.visible&&k.append("M "+(s.Data.MoveTo.X+t.Location.X1)+" "+(s.Data.MoveTo.Y+t.Location.Y1)+" L "+(s.Data.LineTo.X+t.Location.X1)+" "+(s.Data.LineTo.Y+t.Location.Y1)+" "),u=$.extend({},SfSvgRender.commonChartEventArgs),u.Data={MoveTo:{X:c,Y:l*-1},LineTo:{X:this.model.m_AreaBounds.Width,Y:l*-1},Value:i,GridLineType:"MinorGridLine",Axis:t},d.append("M "+(u.Data.MoveTo.X+this.model.m_AreaBounds.X)+" "+(u.Data.MoveTo.Y+t.Location.Y1)+" L "+(u.Data.LineTo.X+this.model.m_AreaBounds.X)+" "+(u.Data.LineTo.Y+t.Location.Y1)+" ")}if(!ej.util.isNullOrUndefined(t.majorTickLines)&&t.majorTickLines.visible){if(t.hidePartialLabels&&(i==t.visibleRange.min||i==t.visibleRange.max))continue;a=0,e=(i-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.Y1-t.Location.Y2),f=$.extend({},SfSvgRender.commonChartEventArgs),ut=t.opposedPosition?a+t.majorTickLines.size+t.axisLine.lineWidth/2:a-t.majorTickLines.size-t.axisLine.lineWidth/2,f.Data={MoveTo:{X:ut,Y:e*-1},LineTo:{X:a,Y:e*-1},Value:i,GridLineType:"MajorTick",Axis:t},g.append("M "+(f.Data.MoveTo.X+t.Location.X1)+" "+(f.Data.MoveTo.Y+t.Location.Y1)+" L "+(f.Data.LineTo.X+t.Location.X1+(t.opposedPosition?t.axisLine.lineWidth/2:-t.axisLine.lineWidth/2))+" "+(f.Data.LineTo.Y+t.Location.Y1)+" ")}if(i>t.visibleRange.max)continue;t.majorGridLines.visible&&(e=(i-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.Y1-t.Location.Y2),o=$.extend({},SfSvgRender.commonChartEventArgs),o.Data={MoveTo:{X:0,Y:e*-1},LineTo:{X:this.model.m_AreaBounds.Width,Y:e*-1},Value:i,GridLineType:"MajorGridLine",Axis:t},nt.append("M "+(o.Data.MoveTo.X+this.model.m_AreaBounds.X)+" "+(o.Data.MoveTo.Y+t.Location.Y1)+" L "+(o.Data.LineTo.X+this.model.m_AreaBounds.X)+" "+(o.Data.LineTo.Y+t.Location.Y1)+" "))}!ej.util.isNullOrUndefined(t.minorTickLines)&&t.minorTickLines.visible&&(w=k.toString(),ft={id:this.svgObject.id+"_YAxisMinorTicks",fill:"none","stroke-width":t.minorTickLines.lineWidth,stroke:t.minorTickLines.color,"clip-path":"url(#"+this.svgObject.id+"_YAxisGrid_"+n+"_YTicksClipRect)",d:w},this.svgRenderer.drawPath(ft,r)),!ej.util.isNullOrUndefined(t.minorGridLines)&&t.minorGridLines.visible&&(b=d.toString(),et={id:this.svgObject.id+"_YAxisMinorGridLines",fill:"none","stroke-width":t.minorGridLines.lineWidth,stroke:t.minorGridLines.color,"stroke-dasharray":t.minorGridLines.dashArray,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:b},this.svgRenderer.drawPath(et,r)),!ej.util.isNullOrUndefined(t.majorTickLines)&&t.majorTickLines.visible&&(p=g.toString(),ot={id:this.svgObject.id+"_YAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.lineWidth,stroke:t.majorTickLines.color,"clip-path":"url(#"+this.svgObject.id+"_YAxisGrid_"+n+"_YTicksClipRect)",d:p},this.svgRenderer.drawPath(ot,r)),y=nt.toString(),t.majorGridLines.visible&&(st={id:this.svgObject.id+"_YAxisMajorGridLines",fill:"none","stroke-width":t.majorGridLines.lineWidth,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,stroke:t.majorGridLines.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:y},this.svgRenderer.drawPath(st,r)),$(r).appendTo(this.gYaxisEle)},_drawXAxisLabels:function(n,t){var i,c,a,f,l;t.labelPlacement=ej.util.isNullOrUndefined(t.labelPlacement)?"BetweenTicks":t.labelPlacement;var v=t.labels.length>1&&t.labelPlacement.toLowerCase()=="betweenticks"?.5:0,s=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+n,"clip-path":"url(#"+this.svgObject.id+"_XLabelClipRect)"}),y={id:this.svgObject.id+"_XLabelClipRect",x:0,y:0,width:this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X+this.model.elementSpacing+this.model.margin.right,height:$(this.svgObject).height(),stroke:"transparent"};for(this.svgRenderer.drawClipPath(y,s),i=0;i<t.labelsCollection.length;i++){var r=t.labelsCollection[i],e=Math.abs(Math.floor((r.Value+v-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.X2-t.Location.X1))),p=this.svgRenderer.measureText(r.Text,this.model.m_AreaBounds.Width,t.font).width;if(!ej.util.isNullOrUndefined(r.Text)){var o=null,h=t.opposedPosition?t.Location.Y1-t.majorTickLines.size-t.axisLine.lineWidth/2-t._LableMaxWidth.height/2-5:t.Location.Y1+t.majorTickLines.size+t.axisLine.lineWidth/2+t._LableMaxWidth.height/2+5,u={id:this.svgObject.id+"_XLabel_"+i,x:e+t.Location.X1,y:t.opposedPosition?t.Location.Y1-t.majorTickLines.size-t.axisLine.lineWidth/2-t._LableMaxWidth.height/2-5:t.Location.Y1+t.majorTickLines.size+t.axisLine.lineWidth/2+t._LableMaxWidth.height/2+5,fill:t.font.color,"font-size":t.font.size,"font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"font-weight":t.font.fontWeight,opacity:t.font.opacity,"text-anchor":"middle"};if(t.hidePartialLabels&&(i==0||i==t.labelsCollection.length-1))continue;ej.util.isNullOrUndefined(t.labelRotation)||t.labelRotation==0||(c=t.labelRotation>360?t.labelRotation-360:t.labelRotation<-360?t.labelRotation+360:t.labelRotation,o="rotate("+c+","+(e+t.Location.X1)+","+h+")",$(u).attr("transform",o),a=this.svgRenderer.createText(u,r.Text),f=Math.ceil(this.svgRenderer.measureBounds(a,this).height-this.svgRenderer.measureText(r.Text).height),f=t._LableMaxWidth.height-f-this.svgRenderer.measureText(r.Text).height,l=t.opposedPosition?f/2:-f/2,o="rotate("+c+","+(e+t.Location.X1)+","+(h+l)+")",$(u).attr("transform",o),$(u).attr({y:h+l})),!this.zoomed&&!t.zoomed&&ej.util.isNullOrUndefined(t.labelRotation)&&e+t.Location.X1+p>$(this.svgObject).width()&&($(u).attr("x",$(this.svgObject).width()-2),$(u).attr("text-anchor","end")),this.svgRenderer.drawText(u,r.Text,s)}}$(s).appendTo(this.gXaxisEle)},_drawYAxisLabels:function(n,t){var r,i;for(t.labelPlacement=ej.util.isNullOrUndefined(t.labelPlacement)?"BetweenTicks":t.labelPlacement,r=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels_"+n}),i=0;i<t.labelsCollection.length;i++){var u=t.labelsCollection[i],f=Math.abs((u.Value-t.visibleRange.min)/(t.visibleRange.max-t.visibleRange.min)*(t.Location.Y1-t.Location.Y2)),e={id:this.svgObject.id+"_YLabel_"+i,x:t.opposedPosition?t.majorTickLines.size+t.axisLine.lineWidth/2+t.Location.X1+5:t.Location.X1-t.axisLine.lineWidth/2-5-t.majorTickLines.size,y:f*-1+t.Location.Y1+3,fill:t.font.color,"font-size":t.font.size,"font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"font-weight":t.font.fontWeight,opacity:t.font.opacity,"text-anchor":t.opposedPosition?"start":"end"};t.hidePartialLabels&&(i==0||i==t.labelsCollection.length-1)||this.svgRenderer.drawText(e,u.Text,r)}$(r).appendTo(this.gYaxisEle)},_drawXTitle:function(n,t){var r;if(t.title.text!=""&&t.title.text){var u=this.model.elementSpacing+t._LableMaxWidth.height,f=this.svgRenderer.measureText(t.title.text,t.Location.X2-t.Location.X1,t.title.font).height/2,i=$.extend({},SfSvgRender.commonChartEventArgs);i.Data={Title:t.title.text,Location:{X:(t.Location.X2-t.Location.X1)/2,Y:u+f+t.majorTickLines.size+t.axisLine.lineWidth},Axes:t},this._trigger("axesTitleRendering",i),r={id:this.svgObject.id+"_XAxisTitle_"+n,x:i.Data.Location.X+t.Location.X1,y:t.opposedPosition?t.Location.Y1-i.Data.Location.Y:i.Data.Location.Y+t.Location.Y1,fill:t.title.font.color,"font-size":t.title.font.size,"font-family":t.title.font.fontFamily,"font-style":t.title.font.fontStyle,"font-weight":t.title.font.fontWeight,opacity:t.title.font.opacity,"text-anchor":"middle","dominant-baseline":"middle"},$(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+n).length>0?$(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+n).attr(r):this.svgRenderer.drawText(r,i.Data.Title,this.gTitleEle)}},_drawYTitle:function(n,t){var r,u;if(t.title.text!=""&&t.title.text){var e=this.svgRenderer.measureText(t.title.text,t.Location.Y1-t.Location.Y2,t.title.font),f=t.opposedPosition?t.Location.X1+(3*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.lineWidth):t.Location.X1-(3*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.lineWidth),i=$.extend({},SfSvgRender.commonChartEventArgs);i.Data={Title:t.title.text,Location:{X:e.width/2,Y:0},Axes:t},this._trigger("axesTitleRendering",i),r=i.Data.Location.Y+t.Location.Y1+(t.Location.Y1-t.Location.Y2)/-2,u={id:this.svgObject.id+"_YAxisTitle_"+n,x:f,y:r,fill:t.title.font.color,transform:"rotate(-90,"+f+","+r+")","font-size":t.title.font.size,"font-family":t.title.font.fontFamily,"font-style":t.title.font.fontStyle,"font-weight":t.title.font.fontWeight,opacity:t.title.font.opacity,"text-anchor":"middle","dominant-baseline":"middle"},$(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+n).length>0?$(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+n).attr(u):this.svgRenderer.drawText(u,i.Data.Title,this.gTitleEle)}}},SfStripline.prototype={_drawStripline:function(n,t){var i=0,u=0,tt=0,r=0,c=0,a=0,f=0,l=0,e=0,o=0,s,v,h,p,w,b,k,d,g,nt,y,it,rt,ut;t.visible&&(s=t.zOrder=="over"?this.gStriplineOver:this.gStriplineBehind,v=!0,n.orientation.toLowerCase()=="horizontal"?(h=0,t.startFromAxis?(p=ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset,h=(p-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.X2-n.Location.X1)+n.Location.X1,l=(p+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.X2-n.Location.X1)):ej.util.isNullOrUndefined(t.start)&&(ej.util.isNullOrUndefined(t.end)||ej.util.isNullOrUndefined(t.width))?v=!1:(t.start=jQuery.type(t.start)=="date"?Date.parse(t.start):t.start,ej.util.isNullOrUndefined(t.end)||jQuery.type(t.end)!="date"||(t.end=Date.parse(t.end)),h=(t.start-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.X2-n.Location.X1)+n.Location.X1,w=(t.end-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.X2-n.Location.X1)+n.Location.X1,b=(t.start+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.X2-n.Location.X1)+n.Location.X1,l=w>b?w-h:b-h),f=l,u=this.chart.model.m_AreaBounds.Height,i=h,r=this.chart.model.m_AreaBounds.Y,tt=-90,k=this.svgRenderer.measureText(t.text).height,t.textAlignment=="middletop"?(e=i,o=Math.abs(r+u/2)):t.textAlignment=="middlecenter"?(e=Math.floor(i+f/2)+k/3,o=Math.abs(r+u/2)):t.textAlignment=="middlebottom"&&(e=i+f+k,o=Math.abs(r+u/2))):(t.startFromAxis?(d=ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset,c=n.Location.Y1-(d-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.Y1-n.Location.Y2),l=(d+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.Y1-n.Location.Y2),a=l):ej.util.isNullOrUndefined(t.start)&&(ej.util.isNullOrUndefined(t.end)||ej.util.isNullOrUndefined(t.width))?v=!1:(t.start=jQuery.type(t.start)=="date"?Date.parse(t.start):t.start,ej.util.isNullOrUndefined(t.end)||jQuery.type(t.end)!="date"||(t.end=Date.parse(t.end)),c=n.Location.Y1-(t.start-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.Y1-n.Location.Y2),g=n.Location.Y1-((ej.util.isNullOrUndefined(t.end)?0:t.end)-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.Y1-n.Location.Y2),nt=n.Location.Y1-(t.start+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/(n.visibleRange.max-n.visibleRange.min)*(n.Location.Y1-n.Location.Y2),a=g<nt?c-g:c-nt),u=a,i=this.chart.model.m_AreaBounds.X,f=this.chart.model.m_AreaBounds.Width,r=c-a,y=this.svgRenderer.measureText(t.text).height,t.textAlignment=="middletop"?(e=i+f/2,o=r-y/3):t.textAlignment=="middlecenter"?(e=i+f/2,o=Math.abs(r+u/2)+y/3):t.textAlignment=="middlebottom"&&(e=i+f/2,o=r+u+y/2)),v&&(ej.util.isNullOrUndefined(t.imageUrl)?(rt={id:s.id+"_striplineRect",x:i,y:r,width:f,height:u,fill:t.color,opacity:t.opacity,"stroke-width":t.borderWidth,stroke:t.borderColor},ut={id:s.id+"_striplineRectText",x:e,y:o,fill:t.font.color,transform:"rotate("+tt+","+e+","+o+")","font-size":t.font.size,"font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"font-weight":t.font.fontWeight,"text-anchor":"middle"},this.svgRenderer.drawRect(rt,s),this.svgRenderer.drawText(ut,t.text,s)):(it={height:u,width:f,href:t.imageUrl,x:i,y:r,id:s.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"},this.svgRenderer.drawImage(it,s))))}},SfLegendRender=function(n){this.chartObj=n},SfLegendRender.prototype={drawLegendItem:function(n,t,i){var e=this.chartObj.model.legend.itemSize,o={startX:t+e.width/2,startY:i},s={ShapeSize:e,Style:n.LegendStyle,Gradient:n.Gradient,SeriesIndex:n.SeriesIndex},u,h,r,c,f,l;for(name in this.chartObj.model.symbolShape)if(n.Shape.toLowerCase()==name.toLowerCase()){u=name;break}u=="None"&&(u="SeriesType"),h=ej.util.isNullOrUndefined(n.PointIndex)?n.SeriesIndex:n.PointIndex,this.chartObj.gLegendItemEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_Legend"+h}),r=$.extend({},SfSvgRender.commonChartEventArgs),r.Data={LegendItem:n,Location:o,Legend:!0,model:this.chartObj.model,svgRenderer:this.chartObj.svgRenderer,svgObject:this.chartObj.svgObject,SymbolShape:u,Style:s,gLegendItemEle:this.chartObj.gLegendItemEle},this.chartObj._trigger("legendItemRendering",r),SfSvgRender.chartSymbol["_draw"+r.Data.SymbolShape](r.Data.Location,r.Data.Style,r.Data,this.chartObj.gLegendItemEle),c=n.LegendStyle.Color.toLowerCase()!=="gray"?this.chartObj.model.legend.textOption.font.color:"gray",f={id:this.chartObj.svgObject.id+"_LegendItemText",x:e.width+t+this.chartObj.model.legend.itemPadding/2,y:r.Data.Location.startY,fill:c,"font-size":this.chartObj.model.legend.textOption.font.size,"font-style":this.chartObj.model.legend.textOption.font.fontStyle,"font-family":this.chartObj.model.legend.textOption.font.fontFamily,"font-weight":this.chartObj.model.legend.textOption.font.fontWeight,"text-anchor":"start"},l=jQuery.uaMatch(navigator.userAgent),l.browser.toLowerCase()=="msie"?$(f).attr("dy",".35em"):$(f).attr("dominant-baseline","middle"),this.chartObj.svgRenderer.drawText(f,r.Data.LegendItem.Text,this.chartObj.gLegendItemEle,"legenditem"),this.chartObj.svgRenderer.append(this.chartObj.gLegendItemEle,this.chartObj.gLegendEle);var a={X:this.chartObj.model.LegendBounds.X,Y:this.chartObj.model.LegendBounds.Y},v={X:t,Y:i},y={LegendBound:a,ItemBound:v},p={LegendItem:n,Location:o,SymbolShape:u,Style:s,Bounds:y};this.chartObj.model.legendRegion.push(p)},drawLegend:function(){var u,f,e,i,o,s,h,t,n,a;if(!ej.util.isNullOrUndefined(this.chartObj.model.legend)&&this.chartObj.model.legend.visible){this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.bottom?(this.chartObj.model.LegendBounds.Y=$(this.chartObj.svgObject).height()-this.chartObj.model.margin.bottom-this.chartObj.model.elementSpacing-5-this.chartObj.model.LegendBounds.Height,this.chartObj.model.LegendBounds.X=$(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendBounds.Width/2):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.top?(this.chartObj.model.LegendBounds.Y=this.chartObj.model._titleLocation.Y+this.chartObj.model.LegendBounds.Height/2-this.chartObj.model.elementSpacing,this.chartObj.model.LegendBounds.X=$(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendBounds.Width/2):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.right?(this.chartObj.model.LegendBounds.Y=$(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendBounds.Height/2,this.chartObj.model.LegendBounds.X=$(this.chartObj.svgObject).width()-this.chartObj.model.margin.right-this.chartObj.model.elementSpacing-this.chartObj.model.LegendBounds.Width):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.left?(this.chartObj.model.LegendBounds.Y=$(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendBounds.Height/2,this.chartObj.model.LegendBounds.X=this.chartObj.model.margin.left+this.chartObj.model.elementSpacing):this.chartObj.model.legend.location.Y<$(this.chartObj.svgObject).height()-this.chartObj.model.LegendBounds.Height&&this.chartObj.model.legend.location.X<$(this.chartObj.svgObject).width()-this.chartObj.model.LegendBounds.Width&&(this.chartObj.model.LegendBounds.Y=this.chartObj.model.legend.location.Y,this.chartObj.model.LegendBounds.X=this.chartObj.model.legend.location.X),this.chartObj.model.legend.position.toLowerCase()=="left"||this.chartObj.model.legend.position.toLowerCase()=="right"?this.chartObj.model.legend.position.toLowerCase()!="custom"&&(this.chartObj.model.LegendBounds.Y=this.chartObj.model.legend.alignment.toLowerCase()=="center"?$(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendBounds.Height/2:this.chartObj.model.legend.alignment.toLowerCase()=="near"?this.chartObj.model.m_Spacing.Top+this.chartObj.model.elementSpacing+this.chartObj.model.legend.itemPadding/2:$(this.chartObj.svgObject).height()-this.chartObj.model.m_Spacing.Bottom-this.chartObj.model.LegendBounds.Height-this.chartObj.model.elementSpacing-5):this.chartObj.model.legend.position.toLowerCase()!="custom"&&(this.chartObj.model.LegendBounds.X=this.chartObj.model.legend.alignment.toLowerCase()=="center"?$(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendBounds.Width/2:this.chartObj.model.legend.alignment.toLowerCase()=="near"?this.chartObj.model.m_Spacing.Left+this.chartObj.model.elementSpacing+this.chartObj.model.legend.itemPadding/2:$(this.chartObj.svgObject).width()-this.chartObj.model.m_Spacing.Right-this.chartObj.model.LegendBounds.Width-this.chartObj.model.elementSpacing-5),u=this.chartObj.model.LegendBounds.X,f=this.chartObj.model.LegendBounds.Y,$(this.chartObj.gLegendEle).attr("transform","translate("+u+","+f+")"),e={id:this.chartObj.svgObject.id+"_LegendArea",x:0,y:0,width:this.chartObj.model.LegendBounds.Width,height:this.chartObj.model.LegendBounds.Height,fill:"none","stroke-width":this.chartObj.model.legend.borderWidth,stroke:this.chartObj.model.legend.borderColor},this.chartObj.svgRenderer.drawRect(e,this.chartObj.gLegendEle),i=o=this.chartObj.model.legend.itemPadding,this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.top||this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.bottom?(h=(this.chartObj.model.LegendBounds.Height-(this.chartObj.model.LegendBounds.Rows+1)*this.chartObj.model.legend.itemPadding)/this.chartObj.model.LegendBounds.Rows,t=h+this.chartObj.model.legend.itemPadding*2):t=s=this.chartObj.model.legend.itemPadding*2;var r=0,c=1,l=1;for(n=0;n<this.chartObj.model.legendCollection.length;n++)this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.top||this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.bottom?i+this.chartObj.model.legendCollection[n].Bounds.Width>this.chartObj.model.LegendBounds.Width+o&&(i=this.chartObj.model.legend.itemPadding,r=t*c,a=(this.chartObj.model.LegendBounds.Height-(this.chartObj.model.LegendBounds.Rows+1)*this.chartObj.model.legend.itemPadding)/this.chartObj.model.LegendBounds.Rows,t=a+this.chartObj.model.legend.itemPadding*2,c++):t+this.chartObj.model.legendCollection[n].Bounds.Height>this.chartObj.model.LegendBounds.Height+s&&(t=this.chartObj.model.legend.itemPadding*2,i=this.chartObj.model.legendCollection[n].Bounds.Width*l+this.chartObj.model.legend.itemPadding,l++),this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.top||this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.bottom?(this.drawLegendItem(this.chartObj.model.legendCollection[n],i,t/2+3*(r/4)),i+=this.chartObj.model.legendCollection[n].Bounds.Width):(this.drawLegendItem(this.chartObj.model.legendCollection[n],i,t+r),t+=this.chartObj.model.legendCollection[n].Bounds.Height);this.chartObj.svgRenderer.append(this.chartObj.gLegendEle,this.chartObj.svgObject)}}},seriesTypes={},sfSeriesRender=function(){},sfSeriesRender.prototype={setLineSeriesStyle:function(n){var i=$.extend(!0,{},this.chartObj.model.seriesStyle,n.style),t=$.inArray(n,this.chartObj.model.series),r=this.chartObj.model.seriesColors[t],u=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(n)+t,r,0,0,0,$(this.chartObj.svgObject).height(),this.chartObj.gSeriesEle),f=this.chartObj.model.seriesBorderColors[t];return{SeriesStyle:i,SeriesInterior:u,SeriesBorder:f}},getSeriesName:function(n){return n.name?n.name.replace(/\s/g,""):"series"},setPieSeriesStyle:function(n,t){var r=$.extend(!0,this.chartObj.model.pointStyle,n.style),i=$.inArray(n,t.points),u=this.chartObj.model.pointColors[i],f=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,u,0,0,0,$(this.chartObj.svgObject).height(),this.chartObj.gSeriesEle);return{SeriesStyle:r,PointInterior:f}},improveChartPerformance:function(n){var e=[],o=0,s=0,a=n.xAxis.visibleRange.max-n.xAxis.visibleRange.min,v=n.yAxis.visibleRange.max-n.yAxis.visibleRange.min,r=Math.abs(a*1/this.chartObj.model.m_AreaBounds.Width),u=Math.abs(v*1/this.chartObj.model.m_AreaBounds.Height),h=n.xAxis.roundingPlaces===null||n.xAxis.roundingPlaces===undefined?2:n.xAxis.roundingPlaces,c=n.yAxis.roundingPlaces===null||n.yAxis.roundingPlaces===undefined?2:n.yAxis.roundingPlaces,i,t,l,f;for(r=parseFloat(r.toFixed(h)),u=parseFloat(u.toFixed(c)),i=0,t=0;t<n.points.length;t++)l=n.points[t].isEmpty===null||n.points[t].isEmpty===undefined?!1:n.points[t].isEmpty,n.points[t].visible=n.points[t].visible===null||n.points[t].visible===undefined?!0:n.points[t].visible,n.points[t].X===null||n.points[t].X===undefined?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].X=n.xAxis.visibleRange.min):n.points[t].isEmpty=l,n.points[t].YValues[0]==null||n.points[t].YValues[0]=="undefined"?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].YValues[0]=n.yAxis.visibleRange.min):(n.points[t].isEmpty=n.points[t].isEmpty,n.points[t].visible=!n.points[t].isEmpty),i=jQuery.type(n.points[t].X)=="date"?Date.parse(n.points[t].X):typeof n.points[t].X=="string"||n.points[t].X===null||n.points[t].X===undefined?n.points[t].X:parseFloat(n.points[t].X.toFixed(h)),f=parseFloat(n.points[t].YValues[0].toFixed(c)),(Math.abs(o-i)>=r||Math.abs(s-f)>=u)&&(e.push(n.points[t]),o=i,s=f);return e},_isVisiblePoints:function(n){for(var i,t=0;t<n.points.length;t++)i=ej.util.isNullOrUndefined(n.points[t].isEmpty)?!1:n.points[t].isEmpty,n.points[t].visible=ej.util.isNullOrUndefined(n.points[t].visible)?!0:n.points[t].visible,ej.util.isNullOrUndefined(n.points[t].X)?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].X=n.xAxis.visibleRange.min):n.points[t].isEmpty=i,n.points[t].YValues[0]==null||n.points[t].YValues[0]=="undefined"?(n.points[t].isEmpty=!0,n.points[t].visible=!1,ej.util.isNullOrUndefined(n.points[t].YValues)&&(n.points[t].YValues=[]),n.points[t].YValues[0]=n.yAxis.visibleRange.min):(n.points[t].isEmpty=n.points[t].isEmpty,n.points[t].visible=!n.points[t].isEmpty),jQuery.type(n.points[t].X)=="date"&&(n.points[t].X=Date.parse(n.points[t].X));return n.points},_pieVisiblePoints:function(n){for(var i=[],t=0;t<n.points.length;t++)point=n.points[t],ej.util.isNullOrUndefined(point.visible)&&(point.visible=!0),point.visible==!0&&point.x&&point.y&&i.push(point);return i},_drawHiloPath:function(n,t,i,r,u){var c={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(n)+"_"+u,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":t.borderWidth,stroke:i,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,d:r},l,f,e,o,s,h,a;this.chartObj.svgRenderer.drawPath(c,this.gSeriesHiloGroupEle),l=this.chartObj.svgRenderer.createPath(c),f=this.chartObj.svgRenderer.getPathBounds(l,this.chartObj),f.width==0?(o=f.x+n.xAxis.Location.X1-t.borderWidth/2,e=t.borderWidth+t.borderWidth/2):(o=f.x+n.xAxis.Location.X1,e=f.width),f.height==0?(s=f.y+n.yAxis.Location.Y1-t.borderWidth/2,h=t.borderWidth+t.borderWidth/2):(s=f.y+n.yAxis.Location.Y1,h=f.height),a={X:o,Y:s,Width:e,Height:h},this.chartObj.svgRenderer.addRegion(this.chartObj,a,n,null,u)},_drawPieSlice:function(n,t,i,r){var o=this._pieVisiblePoints(r),u=n,c=-.5*Math.PI,w=u.model.pieChartdata[t].startAngle+c,b=u.model.pieChartdata[t].endAngle+c,f=(w+b)/2,k,d,g,v,st,ht,nt,tt,it,rt,h,a,e,l,s,p,ct;t==r.explodeIndex||r.explodeAll?(u.model.startX[t]=u.model.centerX+Math.cos(f)*r.explodeOffset,u.model.startY[t]=u.model.centerY+Math.sin(f)*r.explodeOffset):(u.model.startX[t]=u.model.centerX,u.model.startY[t]=u.model.centerY);var ut=parseInt(u.model.startX[t]+u.model.pieRadius*Math.cos(w)),ft=parseInt(u.model.startY[t]+u.model.pieRadius*Math.sin(w)),et=parseInt(u.model.startX[t]+u.model.pieRadius*Math.cos(b)),ot=parseInt(u.model.startY[t]+u.model.pieRadius*Math.sin(b));if(i.YValues>u.model.sumofYValues/2||i.YValues==u.model.sumofYValues/2)if(i.YValues==u.model.sumofYValues){var y=(w+f)/2,nt=parseInt(u.model.startX[t]+u.model.pieRadius*Math.cos(y)),tt=parseInt(u.model.startY[t]+u.model.pieRadius*Math.sin(y)),lt=parseInt(u.model.startX[t]+u.model.pieRadius*Math.cos(f)),at=parseInt(u.model.startY[t]+u.model.pieRadius*Math.sin(f));y=(f+b)/2,st=parseInt(u.model.startX[t]+u.model.pieRadius*Math.cos(y)),ht=parseInt(u.model.startY[t]+u.model.pieRadius*Math.sin(y)),k="M"+u.model.startX[t]+", "+u.model.startY[t]+"L"+ut+","+ft+"  A"+u.model.pieRadius+","+u.model.pieRadius+" 0 0,1 "+nt+","+tt+"  A"+u.model.pieRadius+","+u.model.pieRadius+" 0 0,1 "+lt+","+at+"  A"+u.model.pieRadius+","+u.model.pieRadius+" 0 0,1 "+st+","+ht+"  A"+u.model.pieRadius+","+u.model.pieRadius+" 0 0,1 "+et+","+ot+" z"}else nt=parseInt(u.model.startX[t]+u.model.pieRadius*Math.cos(f)),tt=parseInt(u.model.startY[t]+u.model.pieRadius*Math.sin(f)),k="M"+u.model.startX[t]+", "+u.model.startY[t]+"L"+ut+","+ft+"  A"+u.model.pieRadius+","+u.model.pieRadius+" 0 0,1 "+nt+","+tt+"  A"+u.model.pieRadius+","+u.model.pieRadius+" 0 0,1 "+et+","+ot+" z";else k="M"+u.model.startX[t]+", "+u.model.startY[t]+"L"+ut+","+ft+"  A"+u.model.pieRadius+","+u.model.pieRadius+" 0 0,1 "+et+","+ot+" z";if(it=this.getXCordinate(u.model.startX[t],u.model.pieRadius,f),rt=this.getYCordinate(u.model.startY[t],u.model.pieRadius,f),h=ej.util.isNullOrUndefined(r.marker)||ej.util.isNullOrUndefined(r.marker.textOffset)?30:r.marker.textOffset,a=this.getXCordinate(u.model.startX[t],u.model.pieRadius+h/2,f),e=this.getYCordinate(u.model.startY[t],u.model.pieRadius+h/2,f),ej.util.isNullOrUndefined(r.labelPosition)||r.labelPosition.toLowerCase()!=="outside")o.length!==1?(l=(it+u.model.startX[t])/2,s=(rt+u.model.startY[t])/2,l=(it+l)/2,s=(rt+s)/2):(l=u.model.startX[t],s=u.model.startY[t]);else if(l=a,s=e,o.length!==1&&t<o.length/2){if(d=u.model.pieChartdata[t+1].startAngle+c,g=u.model.pieChartdata[t+1].endAngle+c,v=(d+g)/2,t!==0)var vt=u.model.pieChartdata[t-1].startAngle+c,yt=u.model.pieChartdata[t-1].endAngle+c,pt=(vt+yt)/2;s>=this.getYCordinate(u.model.startY[t],u.model.pieRadius+h/2,v)-u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height/2&&(t!==0&&s<this.getYCordinate(u.model.startY[t],u.model.pieRadius+h/2,pt)+u.svgRenderer.measureText(o[t-1].text,null,u.svgRenderer.getFontString(r.font)).height/2?(e=this.getYCordinate(u.model.startY[t],u.model.pieRadius+(h/2+2*u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height)/2,f),e>=this.getYCordinate(u.model.startY[t],u.model.pieRadius+(h/2+2*u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height)/2,v)-u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height&&(e-=u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height/2),s=e):t===0&&(e=this.getYCordinate(u.model.startY[t],u.model.pieRadius+(h/2+2*u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height),f),s=e))}else t<o.length-1?(d=u.model.pieChartdata[t+1].startAngle+c,g=u.model.pieChartdata[t+1].endAngle+c,v=(d+g)/2,s<this.getYCordinate(u.model.startY[t],u.model.pieRadius+h/2,v)+u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height/2&&(e=this.getYCordinate(u.model.startY[t],u.model.pieRadius+(h/2+2*u.svgRenderer.measureText(o[t+1].text,null,u.svgRenderer.getFontString(r.font)).height),f),s=e)):(e=this.getYCordinate(u.model.startY[t],u.model.pieRadius+(h/2+2*u.svgRenderer.measureText(o[t].text,null,u.svgRenderer.getFontString(r.font)).height),f),s=e);return ej.util.isNullOrUndefined(r.labelPosition)||r.labelPosition.toLowerCase()!=="outside"||(a<u.model.startX[t]?(p=a-10,l=p):(p=a+10,l=p),ct="M"+it+", "+rt+"L"+a+", "+e+"M"+a+", "+e+"L"+p+", "+e),{Connector:ct,PositionX:l,PositionY:s,Direction:k}},getXCordinate:function(n,t,i){return n+t*Math.cos(i)},getYCordinate:function(n,t,i){return n+t*Math.sin(i)},getDoubleRange:function(n,t){var i,r;n>t?(i=t,r=n):(i=n,r=t);var u=r-i,f=(i+r)/2,e=isNaN(i)||isNaN(r);return{Start:i,End:r,Delta:u,Median:f,IsEmpty:e}},getMinPointsDelta:function(){var n=this;return isNaN(n.m_minPointsDelta)&&(n.m_minPointsDelta=Number.MAX_VALUE,$.each(this.chartObj.model.series,function(t,i){var r,u;i.visibility.toLowerCase()=="visible"&&(r=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal(),r.length==1?(u=r[0].X-i.xAxis.visibleRange.min,u!=0&&(n.m_minPointsDelta=Math.min(n.m_minPointsDelta,u))):$.each(r,function(t,i){if(t>0){var u=i.X-r[t-1].X;u!=0&&(n.m_minPointsDelta=Math.min(n.m_minPointsDelta,u))}}))}),n.m_minPointsDelta==Number.MAX_VALUE&&(n.m_minPointsDelta=1)),n.m_minPointsDelta},isDependentSeries:function(n){return n.type.toLowerCase()==this.chartObj.model.seriesType.Candle||n.type.toLowerCase()==this.chartObj.model.seriesType.Column||n.type.toLowerCase()==this.chartObj.model.seriesType.Hilo||n.type.toLowerCase()==this.chartObj.model.seriesType.HiloOpenClose?!0:!1},getSideBySidePositions:function(n){var i=-1,t=0,r=this;return $.each(this.chartObj.model.series,function(u,f){r.isDependentSeries(f)&&(t++,f==n&&(i=t))}),{all:t,pos:i}},getSideBySideInfo:function(n){var u,f,e=this.getSideBySidePositions(n),i,r;u=e.pos,f=e.all;var o=this.getMinPointsDelta()*(1-.3),s=1/f,h=.5-s*(u-1),t=this.getDoubleRange(-h,-h+s);return t.IsEmpty||(t=this.getDoubleRange(t.Start*o,t.End*o),i=.5*1*t.Delta,r=t.Median,t=this.getDoubleRange(r-i,r+i)),t},draw:function(n,t){var r,u,c;this.chartObj=n;var l,a=syncfusion.getStringBuilder(),i=t,o=this.setLineSeriesStyle(i);i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal());var f=this.improveChartPerformance(i),e=null,s,h=-1;for(r=0;r<f.length;r++)if(s=f[r],s.visible){if(e!=null&&f.length>h+1){var p=f[h+1],v=this.chartObj.svgRenderer.getPoint(e,i),y=this.chartObj.svgRenderer.getPoint(p,i);a.append("M "+v.X+" "+-v.Y+" L "+y.X+" "+-y.Y+" ")}e=s,h=r}else e=null;l=a.toString(),this._drawLinePath(i,o,l),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element),u=this.gSeriesGroupEle.getBBox(),c={id:this.gSeriesGroupEle.id+"_ClipRect",x:u.x,y:u.y-o.SeriesStyle.borderWidth,width:u.width,height:u.height+2*o.SeriesStyle.borderWidth,fill:"white","stroke-width":1,stroke:"transparent"},this.chartObj.svgRenderer.drawClipPath(c,this.gSeriesGroupEle),$(this.gSeriesGroupEle).attr("clip-path","url(#"+c.id+")")},_doLineSymbol:function(n,t,i){var o=parseInt(i*t),r=n.getBBox(),u=r.x+r.width/2,f=r.y+r.height/2,e;$(n).delay(o).animate({scale:1},{duration:200,step:function(t){e=t,$(n).attr("transform","translate("+u+" "+f+") scale("+e+") translate("+-u+" "+-f+")")}})},animateSymbol:function(n,t){var i=n.getBBox(),r=i.x+i.width/2,u=i.y+i.height/2,f;$(n).delay(t).each(function(){this.scale=.5}).animate({scale:1},{duration:500,step:function(t){f=t,$(n).attr("transform","translate("+r+" "+u+") scale("+f+") translate("+-r+" "+-u+")")}})},animateRect:function(n){var t=n.getBBox(),i,r,u;$(n).attr("plot")==="negative"?(i=t.x,r=t.y):(i=t.x+t.width,r=t.y+t.height),$(n).animate({scale:1},{duration:1e3,step:function(t){u=t,$(n).attr("transform","translate("+i+" "+r+") scale(1,"+u+") translate("+-i+" "+-r+")")}})},_doLineAnimation:function(){var r=$(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id+"_ClipRect").children(),t,u,n,i;for($(r).animate({width:parseFloat($(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id+"_ClipRect").children().attr("width"))},{duration:2e3,step:function(n){$(r).attr("width",n)}}),t=$(this.chartObj.gSymbolGroupEle).children().not("defs"),u=2e3/t.length,n=0;n<t.length;n++)i=t[n],$(i).attr("transform","scale(0)"),this._doLineSymbol(i,u,n)},doAnimation:function(){this._doLineAnimation()},_drawLinePath:function(n,t,i){var r=$.inArray(n,this.chartObj.model.series),f=n.xAxis.Location.X1,e=n.yAxis.Location.Y1,o={id:this.chartObj.svgObject.id+"_SeriesGroup_"+r,transform:"translate("+f+","+e+")"},u;this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(o),u={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(n)+"_"+r,fill:"none","stroke-dasharray":t.SeriesStyle.dashArray,"stroke-width":t.SeriesStyle.borderWidth,stroke:t.SeriesInterior,"stroke-linecap":t.SeriesStyle.lineCap,"stroke-linejoin":t.SeriesStyle.lineJoin,d:i},this.chartObj.svgRenderer.drawPath(u,this.gSeriesGroupEle)},drawDisplayText:function(n,t,i,r,u){var e,c,h,o,s,f,l;i.visible&&n.marker.showText&&(e=i.text?i.text:i.YValues[0],i.format!=null&&(n.count=1,i.count=1,c={Series:n,Point:i},e=i.format.parseTemplate(c)),s=this.chartObj.svgRenderer.measureText(e,this.chartObj.svgRenderer.getFontString(n.font)),n.marker.textAlignment.toLowerCase()=="center"?h="center":n.marker.textAlignment.toLowerCase()=="near"?(h="left",r-=s.width+n.marker.textOffset):(h="right",r+=s.width+n.marker.textOffset),n.marker.textPosition.toLowerCase()=="top"?(o="top",u-=s.height/2+n.marker.textOffset):n.marker.textPosition.toLowerCase()=="middle"?o="middle":(o="top",u+=n.marker.textOffset),f=$.extend({},SfSvgRender.commonChartEventArgs),f.Data={Text:e,Location:{X:r,Y:u}},this.chartObj._trigger("displayTextRendering",f),f.Cancel||(l={id:this.chartObj.svgObject.id+"_SeriesText"+t,x:f.Data.Location.X,y:f.Data.Location.Y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,"text-anchor":"middle","dominant-baseline":o},this.chartObj.svgRenderer.drawText(l,f.Data.Text,this.chartObj.gSeriesTextEle)))},drawSymbolImage:function(n,t){var i=n.points[t],r,u;if(i.visible){if(i.marker&&(!(i.marker.visible||n.marker.visible)||i.marker.shape!=this.chartObj.model.symbolShape.image))return;r=i.marker?i:n,r.marker.shape.toLowerCase()=="image"&&(u=new Image,u.src=r.marker.imageUrl,r.marker.image=u)}},changeCrossHairSymbol:function(n,t,i,r){var u,f;return t&&(u={},u=$.extend(!0,{},this.chartObj.model.crossHair,u),ej.util.isNullOrUndefined(u.marker.shape)&&(u.marker.shape=n.marker.shape),ej.util.isNullOrUndefined(u.marker.style.interior)&&n.type.toLowerCase()!="bubble"&&n.type.toLowerCase()!="scatter"&&(u.marker.style.interior=n.marker.style.borderColor),n.type.toLowerCase()=="bubble"?(f=$(this.chartObj.gSeriesEle).find("#"+this.chartObj.svgObject.id+"_circlesymbol_"+i+"_"+r)[0].getBBox(),u.marker.size.width=f.width/2+15,u.marker.size.height=f.height/2+15):(u.marker.size.width<=n.marker.size.width&&(u.marker.size.width=n.marker.size.width+2),u.marker.size.height<=n.marker.size.height&&(u.marker.size.height=n.marker.size.height+2),u.marker.style.borderColor=ej.util.isNullOrUndefined(u.marker.style.borderColor)&&ej.util.isNullOrUndefined(n.marker.style.interior)?jQuery.type(this.chartObj.model.seriesColors[r])=="array"?this.chartObj.model.seriesColors[r][0].color:this.chartObj.model.seriesColors[r]:jQuery.type(n.marker.style.interior)=="array"?n.marker.style.interior._gradientStop[0].color:n.marker.style.interior)),n._trackMarker=u,u},drawSymbol:function(n,t,i,r,u,f,e){var o,l,d,h;if(ej.util.isNullOrUndefined(this.chartObj)&&(this.chartObj=f),o=t.points[i],o.visible){if(o.marker&&(!(o.marker.visible||t.marker.visible)||o.marker.shape==this.chartObj.model.symbolShape.None))return;var a="None",y=this.changeCrossHairSymbol(o.marker?o:t,e,i,n),c=o.marker?o:e?y:t;if($.each(this.chartObj.model.symbolShape,function(n){c.marker.shape.toLowerCase()==n.toLowerCase()&&(a=n)}),a=="None")return;var g={startX:r,startY:u},s=e?y.marker.style:c.marker.style,v=e?this.chartObj.gTrackerEle:this.chartObj.gSymbolGroupEle,p=e?"TrackSymbol":"symbol",w,b,k;s!=null&&(s.borderColor!=""&&(w=s.borderColor),k=s.opacity,s.borderWidth&&(b=s.borderWidth)),l=null,o.marker&&o.marker.style.interior?(l=ej.util.isNullOrUndefined(o.marker.style.interior._gradientStop)?o.marker.style.interior:o.marker.style.interior._gradientStop,this.chartObj.symbolColorName=this.chartObj.svgRenderer.createGradientElement(p+n+i,l,0,0,0,$(this.chartObj.svgObject).height(),v)):(l=s.interior?ej.util.isNullOrUndefined(s.interior._gradientStop)?s.interior:s.interior._gradientStop:o.interior?ej.util.isNullOrUndefined(o.interior._gradientStop)?o.interior:o.interior._gradientStop:this.chartObj.model.seriesColors[n],this.chartObj.symbolColorName=this.chartObj.svgRenderer.createGradientElement(p+n,l,0,0,0,$(this.chartObj.svgObject).height(),v)),d={ShapeSize:c.marker.size,Style:{BorderColor:w,BorderWidth:b,Opacity:k,Color:this.chartObj.symbolColorName,Font:t.font},PointIndex:i,SeriesIndex:n,Imageurl:c.marker.imageUrl,Image:c.marker.image},h=$.extend({},SfSvgRender.commonChartEventArgs),h.Data={Location:g,Style:d},this.chartObj._trigger("symbolRendering",h),h.Cancel||SfSvgRender.chartSymbol["_draw"+a](h.Data.Location,h.Data.Style,this.chartObj,v)}}},sfLineSeries=sfExtendClass(sfSeriesRender),seriesTypes.line=sfLineSeries,sfColumnSeries=sfExtendClass(sfSeriesRender,{getPointXYOrgin:function(n,t,i,r,u){var e=(n-i)/(u.xAxis.visibleRange.max-i)*(u.xAxis.Location.X2-u.xAxis.Location.X1),f;return f=u.yAxis.visibleRange.max==r?this.chartObj.svgRenderer.getPointXY(0,t,u).Y:(t-r)/(u.yAxis.visibleRange.max-r)*(u.yAxis.Location.Y1-u.yAxis.Location.Y2-this.chartObj.svgRenderer.getPointXY(u.xAxis.visibleRange.min,Math.max(u.yAxis.visibleRange.min,0),u).Y),{X:e,Y:f}},getRectangle:function(n,t,i,r,u){var f=u.xAxis.visibleRange.min,e=Math.max(u.yAxis.visibleRange.min,0),o=this.getPointXYOrgin(n,t,f,e,u),s=this.getPointXYOrgin(i,r,f,e,u);return this.chartObj.svgRenderer.correctRect(o.X,o.Y,s.X,s.Y)},calculateSides:function(n,t){var i=n.X+t.Start,r=n.X+t.End;return{x1:i,x2:r}},draw:function(n,t){var v,u,s,p,w,i,it,rt,ut,b,k,d;this.chartObj=n;var r=t,l=$.inArray(r,this.chartObj.model.series),ft=t.xAxis.visibleRange.min,a=Math.max(t.yAxis.visibleRange.min,0),o=this.chartObj.svgRenderer.getPointXY(ft,a,r),e=$.extend(!0,{},this.chartObj.model.seriesStyle,r.style),et=a,ot=this.getSideBySideInfo(r),g=this._isVisiblePoints(r),c,st=r.xAxis.Location.X1,ht=r.yAxis.Location.Y1,ct={id:this.chartObj.svgObject.id+"_SeriesGroup_"+l,transform:"translate("+st+","+ht+")"};for(this.gSeriesColumnGroupEle=this.chartObj.svgRenderer.createGroup(ct),c=e.interior?ej.util.isNullOrUndefined(e.interior._gradientStop)?e.interior:e.interior._gradientStop:this.chartObj.model.seriesColors[l],v=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"_"+l,c,0,0,0,100,this.gSeriesColumnGroupEle),u=this,s=0;s<g.length;s++){var y=s,f=g[s],nt=0,tt=0,h=f.YValues[0],lt=et;f.visible&&(p=u.calculateSides(f,ot),nt=p.x1,tt=p.x2,f.interior&&(c=f.interior._gradientStop?f.interior._gradientStop:f.interior,w=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"Point"+s,c,0,0,0,100,this.gSeriesColumnGroupEle)),i=u.getRectangle(nt,h,tt,lt,r),i.X<0&&(i.Width=i.Width+i.X,i.X=0),r.yAxis.visibleRange.max==a&&(o.Y=0),i.Width=i.X+i.Width>u.chartObj.model.m_AreaBounds.Width?u.chartObj.model.m_AreaBounds.Width-i.X:i.Width,it=Math.min(0,i.Width),rt=Math.min(0,i.Height),(it==0||rt==0)&&(h<0?(ut={id:u.chartObj.svgObject.id+"_Point"+y,x:i.X+o.X,y:i.Y*-1+o.Y*-1+-i.Height,width:i.Width,height:i.Height,fill:f.interior?w:v,"stroke-width":e.borderWidth,plot:h<0?"negative":"positive",opacity:e.opacity,stroke:e.borderColor},u.chartObj.svgRenderer.drawRect(ut,u.gSeriesColumnGroupEle),k=u.chartObj.svgRenderer.getSvgXY(i.X,i.Y*-1+o.Y*-1+-i.Height,r),b={X:k.X,Y:k.Y,Width:i.Width,Height:i.Height}):(t={id:u.chartObj.svgObject.id+"_Point"+y,x:i.X+o.X,y:i.Y*-1+o.Y*-1+-i.Height,width:i.Width,height:i.Height,fill:f.interior?w:v,"stroke-width":e.borderWidth,plot:h<0?"negative":"positive",opacity:e.opacity,stroke:e.borderColor},u.chartObj.svgRenderer.drawRect(t,u.gSeriesColumnGroupEle),d=u.chartObj.svgRenderer.getSvgXY(i.X,i.Y*-1+o.Y*-1+-i.Height,r),b={X:d.X,Y:d.Y,Width:i.Width,Height:i.Height}),u.chartObj.svgRenderer.addRegion(u.chartObj,b,r,f,y)),(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)&&r.marker.showText)&&(f.symbolLocation={X:i.X+i.Width/2,Y:h<0?-(i.Y*-1+o.Y*-1):i.Y+o.Y+i.Height}))}this.chartObj.svgRenderer.append(this.gSeriesColumnGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element)},doAnimation:function(){for(var u=$(this.chartObj.gSeriesEle).find("#"+this.gSeriesColumnGroupEle.id).children("rect"),f,i,t,r,n=0;n<u.length;n++)f=u[n],this.animateRect(f);for(i=$(this.chartObj.gSymbolGroupEle).children().not("defs"),t=0;t<i.length;t++)r=i[t],$(r).attr("transform","scale(0)"),this._doLineSymbol(r,500,2)}}),seriesTypes.column=sfColumnSeries,sfAreaSeries=sfExtendClass(sfSeriesRender,{drawAreaPath:function(n,t,i){var r=$.inArray(n,this.chartObj.model.series),f=n.xAxis.Location.X1,e=n.yAxis.Location.Y1,o={id:this.chartObj.svgObject.id+"_SeriesGroup_"+r,transform:"translate("+f+","+e+")"},u;this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(o),u={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(n)+"_"+r,fill:t.SeriesInterior,"fill-opacity":t.SeriesStyle.opacity,"stroke-width":t.SeriesStyle.borderWidth,stroke:t.SeriesStyle.borderColor,"stroke-linecap":t.SeriesStyle.lineCap,"stroke-linejoin":t.SeriesStyle.lineJoin,d:i},this.chartObj.svgRenderer.drawPath(u,this.gSeriesGroupEle)},setAreaSeriesStyle:function(n){var f=$.extend(!0,{},this.chartObj.model.seriesStyle,n.style),t=$.inArray(n,this.chartObj.model.series),e=Math.max.apply(0,n.points.map(function(n){return n.YValues[0]})),o=Math.min.apply(0,n.points.map(function(n){return n.YValues[0]})),i=Math.min.apply(0,n.points.map(function(n){return n.X})),r=this.chartObj.svgRenderer.getPointXY(i,o,n),u=this.chartObj.svgRenderer.getPointXY(i,e,n),s=this.chartObj.model.seriesColors[t],h=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(n)+t,s,r.X,r.Y,u.X,u.Y,this.chartObj.gSeriesEle);return{SeriesStyle:f,SeriesInterior:h}},draw:function(n,t){var u,y,o,f,s;this.chartObj=n;var h,e=syncfusion.getStringBuilder(),i=t,p=this.setAreaSeriesStyle(i);i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var r=this._isVisiblePoints(i),c=Math.max(t.yAxis.visibleRange.min,0),w={X:r[0].X,YValues:[c]},l=this.chartObj.svgRenderer.getPoint(w,i);for(e.append("M"+l.X+" "+-l.Y+" "),u=0;u<r.length;u++)if(r[u].visible&&r.length>u+1){var b=r[u+1],a=this.chartObj.svgRenderer.getPoint(r[u],i),v=this.chartObj.svgRenderer.getPoint(b,i);e.append(" L "+a.X+" "+-a.Y+"  L "+v.X+" "+-v.Y+" ")}y={X:r[r.length-1].X,YValues:[c]},o=this.chartObj.svgRenderer.getPoint(y,i),e.append(" L "+o.X+" "+-o.Y+" "),h=e.toString(),this.drawAreaPath(i,p,h),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element),f=this.gSeriesGroupEle.getBBox(),s={id:this.gSeriesGroupEle.id+"_ClipRect",x:f.x,y:f.y,width:f.width,height:f.height,fill:"white","stroke-width":1,stroke:"transparent"},this.chartObj.svgRenderer.drawClipPath(s,this.gSeriesGroupEle),$(this.gSeriesGroupEle).attr("clip-path","url(#"+s.id+")")},doAnimation:function(){this._doLineAnimation()}}),seriesTypes.area=sfAreaSeries,sfSplineSeries=sfExtendClass(sfSeriesRender,{naturalSpline:function(n){var h=n.length,f=0,i=[],u=[],t,s,r;for(i[0]=u[0]=0,i[n.length-1]=0,t=1;t<h-1;t++){var e=n[t].X-n[t-1].X,c=n[t+1].X-n[t-1].X,o=n[t+1].X-n[t].X,l=n[t+1].YValues[f]-n[t].YValues[f],a=n[t].YValues[f]-n[t-1].YValues[f];e==0||c==0||o==0?(i[t]=0,u[t]=0):(s=1/(e*i[t-1]+2*c),i[t]=-s*o,u[t]=s*(6*(l/o-a/e)-e*u[t-1]))}for(r=h-2;r>=0;r--)i[r]=i[r]*i[r+1]+u[r];return i},getBezierControlPoints:function(n,t,i,r,u){var o,s,f=1/3,e=t.X-n.X;e=e*e;var h=2*n.X+t.X,c=n.X+2*t.X,l=2*n.YValues[u]+t.YValues[u],a=n.YValues[u]+2*t.YValues[u],v=f*(l-f*e*(i+.5*r)),y=f*(a-f*e*(.5*i+r));return o={X:h*f,YValues:[v]},s={X:c*f,YValues:[y]},{controlPoint1:o,controlPoint2:s}},draw:function(n,t){var s,f,h,e,c;this.chartObj=n;var i=t,l="",a=syncfusion.getStringBuilder(),o=this.setLineSeriesStyle(i),v=this.naturalSpline(i.points),r=null,u=null,y=-1;for(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal(),s=this._isVisiblePoints(i),f=0;f<s.length;f++)if(h=f,u=s[f],u.visible){if(r!=null){var p=null,w=null,b=this.getBezierControlPoints(r,u,v[y],v[h],0);p=b.controlPoint1,w=b.controlPoint2;var k=this.chartObj.svgRenderer.getPoint(r,i),d=this.chartObj.svgRenderer.getPoint(u,i),g=this.chartObj.svgRenderer.getPoint(p,i),nt=this.chartObj.svgRenderer.getPoint(w,i);a.append("M "+k.X+" "+-k.Y+" C "+g.X+" "+-g.Y+" "+nt.X+" "+-nt.Y+" "+d.X+" "+-d.Y+" ")}r=u,y=h}else r=null;l=a.toString(),this._drawLinePath(i,o,l),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element),e=this.gSeriesGroupEle.getBBox(),c={id:this.gSeriesGroupEle.id+"_ClipRect",x:e.x,y:e.y-o.SeriesStyle.borderWidth,width:e.width,height:e.height+2*o.SeriesStyle.borderWidth,fill:"white","stroke-width":1,stroke:"transparent"},this.chartObj.svgRenderer.drawClipPath(c,this.gSeriesGroupEle),$(this.gSeriesGroupEle).attr("clip-path","url(#"+c.id+")")},doAnimation:function(){this._doLineAnimation()}}),seriesTypes.spline=sfSplineSeries,sfScatterSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){this.chartObj=n;var i=t;this._isVisiblePoints(i),i.marker.visible||(i.marker.visible=!0)},doAnimation:function(){for(var t=$(this.chartObj.gSymbolGroupEle).children().not("defs"),n=0;n<t.length;n++){var i=0,r=Math.floor(Math.random()*(20-i)+i),u=parseInt(r*50);$(t[n]).attr("transform","scale(0)"),this.animateSymbol(t[n],u)}}}),seriesTypes.scatter=sfScatterSeries,sfBubbleSeries=sfExtendClass(sfSeriesRender,{setBubbleStyle:function(n,t,i,r){var f=$.inArray(t,this.chartObj.model.series),o=null,s=null,h=null,e,c="bubble",u;return n!=null&&(n.borderColor&&(o=n.borderColor),n.opacity&&(h=n.opacity),n.borderWidth&&(s=n.borderWidth)),i.interior?(u=ej.util.isNullOrUndefined(i.interior._gradientStop)?i.interior:i.interior._gradientStop,e=this.chartObj.svgRenderer.createGradientElement(c+f+r,u,0,0,0,$(this.chartObj.svgObject).height(),this.gSeriesGroupEle)):(u=n&&n.interior?ej.util.isNullOrUndefined(n.interior._gradientStop)?n.interior:n.interior._gradientStop:this.chartObj.model.seriesColors[f],e=this.chartObj.svgRenderer.createGradientElement(c+f,u,0,0,0,$(this.chartObj.svgObject).height(),this.gSeriesGroupEle)),{BorderColor:o,Opacity:h,BorderWidth:s,ColorName:e}},createBubbleGroup:function(n){var t=$.inArray(n,this.chartObj.model.series),i=n.xAxis.Location.X1,r=n.yAxis.Location.Y1,u={id:this.chartObj.svgObject.id+"_SeriesGroup_"+t,transform:"translate("+i+","+r+")"};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(u)},draw:function(n,t){var i,r,u,v,f,y,p,w,b,k;this.chartObj=n,i=t,i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var d=$.inArray(i,this.chartObj.model.series),o=this._isVisiblePoints(i),s=1,h=t.bubbleOptions&&t.bubbleOptions.minRadius?t.bubbleOptions.minRadius:10,g=t.bubbleOptions&&t.bubbleOptions.maxRadius?t.bubbleOptions.maxRadius:30,nt=g-h,c,tt=Math.max.apply(0,o.map(function(n){return n.YValues[s]}));for(this.createBubbleGroup(i),r=0;r<o.length;r++)if(u=o[r],u.visible){c=h+nt*Math.abs(u.YValues[s]/tt);var l=this.chartObj.svgRenderer.getPoint(u,i),e=this.setBubbleStyle(i.style,i,u,r),a={id:this.chartObj.svgObject.id+"_circlesymbol_"+r+"_"+d,cx:l.X,cy:-l.Y,r:c,fill:e.ColorName,"stroke-width":e.BorderWidth,opacity:e.Opacity,stroke:e.BorderColor};this.chartObj.svgRenderer.drawCircle(a,this.gSeriesGroupEle),v=this.chartObj.svgRenderer.createCircle(a),f=this.chartObj.svgRenderer.getCircleBounds(v,this.chartObj),p=f.x+i.xAxis.Location.X1,w=f.y+i.xAxis.Location.Y1,b=f.height,y=f.width,k={X:p,Y:w,Width:y,Height:b},this.chartObj.svgRenderer.addRegion(this.chartObj,k,i,null,r)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element)},doAnimation:function(){for(var t=$(this.gSeriesGroupEle).children().not("defs"),n=0;n<t.length;n++){var i=0,r=Math.floor(Math.random()*(20-i)+i),u=parseInt(r*50);$(t[n]).attr("transform","scale(0)"),this.animateSymbol(t[n],u)}}}),seriesTypes.bubble=sfBubbleSeries,sfhiloSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var r,u,c,f,l,s,h,a,v;this.chartObj=n,r=t,r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var y=this._isVisiblePoints(r),e=this.getSideBySideInfo(r),i=null,o=$.inArray(r,this.chartObj.model.series),p=r.xAxis.Location.X1,w=r.yAxis.Location.Y1,b={id:this.chartObj.svgObject.id+"_SeriesGroup_"+o,transform:"translate("+p+","+w+")"};for(this.gSeriesHiloGroupEle=this.chartObj.svgRenderer.createGroup(b),u=$.extend(!0,this.chartObj.model.seriesStyle,r.style),c=u.interior?ej.util.isNullOrUndefined(u.interior._gradientStop)?u.interior:u.interior._gradientStop[0].color:jQuery.type(this.chartObj.model.seriesColors[o])=="array"?this.chartObj.model.seriesColors[o][0].color:this.chartObj.model.seriesColors[o],f=0;f<y.length;f++)if(i=y[f],i.visible){if(l="",ej.util.isNullOrUndefined(i.YValues[0])||ej.util.isNullOrUndefined(i.YValues[1]))continue;i.interior&&(c=i.interior._gradientStop?i.interior._gradientStop[0].color:i.interior),s={},h={},i.YValues[0]<i.YValues[1]?(s={X:i.X+e.Median,YValues:[i.YValues[0]]},h={X:i.X+e.Median,YValues:[i.YValues[1]]}):(s={X:i.X+e.Median,YValues:[i.YValues[1]]},h={X:i.X+e.Median,YValues:[i.YValues[0]]}),a=this.chartObj.svgRenderer.getPoint(s,r),v=this.chartObj.svgRenderer.getPoint(h,r),l="M"+a.X+" "+-a.Y+" L "+v.X+" "+-v.Y,this._drawHiloPath(r,u,c,l,f)}this.chartObj.svgRenderer.append(this.gSeriesHiloGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element)},doAnimation:function(){for(var t=$(this.gSeriesHiloGroupEle).children().not("defs"),r=2e3/t.length,i,n=0;n<t.length;n++)i=t[n],$(i).attr("transform","scale(0)"),this._doLineSymbol(i,r,n)}}),seriesTypes.hilo=sfhiloSeries,sfhiloopencloseSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var i,e,o,s,u,v,y;this.chartObj=n,i=t,i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var p=this._isVisiblePoints(i),f=this.getSideBySideInfo(i),r=null,g=$.inArray(i,this.chartObj.model.series),nt=i.xAxis.Location.X1,tt=i.yAxis.Location.Y1,it={id:this.chartObj.svgObject.id+"_SeriesGroup_"+g,transform:"translate("+nt+","+tt+")"};for(this.gSeriesHiloGroupEle=this.chartObj.svgRenderer.createGroup(it),e=$.extend(!0,this.chartObj.model.seriesStyle,i.style),s=0;s<p.length;s++)if(r=p[s],r.visible){u="",i.hiloOpenCloseOptions=ej.util.isNullOrUndefined(i.hiloOpenCloseOptions)?{}:i.hiloOpenCloseOptions;var rt=ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.drawMode)?!0:i.hiloOpenCloseOptions.drawMode.toLowerCase()=="both"||i.hiloOpenCloseOptions.drawMode.toLowerCase()=="open"?!0:!1,ut=ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.drawMode)?!0:i.hiloOpenCloseOptions.drawMode.toLowerCase()=="both"||i.hiloOpenCloseOptions.drawMode.toLowerCase()=="close"?!0:!1,l={},a={},h={},c={};if(ej.util.isNullOrUndefined(r.YValues[0])||ej.util.isNullOrUndefined(r.YValues[1])||ej.util.isNullOrUndefined(r.YValues[2])||ej.util.isNullOrUndefined(r.YValues[3]))continue;if(r.YValues[0]<r.YValues[1]?(l={X:r.X+f.Median,YValues:[r.YValues[0]]},a={X:r.X+f.Median,YValues:[r.YValues[1]]},h={X:r.X,YValues:[r.YValues[2]]},c={X:r.X,YValues:[r.YValues[3]]}):(l={X:r.X+f.Median,YValues:[r.YValues[1]]},a={X:r.X+f.Median,YValues:[r.YValues[0]]},h={X:r.X,YValues:[r.YValues[2]]},c={X:r.X,YValues:[r.YValues[3]]}),o=r.YValues[2]<r.YValues[3]?ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.bearFillColor)?"#339933":i.hiloOpenCloseOptions.bearFillColor:ej.util.isNullOrUndefined(i.hiloOpenCloseOptions.bearFillColor)?"#E51400":i.hiloOpenCloseOptions.bullFillColor,e.interior&&(o=ej.util.isNullOrUndefined(e.interior._gradientStop)?e.interior:e.interior._gradientStop[0].color),r.interior?o=r.interior._gradientStop?r.interior._gradientStop[0].color:r.interior:r.interior=o,rt){var ft={X:h.X+f.Median,YValues:h.YValues},w=this.chartObj.svgRenderer.getPoint(ft,i),et={X:h.X+f.Start,YValues:h.YValues},b=this.chartObj.svgRenderer.getPoint(et,i);u="M"+w.X+" "+-w.Y+" L "+b.X+" "+-b.Y,this._drawHiloPath(i,e,o,u,s),u=""}if(ut){var ot={X:c.X+f.Median,YValues:c.YValues},k=this.chartObj.svgRenderer.getPoint(ot,i),st={X:c.X+f.End,YValues:c.YValues},d=this.chartObj.svgRenderer.getPoint(st,i);u="M"+k.X+" "+-k.Y+" L "+d.X+" "+-d.Y,this._drawHiloPath(i,e,o,u,s),u=""}v=this.chartObj.svgRenderer.getPoint(l,i),y=this.chartObj.svgRenderer.getPoint(a,i),u="M"+v.X+" "+-v.Y+" L "+y.X+" "+-y.Y,this._drawHiloPath(i,e,o,u,s)}this.chartObj.svgRenderer.append(this.gSeriesHiloGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element)},doAnimation:function(){for(var t=$(this.gSeriesHiloGroupEle).children().not("defs"),r=2e3/t.length,i,n=0;n<t.length;n++)i=t[n],$(i).attr("transform","scale(0)"),this._doLineSymbol(i,r,n)}}),seriesTypes.hiloopenclose=sfhiloopencloseSeries,sfCandleSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var r,u,f,e,l,y,p,w,nt;this.chartObj=n,r=t,r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var b=this._isVisiblePoints(r),o=this.getSideBySideInfo(r),i=null,tt=$.inArray(r,this.chartObj.model.series),it=r.xAxis.Location.X1,rt=r.yAxis.Location.Y1,ut={id:this.chartObj.svgObject.id+"_SeriesGroup_"+tt,transform:"translate("+it+","+rt+")"};for(this.gSeriesHiloGroupEle=this.chartObj.svgRenderer.createGroup(ut),u=$.extend(!0,this.chartObj.model.seriesStyle,r.style),e=0;e<b.length;e++)if(i=b[e],i.visible){l="",r.candleOptions=ej.util.isNullOrUndefined(r.candleOptions)?{}:r.candleOptions;var a={},v={},s={},h={};if(ej.util.isNullOrUndefined(i.YValues[0])||ej.util.isNullOrUndefined(i.YValues[1])||ej.util.isNullOrUndefined(i.YValues[2])||ej.util.isNullOrUndefined(i.YValues[3]))continue;i.YValues[0]<i.YValues[1]?(a={X:i.X+o.Median,YValues:[i.YValues[0]]},v={X:i.X+o.Median,YValues:[i.YValues[1]]},s={X:i.X,YValues:[i.YValues[2]]},h={X:i.X,YValues:[i.YValues[3]]}):(a={X:i.X+o.Median,YValues:[i.YValues[1]]},v={X:i.X+o.Median,YValues:[i.YValues[0]]},s={X:i.X,YValues:[i.YValues[2]]},h={X:i.X,YValues:[i.YValues[3]]}),i.YValues[2]<i.YValues[3]?(s={X:i.X,YValues:[i.YValues[2]]},h={X:i.X,YValues:[i.YValues[3]]},f=ej.util.isNullOrUndefined(r.candleOptions.bearFillColor)?"#339933":r.candleOptions.bearFillColor):(s={X:i.X,YValues:[i.YValues[3]]},h={X:i.X,YValues:[i.YValues[2]]},f=ej.util.isNullOrUndefined(r.candleOptions.bearFillColor)?"#E51400":r.candleOptions.bullFillColor),u.interior&&(f=ej.util.isNullOrUndefined(u.interior._gradientStop)?u.interior:u.interior._gradientStop[0].color),i.interior?f=i.interior._gradientStop?i.interior._gradientStop[0].color:i.interior:i.interior=f,y=this.chartObj.svgRenderer.getPoint(a,r),p=this.chartObj.svgRenderer.getPoint(v,r),l="M"+y.X+" "+-y.Y+" L "+p.X+" "+-p.Y,this._drawHiloPath(r,u,f,l,e);var ft={X:h.X+o.Start,YValues:h.YValues},c=this.chartObj.svgRenderer.getPoint(ft,r),et={X:s.X+o.End,YValues:s.YValues},k=this.chartObj.svgRenderer.getPoint(et,r),d=Math.abs(k.X-c.X),g=Math.abs(k.Y-c.Y),ot={id:this.chartObj.svgObject.id+"_Point"+e,x:c.X,y:-c.Y,width:d,height:g,fill:f,"stroke-width":u.borderWidth,stroke:u.borderColor};this.chartObj.svgRenderer.drawRect(ot,this.gSeriesHiloGroupEle),w=this.chartObj.svgRenderer.getSvgXY(c.X,-c.Y,r),nt={X:w.X,Y:w.Y,Width:d,Height:g},this.chartObj.svgRenderer.addRegion(this.chartObj,nt,r,i,e)}this.chartObj.svgRenderer.append(this.gSeriesHiloGroupEle,this.chartObj.gSeriesEle),this.chartObj.svgRenderer.append(this.chartObj.gSeriesEle,this.chartObj.svgObject),this.chartObj.svgRenderer.append(this.chartObj.svgObject,this.chartObj.element)},doAnimation:function(){for(var t=$(this.gSeriesHiloGroupEle).children().not("defs"),r=2e3/t.length,i,n=0;n<t.length;n++)i=t[n],$(i).attr("transform","scale(0)"),this._doLineSymbol(i,r,n)}}),seriesTypes.candle=sfCandleSeries,sfPieSeries=sfExtendClass(sfSeriesRender,{draw:function(n,t){var e,l,v,h,o,w,f,b,s,a,i,k,d,g,nt;this.chartObj=n;var c,y=t,r=t,u=this._pieVisiblePoints(r),p=[];for(this.chartObj.model.pieChartdata=[],this.chartObj.model.pieChartRegions=[],i=this.chartObj,this.chartObj.model.sumofYValues=0,e=this,this.chartObj.model.centerX=0,this.chartObj.model.centerY=0,this.chartObj.model.startX=[],this.chartObj.model.startY=[],this.chartObj.model.pieRadius=0,this.chartObj.model.pieChartRegions=[],l=0,v=.001,h=0;h<u.length;h++)u[h].YValues[0]>0&&(i.model.sumofYValues+=u[h].YValues[0]);if(r.explodeOffset||(r.explodeOffset=25),o=0,w=this.chartObj.svgRenderer.measureText(this.chartObj.model.text,$(n.svgObject).width()-this.chartObj.model.margin.left-this.chartObj.model.margin.right,this.chartObj.model.font).height,ej.util.isNullOrUndefined(t.labelPosition)||t.labelPosition.toLowerCase()!="outside")o=this.chartObj.model.margin.top*2;else{for(f=0;f<u.length;f++)e.chartObj.svgRenderer.measureText(u[f].text?u[f].text:u[f].Y).width>o&&(o=e.chartObj.svgRenderer.measureText(u[f].text?u[f].text:u[f].Y).width);o+=r.marker.textOffset+r.explodeOffset+this.chartObj.model.margin.top*4}for(this.chartObj.model.pieRadius=$(n.svgObject).height()-this.chartObj.model.margin.top-this.chartObj.model.margin.left-this.chartObj.model.margin.right-this.chartObj.model.margin.bottom-w-o-this.chartObj.model.elementSpacing*2-(this.chartObj.model.legend.position.toLowerCase()==="top"||this.chartObj.model.legend.position.toLowerCase()==="bottom"?this.chartObj.model.LegendBounds.Height:this.chartObj.model.LegendBounds.Width/4),this.chartObj.model.pieRadius=this.chartObj.model.pieRadius*.45,this.chartObj.model.centerX=($(n.svgObject).width()-this.chartObj.model.margin.left-this.chartObj.model.margin.right+(this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendBounds.Width:this.chartObj.model.legend.position.toLowerCase()==="right"?-this.chartObj.model.LegendBounds.Width:0))/2+this.chartObj.model.margin.left,b=this.chartObj.model.legend.position.toLowerCase()==="bottom"?this.chartObj.model.margin.top*2:this.chartObj.model.legend.position.toLowerCase()==="top"?-(this.chartObj.model.margin.top*2):0,this.chartObj.model.centerY=$(n.svgObject).height()/2+b+this.chartObj.model.LegendBounds.Height*(this.chartObj.model.legend.position.toLowerCase()==="top"?1:this.chartObj.model.legend.position.toLowerCase()==="bottom"?-1:0),s=0;s<u.length;s++)c=u[s],a=s,i.model.pieChartdata[a]={},i.model.pieChartdata[a].startAngle=2*Math.PI*l,i.model.pieChartdata[a].endAngle=2*Math.PI*((u.length-1==s?v:l)+c.YValues[0]/i.model.sumofYValues),l+=c.YValues[0]/i.model.sumofYValues,v+=c.YValues[0]/i.model.sumofYValues;i=this.chartObj,d=ej.util.isNullOrUndefined(i.model.roundingPlaces)?2:i.model.roundingPlaces,$.each(u,function(u,f){var o=e._drawPieSlice(i,u,f,t),b=!ej.util.isNullOrUndefined(t.labelPosition)&&t.labelPosition.toLowerCase()==="outside"?o.PositionX<i.model.centerX?"end":"start":"middle",c,l,v;k=Math.round(f.YValues[0])==f.YValues[0]?f.YValues[0]:f.YValues[0].toFixed(d),c=i.svgRenderer.createText({id:t.name+"text"+u,x:o.PositionX,y:o.PositionY,fill:r.pieOptions.text.font.color,"font-size":r.pieOptions.text.font.size,"font-family":r.pieOptions.text.font.fontFamily,"font-style":r.pieOptions.text.font.fontStyle,"font-weight":r.pieOptions.text.font.fontWeight,opacity:r.pieOptions.text.font.opacity,"text-anchor":b},ej.util.isNullOrUndefined(f.text)?k:f.text),ej.util.isNullOrUndefined(t.labelPosition)||t.labelPosition.toLowerCase()!=="outside"||(l=i.svgRenderer.createPath({id:t.name+"line"+u,stroke:r.pieOptions.connectorLine.stroke,"stroke-width":r.pieOptions.connectorLine.strokeWidth,d:o.Connector}));var h=e.setPieSeriesStyle(f,t),a=i.svgRenderer.createPath({id:t.name+"path"+u,fill:h.PointInterior,"stroke-width":h.SeriesStyle.borderWidth,stroke:h.SeriesInterior,"stroke-linecap":h.SeriesStyle.lineCap,"stroke-linejoin":h.SeriesStyle.lineJoin,d:o.Direction}),s=i.svgRenderer.createGroup({id:t.name+"group"+u});if(i.svgRenderer.append(a,s),y.animation||(i.svgRenderer.append(c,s),ej.util.isNullOrUndefined(t.labelPosition)||t.labelPosition.toLowerCase()!=="outside"||i.svgRenderer.append(l,s)),i.svgRenderer.append(s,n.gSeriesEle),v={PointIndex:u,StartAngle:i.model.pieChartdata[u].startAngle,EndAngle:i.model.pieChartdata[u].endAngle,StartX:i.model.startX[u],StartY:i.model.startY[u]},p.push(v),y.animation){var g=i.model.pieChartdata[u].startAngle,nt=i.model.pieChartdata[u].endAngle,w=i.model.pieRadius;i.model.pieRadius=0,i.model.pieChartdata[u].startAngle=0,i.model.pieChartdata[u].endAngle=i.model.pieChartdata[u].startAngle,$(a).animate({StartAngle:g,EndAngle:nt,Radius:w},{duration:1200,queue:!1,step:function(n,r){r.prop.toString()==="StartAngle"&&(i.model.pieChartdata[u].startAngle=n,i.model.pieChartdata[u].endAngle=i.model.pieChartdata[u].startAngle),r.prop.toString()=="Radius"?i.model.pieRadius=n:i.model.pieChartdata[u].endAngle=n<i.model.pieChartdata[u].startAngle?i.model.pieChartdata[u].startAngle:n,o=e._drawPieSlice(i,u,f,t),$(a).attr("d",o.Direction),i.model.pieRadius=w},complete:function(){i.model.pieAnimationComplete=!0,i.svgRenderer.append(c,s),ej.util.isNullOrUndefined(t.labelPosition)||t.labelPosition.toLowerCase()!=="outside"||i.svgRenderer.append(l,s),i.svgRenderer.append(s,n.gSeriesEle);var r=$.extend({},SfSvgRender.commonChartEventArgs);r.Data=i.model,i._trigger("animationComplete",r)}})}i.svgRenderer.append(i.gSeriesEle,i.svgObject)}),g={Radius:this.chartObj.model.pieRadius,CenterX:this.chartObj.model.centerX,CenterY:this.chartObj.model.centerY},nt={Series:r,SeriesData:g,Region:p,SeriesIndex:$.inArray(r,this.chartObj.model.series)},this.chartObj.model.pieChartRegions.push(nt)}}),seriesTypes.pie=sfPieSeries,String.prototype.parseTemplate=function(){var n=this;return $.each(arguments[0],function(t,i){i.count>0?$.each(i,function(i,r){n=n.replace(new RegExp("\\#"+t+"."+i+"\\#","gm"),r)}):n=n.replace(new RegExp("\\#"+t+"\\#","gm"),i)}),n},Gradient=function(n){this._gradientStop=[];for(var t=0;t<n.length;t++)this._gradientStop.push(n[t])},ejChart={_renderSfChart:function(){var u=window.SVGSVGElement?!0:!1,r,i,t,n;if(u){if(this.svgRenderer=new SfSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,$(this.svgObject).width(this.model.size.width?this.model.size.width:$(this.element).width()),$(this.svgObject).height(this.model.size.height),this.svgWidth=$(this.svgObject).width(),this.svgHeight=$(this.svgObject).height(),r=$.extend({},SfSvgRender.commonChartEventArgs),this._trigger("load",r),this.setTheme(SfSvgRender.themes,this.model.theme),ej.util.isNullOrUndefined(this.model.series)&&ej.util.isNullOrUndefined(this.model.dataSource)){for(this.model.series=[],i=[],t=1;t<=10;t++)i.push({x:t,y:Math.floor(Math.random()*-30)+40});this.model.series.push({points:i})}if(this.chartCross={visible:this.model.crossHair.visible,mArea:this.model.crossHair.moveToArea},this.serAnimation=[],!ej.util.isNullOrUndefined(this.model.series))for(n=0;n<this.model.series.length;n++)this.model.series[n]=ej.copyObject({},this.model.commonSeriesOptions,this.model.series[n]),this.serAnimation.push(ej.util.isNullOrUndefined(this.model.series[n].animation)?this.model.commonSeriesOptions.animation:this.model.series[n].animation);($(this.element).is(":visible")||$(this.element).css("visibility")!="hidden"||$(this.element).css("display")!="none")&&(this.bindEvents(),this.bindTo()),$(this.svgObject).appendTo(this.element)}return!0},setTheme:function(n,t){var i=t.toLowerCase();(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")==-1&&i.indexOf("dark")==-1?n[i]=$.extend(!0,{},n.flatlight,n[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark"))>=0&&i.indexOf("gradient")==-1?n[i]=$.extend(!0,{},n.flatdark,n[i]):(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")>=0&&i.indexOf("dark")==-1?n[i]=$.extend(!0,{},n.gradientlight,n[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark")>=0)&&i.indexOf("gradient")>=0&&(n[i]=$.extend(!0,{},n.gradientdark,n[i])),this.model=this.model._themeChanged?ej.copyObject({},this.model,n[i]):ej.copyObject({},n[i],this.model)},_drawBackInterior:function(){if(!ej.util.isNullOrUndefined(this.model.backInterior)&&!ej.util.isNullOrUndefined(this.model.backInterior._gradientStop)){var n={id:this.svgObject.id+"_backGradient",x1:"0%",y1:"0%",x2:"0%",y2:$(this.svgObject).height()+"%"};this.svgRenderer.drawGradient(n,this.model.backInterior._gradientStop)}},redraw:function(){$(this.svgObject).empty(),this.draw()},_drawBackImage:function(){var n={height:$(this.svgObject).height(),width:$(this.svgObject).width(),href:this.model.backGroundImageUrl,x:0,y:0,id:this.svgObject.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"};$(this.svgObject).find("#"+this.svgObject.id+"_backImage").length>0?$(this.svgObject).find("#"+this.svgObject.id+"_backImage").attr(n):this.svgRenderer.drawImage(n,this.svgObject)},addedXYValues:function(){var n,t,i;if(!this.zoomed)for(n=0;n<this.model.series.length;n++){if(ej.util.isNullOrUndefined(this.model.series[n].dataSource))for(this.model.series[n]=$.extend(!0,{},this.model.commonSeriesOptions,this.model.series[n]),t=0;t<this.model.series[n].points.length;t++)this.model.series[n].points[t].YValues=[],this.model.series[n].points[t].X=this.model.series[n].points[t].x,this.model.series[n].type.toLowerCase()==="candle"||this.model.series[n].type.toLowerCase()==="hiloopenclose"||this.model.series[n].type.toLowerCase()==="hilo"?(this.model.series[n].points[t].high&&(this.model.series[n].points[t].YValues[0]=this.model.series[n].points[t].high),this.model.series[n].points[t].low&&(this.model.series[n].points[t].YValues[1]=this.model.series[n].points[t].low),this.model.series[n].points[t].open&&(this.model.series[n].points[t].YValues[2]=this.model.series[n].points[t].open),this.model.series[n].points[t].close&&(this.model.series[n].points[t].YValues[3]=this.model.series[n].points[t].close)):(this.model.series[n].points[t].YValues[0]=this.model.series[n].points[t].y,this.model.series[n].type.toLowerCase()==="bubble"&&this.model.series[n].points[t].size&&(this.model.series[n].points[t].YValues[1]=this.model.series[n].points[t].size));else for(i=0;i<this.model.series[n].points.length;i++)this.model.series[n].points[i].X=this.model.series[n].points[i].x,this.model.series[n].type.toLowerCase()==="candle"||this.model.series[n].type.toLowerCase()==="hiloopenclose"||this.model.series[n].type.toLowerCase()==="hilo"?(this.model.series[n].points[i].YValues[0]&&(this.model.series[n].points[i].high=this.model.series[n].points[i].YValues[0]),this.model.series[n].points[i].YValues[1]&&(this.model.series[n].points[i].low=this.model.series[n].points[i].YValues[1]),this.model.series[n].points[i].YValues[2]&&(this.model.series[n].points[i].open=this.model.series[n].points[i].YValues[2]),this.model.series[n].points[i].YValues[3]&&(this.model.series[n].points[i].close=this.model.series[n].points[i].YValues[3])):(this.model.series[n].points[i].y=this.model.series[n].points[i].YValues[0],this.model.series[n].type.toLowerCase()==="bubble"&&this.model.series[n].points[i].YValues[1]&&(this.model.series[n].points[i].size=this.model.series[n].points[i].YValues[1]));if(n===0&&this.model.series[n].type.toLowerCase()==="pie"){this.model.isPieSeries=!0;break}}},draw:function(){var c,o,s,r,i,h,t,a,u,f,n,k,v,y,d,e,g,p;for(this._drawBackInterior(),this.model.chartRegions=[],this.model.isPieSeries=!1,this.addedXYValues(),c=$.extend({},SfSvgRender.commonChartEventArgs),c.Data={},this._trigger("preRender",c),this.gLegendEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_Legend"}),this.gTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_TitleCollection"}),this._createAxisLabelAndRange(),this._initializeSeriesColors(),this._calculteLegendBounds(),this.legendRender=new SfLegendRender(this),o=$.extend({},SfSvgRender.commonChartEventArgs),o.Data={LegendBound:this.model.LegendBounds},this._trigger("lengendBoundsCalculate",o),s=0;s<this.model.series.length;s++)for(r=this.model.series[s],i=0;i<r.points.length;i++)typeof r.points[i].X=="string"&&r.points[i].X.indexOf("/Date(")!=-1&&(r.points[i].X=new Date(parseInt(r.points[i].X.substr(6))));this.model.hAxes=[],this.model.vAxes=[];var l=this,w=!1,b=!1;for(this._arrangeAxis(),h=0;h<this.model.axes.length;h++){for(t=this.model.axes[h],a=[],u=0;u<t.stripline.length;u++)t.stripline[u]=$.extend(!0,{},this.model.striplineDefault,t.stripline[u]),t.stripline[u].zOrder.toLowerCase()=="over"?w=!0:b=!0;for(f=0;f<this.model.series.length;++f)this.model.series[f].visibility.toLowerCase()=="visible"&&(n=this.model.series[f],n.xAxisName=ej.util.isNullOrUndefined(n.xAxisName)?l.model.axes[0].axisName:n.xAxisName,n.yAxisName=ej.util.isNullOrUndefined(n.yAxisName)?l.model.axes[1].axisName:n.yAxisName,ej.util.isNullOrUndefined(n.xAxisName)&&ej.util.isNullOrUndefined(n.yAxisName)||(n.xAxisName.toLowerCase()==t.axisName.toLowerCase()||n.yAxisName.toLowerCase()==t.axisName.toLowerCase())&&a.push(n));ej.util.isNullOrUndefined(t.valueType)&&(t.valueType="double"),k=new axisTypes[t.valueType.toLowerCase()],k._calculateRanges(l,t,a)}if(this._trigger("axesRangeCalculate",o),v=$.extend({},SfSvgRender.commonChartEventArgs),v.Data={Axes:this.model.axes},this._trigger("axesLabelsInitialize",v),this._calculateAreaBounds(),y=$.extend({},SfSvgRender.commonChartEventArgs),y.Data={AreaBound:this.model.m_AreaBounds},this._trigger("chartAreaBoundsCalculate",y),this._drawChartAreaRect(),!this.model.isPieSeries){for(this._calculateAxisSize(),this.gXaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis"}),this.gYaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxis"}),$.extend(SfAxisRenderer.prototype,this),this.chartaxis=new SfAxisRenderer(this),d=this.chartaxis,e=0;e<this.model.axes.length;e++)d._drawAxes(e,this.model.axes[e]);this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject),g={id:this.svgObject.id+"_ChartAreaClipRect",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(g,this.svgObject)}this.model.text!=""&&this.model.text&&this._drawTitle(),b&&(this.gStriplineBehind=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineBehind","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("behind")),this.model.initSeriesRender&&this.seriesRender(),w&&(this.gStriplineOver=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineOver","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("over")),this.legendRender.drawLegend(),p=$.extend({},SfSvgRender.commonChartEventArgs),p.Data={Model:this.model},this._trigger("loaded",p)},seriesRender:function(){var i=this,u,t,f,n,e,r,o,s;for($(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").remove(),u={id:this.svgObject.id+"_SeriesCollection","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.gSeriesEle=this.svgRenderer.createGroup(u),t=0;t<this.model.series.length;t++)f=t,n=this.model.series[t],n.type.toLowerCase()==="pie"&&n.visibility.toLowerCase()==="visible"?f===0&&(e=n.type.toLowerCase(),n=$.extend(!0,{},this.model.textStyle,n),this.model.series[0]=$.extend(!0,n,this.model.series[0]),r=$.extend({},SfSvgRender.commonChartEventArgs),r.Data={series:n},this._trigger("seriesRendering",r),o=new seriesTypes[e],o.draw(i,n)):i.model.isPieSeries||n.visibility.toLowerCase()!=="visible"||this.renderSeries(n);$(this.svgObject).find("#"+this.svgObject.id+"_StriplineOver").length>0&&(s=$(this.svgObject).find("#"+this.svgObject.id+"_StriplineOver").detach(),s.appendTo(this.svgObject)),i.model.initSeriesRender=!0},_renderStripline:function(n){var u,r,t,i;for($.extend(SfStripline.prototype,this),this.chartstripline=new SfStripline(this),u=this.chartstripline,r=0;r<this.model.axes.length;r++)for(t=this.model.axes[r],i=0;i<t.stripline.length;i++)t.stripline[i].zOrder.toLowerCase()==n&&u._drawStripline(t,t.stripline[i]);n=="over"?this.svgRenderer.append(this.gStriplineOver,this.svgObject):this.svgRenderer.append(this.gStriplineBehind,this.svgObject)},renderSeries:function(n){var l=this,e=$.inArray(n,this.model.series),t,h,r,c,u,f,v,y,p,w,b;for(ej.util.isNullOrUndefined(n.xAxis)||(n.xAxis=null,n.yAxis=null),$.each(this.model.axes,function(t,i){ej.util.isNullOrUndefined(i.axisName)||i.orientation.toLowerCase()!="horizontal"||i.axisName.toLowerCase()!=n.xAxisName.toLowerCase()?ej.util.isNullOrUndefined(i.axisName)||i.orientation.toLowerCase()!="vertical"||i.axisName.toLowerCase()!=n.yAxisName.toLowerCase()||(n.yAxis=i):n.xAxis=i}),t=0;t<n.points.length;t++)typeof n.points[t].x=="string"&&n.points[t].x.indexOf("/Date(")!=-1&&(n.points[t].x=new Date(parseInt(n.points[t].x.substr(6))));n.xAxis=ej.util.isNullOrUndefined(n.xAxis)?this.model.axes[0]:n.xAxis,n.yAxis=ej.util.isNullOrUndefined(n.yAxis)?this.model.axes[1]:n.yAxis;var i=n.type.toLowerCase(),a,o=n.xAxis.Location.X1,s=n.yAxis.Location.Y1,k={id:this.svgObject.id+"_TextGroup_"+e,transform:"translate("+o+","+s+")"};if(a=i!="scatter"?{id:this.svgObject.id+"_symbolGroup_"+e,transform:"translate("+o+","+s+")"}:{id:this.svgObject.id+"_SeriesGroup_"+e,transform:"translate("+o+","+s+")"},this.gSymbolGroupEle=this.svgRenderer.createGroup(a),this.gSeriesTextEle=this.svgRenderer.createGroup(k),h=$.extend({},SfSvgRender.commonChartEventArgs),h.Data={series:n},this._trigger("seriesRendering",h),r=new seriesTypes[i],r.draw(this,n),!ej.util.isNullOrUndefined(n.marker.showText)&&n.marker.showText&&($.each(n.points,function(t,i){var u=i.symbolLocation?i.symbolLocation:l.svgRenderer.getPoint(i,n);r.drawDisplayText(n,t,i,u.X,-u.Y)}),this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle)),!ej.util.isNullOrUndefined(n.marker)&&n.marker.visible&&!(i=="candle"||i=="hilo"||i=="hiloopenclose"))if($.each(n.points,function(t,i){r.drawSymbolImage(n,t);var u=i.symbolLocation?i.symbolLocation:l.svgRenderer.getPoint(i,n);r.drawSymbol(e,n,t,u.X,-u.Y)}),i!="scatter")this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle);else for(this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element),c=$(this.gSymbolGroupEle).children().not("defs"),u=0;u<c.length;u++)f=c[u].getBBox(),y=f.x+n.xAxis.Location.X1,p=f.y+n.yAxis.Location.Y1,w=f.height,v=f.width,b={X:y,Y:p,Width:v,Height:w},this.svgRenderer.addRegion(this,b,n,null,u);n.animation&&r.doAnimation()},_processOData:function(n){var t=this,i=n.dataSource.data.executeQuery(n.dataSource.query);i.done(function(i){t._processJsonData(i.result,n),$(t.svgObject).empty(),t.draw()})},_processJsonData:function(n,t){for(var y=[],f,u,r,o,s,h,c,e,w,l,a,v,p,i=0;i<n.length;i++)typeof n[i][t.dataSource.xName]=="string"&&n[i][t.dataSource.xName].indexOf("/Date(")!=-1&&(n[i][t.dataSource.xName]=new Date(parseInt(n[i][t.dataSource.xName].substr(6)))),jQuery.type(n[i][t.dataSource.xName])!="string"&&jQuery.type(n[i][t.dataSource.xName])!="date"?y.push(parseFloat(ej.util.isNullOrUndefined(n[i][t.dataSource.xName])?i:n[i][t.dataSource.xName])):y.push(ej.util.isNullOrUndefined(n[i][t.dataSource.xName])?i:n[i][t.dataSource.xName]);if(f=[],u=0,ej.util.isNullOrUndefined(t.dataSource.yNames)&&(t.type.toLowerCase()=="hiloopenclose"||t.type.toLowerCase()=="candle"||t.type.toLowerCase()=="hilo")){for(r=[],o=0;o<n.length;o++)r.push(n[o][t.dataSource.high]===null||n[o][t.dataSource.high]===undefined?n[o][t.dataSource.high]:parseFloat(n[o][t.dataSource.high]));for(f[u]=r,u=u+1,r=[],s=0;s<n.length;s++)r.push(n[s][t.dataSource.low]===null||n[s][t.dataSource.low]===undefined?n[s][t.dataSource.low]:parseFloat(n[s][t.dataSource.low]));if(f[u]=r,u=u+1,t.type.toLowerCase()!=="hilo"){for(r=[],h=0;h<n.length;h++)r.push(n[h][t.dataSource.open]===null||n[h][t.dataSource.open]===undefined?n[h][t.dataSource.open]:parseFloat(n[h][t.dataSource.open]));for(f[u]=r,u=u+1,r=[],c=0;c<n.length;c++)r.push(n[c][t.dataSource.close]===null||n[c][t.dataSource.close]===undefined?n[c][t.dataSource.close]:parseFloat(n[c][t.dataSource.close]));f[u]=r}}if(!ej.util.isNullOrUndefined(t.dataSource.yNames)){for(e=0;e<t.dataSource.yNames.length;e++){for(w=[],l=0;l<n.length;l++)w.push(n[l][t.dataSource.yNames[e]]===null||n[l][t.dataSource.yNames[e]]===undefined?n[l][t.dataSource.yNames[e]]:parseFloat(n[l][t.dataSource.yNames[e]]));f[e]=w,u=e+1}if(t.type.toLowerCase()=="bubble"){for(r=[],a=0;a<n.length;a++)r.push(n[a][t.dataSource.size]===null||n[a][t.dataSource.size]===undefined?n[a][t.dataSource.size]:parseFloat(n[a][t.dataSource.size]));f[u]=r}}for(v=0;v<y.length;v++)for(t.points[v]={x:y[v],YValues:[],visible:!0},p=0;p<f.length;p++)t.points[v].YValues.push(f[p][v])},bindTo:function(){if(!ej.util.isNullOrUndefined(this.model.series)){for(var n=0;n<this.model.series.length;n++)ej.util.isNullOrUndefined(this.model.series[n].visibility)&&(this.model.series[n].visibility="visible"),ej.util.isNullOrUndefined(this.model.series[n].points)&&(this.model.series[n].points=[]),this.model.series[n].dataSource&&(this.model.series[n].dataSource.data instanceof ej.DataManager?this._processOData(this.model.series[n]):this.model.series[n].dataSource.data!=null&&this.model.series[n].dataSource.data.length>0&&this._processJsonData(this.model.series[n].dataSource.data,this.model.series[n]));this.draw()}},chartResize:function(){var n=this,t=$(n.svgObject);this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){n.isDevice()?(t.width($(n.element).width()),t.height($(n.element).height())):(n.svgWidth>$(this).width()?t.width($(this).width()):t.width(n.svgWidth),n.svgHeight>$(this).height()?t.height($(this).height()):t.height(n.svgHeight)),$(n.svgObject).empty(),n.disableAnimation(),n.draw(),n.enableAnimation()},500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},bindEvents:function(){this._on(this.element,"mousemove",this.ChartMouseMove),this._on($(this.svgObject),"mousedown",this.ChartMouseDown),this._on(this.element,"click",this.ChartMouseClick),this._on(this.element,"mouseleave",this.ChartMouseLeave),this._on($(document),"mouseup",this.ChartMouseUp),this.model.needResize&&(this.isDevice()?this._on($(window),"orientationchange",this.chartResize):this._on($(window),"resize",this.chartResize));var n=jQuery.uaMatch(navigator.userAgent),t=n.browser.toLowerCase()=="mozilla"?"DOMMouseScroll":"mousewheel";this._on(this.element,t,this.chartMouseWheel)},calZoomFactors:function(n,t,i,r){var u,f;return n==1?(u=1,f=0):(u=this.svgRenderer.minMax(1/n,0,1),f=r+(i-u)*t),{zoomMFactor:u,zoomMPosition:f}},doMouseWheelZoom:function(n,t,i){if(n>=1){var r=this.calZoomFactors(n,t,i.zoomFactor,i.zoomPosition);if(i.zoomPosition!=r.zoomMPosition)return i.zoomPosition=r.zoomMPosition,i.zoomFactor=r.zoomMPosition+r.zoomMFactor>1?1-r.zoomMPosition:r.zoomMFactor,!0}return!1},enableAnimation:function(){for(var t,n=0;n<this.model.series.length;n++)t=this.model.series[n],t.animation=this.serAnimation[n]},disableAnimation:function(){for(var t=this,i,n=0;n<t.model.series.length;n++)i=t.model.series[n],i.animation=!1},removeTrackBall:function(){var n="#"+this.svgObject.id;$(this.svgObject).find(n+"_Tracker,"+n+"_TrackAxisToolTip,"+n+"_CrosshairVertical,"+n+"_CrosshairHorizontal,"+n+"_AxisCrossToolTip").remove(),$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove()},enableTrackBall:function(){this.model.crossHair.visible=this.chartCross.visible,this.model.crossHair.moveToArea=this.chartCross.mArea},disableTrackBall:function(){this.model.crossHair.visible=!1,this.model.crossHair.moveToArea=!1,this.removeTrackBall()},enableZoomingButtons:function(){var n=this;$(n.svgObject).find("#"+this.svgObject.id+"_ResetZoom").length==0&&(this.resetZoomButton(),this.panButton(),this.zoomButton())},chartMouseWheel:function(n){var t,r,i,o,s;if(this.model.zooming.enableMouseWheel){t=this,this.zoomed=!0;var e,u=!1,f="#"+t.svgObject.id,h=jQuery.uaMatch(navigator.userAgent),c=h.browser.toLowerCase()=="mozilla"?-n.originalEvent.detail/3>0?1:-1:n.originalEvent.wheelDelta/120>0?1:-1;for(r=0;r<this.model.axes.length;r++)i=this.model.axes[r],(i.orientation.toLowerCase()=="vertical"&&(t.model.zooming.type.toLowerCase()=="y"||t.model.zooming.type.trim().toLowerCase()=="x,y")||i.orientation.toLowerCase()=="horizontal"&&(t.model.zooming.type.toLowerCase()=="x"||t.model.zooming.type.trim().toLowerCase()=="x,y"))&&(o=Math.max(1/t.svgRenderer.minMax(i.zoomFactor,0,1),1),s=Math.max(o+.25*c,1),u=u|t.doMouseWheelZoom(s,.5,i)),e=i.zoomFactor==1&&i.zoomPosition==0?!1:!0;this.disableAnimation(),this.disableTrackBall(),u&&t.redraw(),this.enableZoomingButtons(),this.oMouseWheelCoords={x:n.originalEvent.pageX,y:n.originalEvent.pageY},e||($(t.svgObject).find(f+"_ResetZoom,"+f+"_PanBtn,"+f+"_ZoomBtn").remove(),this.enableAnimation()),n.preventDefault&&n.preventDefault(),n.returnValue=!1}$(".tooltipDiv").remove()},GetLegendData:function(n){var i,r,u;u=jQuery.uaMatch(navigator.userAgent),u.browser.toLowerCase()=="mozilla"||u.browser.toLowerCase()=="webkit"?(i=n.pageX-$(this.svgObject).parent().offset().left,r=n.pageY-$(this.svgObject).parent().offset().top):(i=n.pageX-$(this.svgObject).offset().left,r=n.pageY-$(this.svgObject).offset().top);var e=i,o=r,t,f=this,s=0,h=0;return!ej.util.isNullOrUndefined(n.target.id)&&$(n.target).parents(":eq(1)").attr("id")==this.svgObject.id+"_Legend"&&($.each(this.model.legendRegion,function(n,i){f.model.legend.position.toLowerCase()==="top"||f.model.legend.position.toLowerCase()==="bottom"?h=n:s=n,e>i.Bounds.LegendBound.X+i.Bounds.ItemBound.X&&e<i.Bounds.LegendBound.X+i.Bounds.ItemBound.X+i.LegendItem.Bounds.Width*(h+1)&&o>i.Bounds.LegendBound.Y+i.Bounds.ItemBound.Y-f.model.legend.itemPadding&&o<i.Bounds.LegendBound.Y+i.LegendItem.Bounds.Height*(s+1)+2*i.Bounds.ItemBound.X&&(t=i)}),!ej.util.isNullOrUndefined(t))?{LegendItem:t,Series:this.model.series[t.LegendItem.SeriesIndex]}:!1},GetSeriesPoint:function(n){var u,f,o,t,i,r,s,e;if(o=jQuery.uaMatch(navigator.userAgent),o.browser.toLowerCase()=="mozilla"||o.browser.toLowerCase()=="webkit"?(u=n.pageX-$(this.svgObject).parent().offset().left,f=n.pageY-$(this.svgObject).parent().offset().top):(u=n.pageX-$(this.svgObject).offset().left,f=n.pageY-$(this.svgObject).offset().top),t=u,i=f,this.model.series[0].type.toLowerCase()!=="pie"){if(t>this.model.m_AreaBounds.X&&t<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&i>this.model.m_AreaBounds.Y&&i<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&$.each(this.model.chartRegions,function(n,u){if(t>=u.Region.Bounds.X&&t<=u.Region.Bounds.X+u.Region.Bounds.Width&&i>u.Region.Bounds.Y&&i<u.Region.Bounds.Y+u.Region.Bounds.Height)return r=u,!1}),!ej.util.isNullOrUndefined(r))return{Region:r,location:{X:t,Y:i}}}else return s=this,$.each(s.model.pieChartRegions,function(n,o){var g=-.5*Math.PI,y=o.SeriesData,l=o.Region,p,w,b,c,h,a,nt,k,d,v;for(p=u-y.CenterX,w=f-y.CenterY,b=s.model.series[o.SeriesIndex],c=Math.atan2(w,p)-g,c<0&&(c=2*Math.PI+c),h=[],a=0;a<l.length;a++)if(c>=l[a].StartAngle&&c<=l[a].EndAngle){h.push(l[a]);break}if(h.length>0)if(nt=b.explodeAll||b.explodeIndex==h[0].PointIndex,nt){for(k=u-h[0].StartX,d=f-h[0].StartY,c=Math.atan2(d,k)-g,c<0&&(c=2*Math.PI+c),h=[],v=0;v<l.length;v++)c>=l[v].StartAngle&&c<=l[v].EndAngle&&h.push(l[v]);h.length>0&&(e=Math.sqrt(Math.pow(Math.abs(k),2)+Math.pow(Math.abs(d),2)),e<=y.Radius&&(l.PointIndex=h[0].PointIndex,r={Region:o,PointData:h,location:{X:t,Y:i}}))}else e=Math.sqrt(Math.pow(Math.abs(p),2)+Math.pow(Math.abs(w),2)),e<=y.Radius&&(l.PointIndex=h[0].PointIndex,r={Region:o,PointData:h,location:{X:t,Y:i}})}),r},calMousePosition:function(n){var r=jQuery.uaMatch(navigator.userAgent),t,i;return r.browser.toLowerCase()=="mozilla"||r.browser.toLowerCase()=="webkit"?(t=n.pageX-$(this.svgObject).parent().offset().left,i=n.pageY-$(this.svgObject).parent().offset().top):(t=n.pageX-$(this.svgObject).offset().left,i=n.pageY-$(this.svgObject).offset().top),{X:t,Y:i}},cancelEvent:function(n){return n.stopPropagation(),n.preventDefault(),n.returnValue=!1,n.cancelBubble=!0,!1},resetZoom:function(){var n=this,t="#"+n.svgObject.id;n.zoomed&&($.each(this.model.axes,function(n,t){t.zoomFactor=1,t.zoomPosition=0}),$(n.svgObject).find(t+"_ResetZoom,"+t+"_PanBtn,"+t+"_ZoomBtn").remove(),n.zoomed=!1,n.panning=!1,n.redraw(),n.enableAnimation(),n.enableTrackBall(),$(n.svgObject).find(t+"_XAxis,"+t+"_ChartArea,"+t+"_YAxis,"+t+"_SeriesCollection").attr("cursor","default"))},startZoom:function(){var t=this,n="#"+t.svgObject.id,u=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",f=$(n+"_ZoomBtn"),i,r;f.attr("selected","true"),i=$(n+"_ZoomPath"),i.attr("fill","#14B9FF"),r=$(n+"_ZoomIcon"),r.attr("fill","#FFFFFF"),$(n+"_PanPath").attr("fill","#B7B7B7"),$(n+"_panIcon").attr("fill",u),$(t.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection").attr("cursor","default"),t.panning=!1,t.enableTrackBall()},startPan:function(){var t=this,n="#"+t.svgObject.id,u=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",f=$(n+"_ZoomBtn"),i,r;f.attr("selected","false"),$(n+"_PanBtn").attr("selected","true"),i=$(n+"_ZoomPath"),i.attr("fill","#B7B7B7"),r=$(n+"_ZoomIcon"),r.attr("fill",u),$(n+"_PanPath").attr("fill","#14B9FF"),$(n+"_panIcon").attr("fill","#FFFFFF"),$(t.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection").attr("cursor","pointer"),t.panning=!0,t.disableTrackBall()},zoomButton:function(){var i=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-116),r=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),u=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",n=this.svgRenderer.createGroup({id:this.svgObject.id+"_ZoomBtn",transform:"translate("+i+","+r+")",selected:"true"}),f={id:this.svgObject.id+"_ZoomPath",d:"M32,27c0,2.75-2.25,5-5,5H5c-2.75,0-5-2.25-5-5V5c0-2.75,2.25-5,5-5h22c2.75,0,5,2.25,5,5V27z",fill:this.panning?"#b7b7b7":"#14B9FF"},t;this.svgRenderer.drawPath(f,n),t={id:this.svgObject.id+"_ZoomIcon",d:"M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571",fill:this.panning?u:"#FFFFFF"},this.svgRenderer.drawPath(t,n),this.svgRenderer.append(n,this.svgObject),this._on($(n),"click",this.startZoom)},panButton:function(){var i=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-79),r=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),u=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",n=this.svgRenderer.createGroup({id:this.svgObject.id+"_PanBtn",transform:"translate("+i+","+r+")",selected:"false"}),f={id:this.svgObject.id+"_PanPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:this.panning?"#14B9FF":"#b7b7b7"},t;this.svgRenderer.drawPath(f,n),t={id:this.svgObject.id+"_panIcon",points:"26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789",fill:this.panning?"#FFFFFF":u},this.svgRenderer.drawPolygon(t,n),this.svgRenderer.append(n,this.svgObject),this._on($(n),"click",this.startPan)},resetZoomButton:function(){var e=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-42),o=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),n=this.svgRenderer.createGroup({id:this.svgObject.id+"_ResetZoom",transform:"translate("+e+","+o+")",selected:"false"}),t=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",s={id:this.svgObject.id+"_ResetZoomPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:"#b7b7b7"},i,r,u,f;this.svgRenderer.drawPath(s,n),i={id:this.svgObject.id+"_ptIcon",points:"11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186",fill:t},this.svgRenderer.drawPolygon(i,n),r={id:this.svgObject.id+"_ptIcon1",points:"19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072",fill:t},this.svgRenderer.drawPolygon(r,n),u={id:this.svgObject.id+"_ptIcon2",points:"11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123",fill:t},this.svgRenderer.drawPolygon(u,n),f={id:this.svgObject.id+"_ptIcon3",points:"19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23",fill:t},this.svgRenderer.drawPolygon(f,n),this.svgRenderer.append(n,this.svgObject),this._on($(n),"click",this.resetZoom)},doZoom:function(n,t,i){var u=this,e;for($("#"+this.svgObject.id+"_ZoomArea").remove(),this.drag=!1,this.zoomed=!0,e=0;e<this.model.axes.length;e++){var r=this.model.axes[e],f=r.zoomFactor,o=r.zoomPosition;r.orientation.toLowerCase()=="horizontal"?(r.zoomFactor=u.model.zooming.type.toLowerCase()!="y"?f*(t/u.model.m_AreaBounds.Width):1,r.zoomPosition=u.model.zooming.type.toLowerCase()!="y"?o+Math.abs((parseFloat($(n).attr("x"))-u.model.m_AreaBounds.X)/u.model.m_AreaBounds.Width)*f:0,parseFloat(r.zoomFactor.toFixed(3))<=.001&&(r.zoomFactor=f,r.zoomPosition=o)):(r.zoomFactor=u.model.zooming.type.toLowerCase()!="x"?f*i/u.model.m_AreaBounds.Height:1,r.zoomPosition=u.model.zooming.type.toLowerCase()!="x"?o+(1-Math.abs((i+(parseFloat($(n).attr("y"))-u.model.m_AreaBounds.Y))/u.model.m_AreaBounds.Height))*f:0,parseFloat(r.zoomFactor.toFixed(3))<=.001&&(r.zoomFactor=f,r.zoomPosition=o))}this.disableAnimation(),this.redraw(),this.enableZoomingButtons()},ChartMouseUp:function(){var t=this;if(this.model.zooming.enabled){var n=$("#"+this.svgObject.id+"_ZoomArea"),i=parseFloat($(n).attr("width")),r=parseFloat($(n).attr("height"));i>0&&r>0&&t.doZoom(n,i,r),t.panning||this.enableTrackBall()}this.doPan&&(this.doPan=!1)},ChartMouseDown:function(n){var t,i;this.oPreviousCoords={},$(n.target).parent().attr("id")!=this.svgObject.id+"_ResetZoom"&&$(n.target).parent().attr("id")!=this.svgObject.id+"_PanBtn"&&this.model.zooming.enabled&&!this.panning?(t=this.calMousePosition(n),this.mouseDownX=t.X,this.mouseDownY=t.Y,this.mouseDownX>=this.model.m_AreaBounds.X&&this.mouseDownX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mouseDownY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mouseDownY>=this.model.m_AreaBounds.Y&&(this.drag=!0,this.disableTrackBall())):this.panning&&(i=this.calMousePosition(n),this.mousePanX=i.X,this.mousePanY=i.Y,this.mousePanX>=this.model.m_AreaBounds.X&&this.mousePanX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousePanY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousePanY>=this.model.m_AreaBounds.Y&&(this.doPan=!0,this.oPreviousCoords={x:n.pageX,y:n.pageY}))},ChartMouseLeave:function(){$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").remove(),$(".tooltipDiv").hasClass(this.svgObject.id)||$(".tooltipDiv").remove(),this.removeTrackBall()},ChartMouseClick:function(n){var f=this.GetSeriesPoint(n),r,t,u,i;if(f&&(r=$.extend({},SfSvgRender.commonChartEventArgs),r.Data=f,this._trigger("pointRegionClick",r)),t=this.GetLegendData(n),t&&(u=$.extend({},SfSvgRender.commonChartEventArgs),u.Data=t,this._trigger("legendItemClick",u),t.Series.type.toLowerCase()!=="pie"&&!this.zoomed)){for(t.Series.visibility=t.Series.visibility.toLowerCase()==="visible"?"hidden":"visible",$(this.svgObject).empty(),this.model.seriesCollapsed=!1,i=0;i<this.model.series.length;i++)if(this.model.series[i].visibility.toLowerCase()=="hidden"){this.model.seriesCollapsed=!0;break}this.disableAnimation(),this.draw(),this.enableAnimation()}},drawTrackerSymbol:function(n,t,i,r,u){var f=n.type.toLowerCase(),e=new seriesTypes[f],o=n.xAxis.Location.X1,s=n.yAxis.Location.Y1,h={"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",id:this.svgObject.id+"_TrackSymbol_"+t};this.gTrackerEle=this.svgRenderer.createGroup(h),this.model.crossHair.marker.visible&&e.drawSymbol(t,n,i,u.X+o,-u.Y+s,this,r),this.svgRenderer.append(this.gTrackerEle,this.svgObject)},getClosesPointXY:function(n,t,i,r,u){var o,s=this.GetValuebyPoint(Math.abs(r-i.xAxis.Location.X1),Math.abs(u-i.yAxis.Location.Y1),i),c=s.PointX,l=s.PointY,h,f,e;return u<=i.yAxis.Location.Y1&&i.yAxis.Location.Y2<=u&&i.xAxis.Location.X1<=r&&r<=i.xAxis.Location.X2&&($.each(i.points,function(i,r){n.push(r.X),t.push(r.YValues[0])}),f=this.getClosest(n.sort(),c),e=this.getClosest(t.sort(),l),ej.util.isNullOrUndefined(f)||ej.util.isNullOrUndefined(e)||$.each(i.points,function(n,t){t.X==f&&t.YValues[0]==e&&(o=t,h=n)})),{point:o,index:h}},getClosestPointX:function(n,t,i,r){var f=[],o=this.GetValuebyPoint(Math.abs(i-t.xAxis.Location.X1),Math.abs(r-t.yAxis.Location.Y1),t),s=o.PointX,e=[],u;return $.each(t.points,function(t,i){n.push(i.X)}),u=this.getClosest(n,s),ej.util.isNullOrUndefined(u)||$.each(t.points,function(n,t){t.X==u&&(f.push(t),e.push(n))}),{point:f,index:e}},getClosest:function(n,t){var r=null,u=Math.min.apply(null,n),f=Math.max.apply(null,n),i;if(t>=u&&t<=f+1)for(i=0;i<n.length;i++)(r==null||Math.abs(n[i]-t)<Math.abs(r-t))&&(r=n[i]);return r},createToolTip:function(n,t){var i=this.model.series[n.SeriesIndex],a=i.points[n.Region.PointIndex],u=$.extend(!0,{},a),h,o,r,c,s,l,f,e;u.x=i.xAxis.labels[n.Region.PointIndex]?i.xAxis.labels[n.Region.PointIndex]:u.X,h=u.x+": "+u.YValues[0],o=$.extend({},SfSvgRender.commonChartEventArgs),o.Data={ToolTip:h,Region:n,Series:i},this._trigger("toolTipInitialize",o),r=$(".tooltipDiv"),$(".tooltipDiv").length==0?(this.tooltipFirst=!0,r=$("<div class='tooltipDiv' style='position: absolute; z-index: 13000; display: block;'><\/div>"),$(document.body).append(r),$(".tooltipDiv").addClass(this.svgObject.id)):this.tooltipFirst=!1,i.xAxis.valueType.toLowerCase()=="datetime"&&(u.x=Globalize.format(new Date(u.X),ej.util.isNullOrUndefined(i.xAxis.labelFormat)?this.svgRenderer.dateTimeLabelFormat(i.xAxis.intervalType):i.xAxis.labelFormat)),i.pointsTooltipTemplateID!=null?(c=$("#"+i.pointsTooltipTemplateID).clone(),$(".tooltipDiv")[0].innerHTML="",$(c).css("display","block").appendTo(r),i.count=1,u.count=1,s=this.getSeriesColor(u,n.SeriesIndex),$(r).css("background-color",jQuery.type(s)=="array"?s[0].color:s),l={series:i,point:u},$(r).html($(r).html().parseTemplate(l))):$(r).html(o.Data.ToolTip),f=t.clientX+$(document).scrollLeft()+10,e=t.clientY+$(document).scrollTop()+10,f=f+$(r).width()<$(window).width()?f:f-$(r).width(),e=e+$(r).height()<$(window).height()?e:e-$(r).height(),(f===undefined||f===null)&&(f=t.clientX+$(document).scrollLeft()+10),(e===undefined||e===null)&&(e=t.clientY+$(document).scrollTop()+10),$(r).css("left",f),$(r).css("top",e),i.toolTipOptions&&i.toolTipOptions.animation&&$(r).css({"transition-property":"left,top","-moz-transition-property":"left,top","-webkit-transition-property":"left,top","-o-transition-property":"left,top","transition-duration":i.toolTipOptions.duration,"-moz-transition-duration":i.toolTipOptions.duration,"-webkit-transition-duration":this.tooltipFirst?"0s":i.toolTipOptions.duration,"-o-transition-duration":i.toolTipOptions.duration})},translate:function(n,t,i,r){var u=n.orientation.toLowerCase()=="horizontal"?t/this.model.m_AreaBounds.Width/r:i/this.model.m_AreaBounds.Height/r;n.zoomPosition=n.orientation.toLowerCase()=="horizontal"?this.svgRenderer.minMax(n.zoomPosition+u,0,1-n.zoomFactor):this.svgRenderer.minMax(n.zoomPosition-u,0,1-n.zoomFactor)},ChartMouseMove:function(n){var ut=this.calMousePosition(n),r,ft,et,t,o,e,s,f,ot,st,h,c,l,a,ht,d,i,u,v,y,ct,g,nt,tt,lt,at,vt,it,b,rt;if(this.mousemoveX=ut.X,this.mousemoveY=ut.Y,r="#"+this.svgObject.id,this.oMouseWheelCoords&&(ft=Math.abs(this.oMouseWheelCoords.x-n.pageX),et=Math.abs(this.oMouseWheelCoords.y-n.pageY),(ft>0||et>0)&&!this.panning?this.enableTrackBall():this.disableTrackBall()),t=this,this.mousemoveX>=this.model.m_AreaBounds.X&&this.mousemoveX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousemoveY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousemoveY>=this.model.m_AreaBounds.Y&&!t.model.isPieSeries){if(o={x:t.mousemoveX,y:t.mousemoveY},e=$(n.target).parent().attr("id"),e!=undefined&&(e==$(this.svgObject).find(r+"_ZoomBtn").attr("id")||e==$(this.svgObject).find(r+"_ResetZoom").attr("id")||e==$(this.svgObject).find(r+"_PanBtn").attr("id"))?this.disableTrackBall():this.panning||this.enableTrackBall(),s=!1,this.model.crossHair.visible||this.model.crossHair.moveToArea||$.each(this.model.series,function(i,r){var e,o,c,l,a,h;if(r.visibility.toLowerCase()=="visible"&&r.type.toLowerCase()!=="scatter"&&r.type.toLowerCase()!=="bubble"&&r.type.toLowerCase()!=="candle"&&r.type.toLowerCase()!=="hiloopenclose"&&r.type.toLowerCase()!=="hilo"&&r.type.toLowerCase()!=="column"&&r.type.toLowerCase()!=="pie"){$("#"+t.svgObject.id+"_TrackToolTipTemplate_"+i).remove(),$(".tooltipDiv").hasClass(t.svgObject.id)||$(".tooltipDiv").remove(),$("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackSymbol_"+i).remove();var f=null,u=t.getClosesPointXY([],[],r,t.mousemoveX,t.mousemoveY);ej.util.isNullOrUndefined(u.point)||(f=t.svgRenderer.getPoint(u.point,r)),(r.marker&&r.marker.visible&&!ej.util.isNullOrUndefined(u.point)||r.type.toLowerCase()=="bubble"&&!ej.util.isNullOrUndefined(u.point))&&($(t.svgObject).find('[id*="_TrackSymbol_"]').remove(),t.drawTrackerSymbol(r,i,u.index,!0,f)),t.model.showTooltip&&!ej.util.isNullOrUndefined(u.point)&&(e=r.xAxis.Location.X1,o=r.yAxis.Location.Y1,$(t.svgObject).find("#"+t.svgObject.id+"_TrackToolTip").length==0&&(c={id:t.svgObject.id+"_TrackToolTip",transform:"translate("+e+","+o+")"},t.gTransToolEle=t.svgRenderer.createGroup(c)),$(t.svgObject).find("#"+t.svgObject.id+"_TrackToolTip").attr("transform","translate("+e+","+o+")"),ej.util.isNullOrUndefined(r.pointsTooltipTemplateID)?(s=!0,$(".tooltipDiv").remove(),t.displayShowToolTip(f,u.point,r,u.index)):(s=!0,$("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").remove(),l={SeriesIndex:i,Region:{PointIndex:u.index}},t.createToolTip(l,n)),a=$(t.svgObject).find("#"+t.svgObject.id+"_TrackToolTip").detach(),a.appendTo(t.svgObject),h=$.extend({},SfSvgRender.commonChartEventArgs),h.Data={point:u.point,series:r},t._trigger("pointRegionMouseMove",h))}}),this.model.crossHair.visible&&!this.model.crossHair.moveToArea&&($("#"+t.svgObject.id).find(t.gTrackAxisEle).remove(),this.model.crossHair.tooltipTemplate!=null&&$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),ej.util.isNullOrUndefined(t.gTransToolEle)||ej.util.isNullOrUndefined(t.gTrackerEle)||$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').remove(),$.each(this.model.series,function(n,i){var o,r,u,e,s;if(i.visibility.toLowerCase()=="visible")if(o=[],r=t.getClosestPointX(o,i,t.mousemoveX,t.mousemoveY),ej.util.isNullOrUndefined(r.point))$(t.svgObject).find('[id*="_Tracker"]').remove();else for(u=0;u<r.point.length;u++){f=t.svgRenderer.getPoint(r.point[u],i),e="M "+(f.X+i.xAxis.Location.X1)+" "+t.model.m_AreaBounds.Y+" L "+(f.X+i.xAxis.Location.X1)+" "+(t.model.m_AreaBounds.Y+t.model.m_AreaBounds.Height),s={id:t.svgObject.id+"_Tracker",fill:"none","stroke-width":t.model.crossHair.line.width,"clip-path":"url(#"+t.svgObject.id+"_ChartAreaClipRect)",stroke:t.model.crossHair.line.color,d:e},$(t.svgObject).find("#"+t.svgObject.id+"_Tracker").length==0?t.svgRenderer.drawPath(s,t.svgObject):$(t.svgObject).find("#"+t.svgObject.id+"_Tracker").attr("d",e);var h=i.xAxis.Location.X1,c=i.yAxis.Location.Y1,l={transform:"translate("+h+","+c+")",id:t.svgObject.id+"_TrackToolTip_"+n};t.gTransToolEle=t.svgRenderer.createGroup(l),t.drawTrackerSymbol(i,n,r.index[u],!0,f),ej.util.isNullOrUndefined(t.model.crossHair.tooltipTemplate)?t.displayToolTip(f,r.point[u],i,r.index[u]):t.displayTemplateTooltip(h,c,f,r.point[u],i,n,r.index[u])}}),ot={id:t.svgObject.id+"_TrackAxisToolTip"},t.gTrackAxisEle=t.svgRenderer.createGroup(ot),ej.util.isNullOrUndefined(f)||($.each(t.model.axes,function(n,i){var r,u;i.orientation.toLowerCase()=="horizontal"&&i.showCrossHairLabel&&(r=(f.X/(i.Location.X2-i.Location.X1)*(i.visibleRange.max-i.visibleRange.min)+i.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),i.valueType.toLowerCase()=="datetime"&&(r=Globalize.format(new Date(Math.floor(r)),ej.util.isNullOrUndefined(i.labelFormat)?t.svgRenderer.dateTimeLabelFormat(i.intervalType):i.labelFormat)),r=i.labels.length>0?i.labels[Math.floor(r)]:r,u={X:f.X+i.Location.X1,Y:i.opposedPosition?i.Location.Y1-i.majorTickLines.size:i.Location.Y1+i.majorTickLines.size+10},t.displayAxisTooltip(u,r,i,n,o))}),$(t.gTrackAxisEle).children().length>0&&t.svgRenderer.append(t.gTrackAxisEle,t.svgObject))),this.model.crossHair.moveToArea){$("#"+t.svgObject.id).find(t.gTrackAxisEle).remove();var k="M "+this.mousemoveX+" "+this.model.m_AreaBounds.Y+" L "+this.mousemoveX+" "+(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height),yt="M "+this.model.m_AreaBounds.X+" "+this.mousemoveY+" L "+(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width)+" "+this.mousemoveY,pt={id:t.svgObject.id+"_CrosshairVertical",fill:"none","stroke-width":t.model.crossHair.line.width,stroke:t.model.crossHair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:k},wt={id:t.svgObject.id+"_CrosshairHorizontal",fill:"none","stroke-width":t.model.crossHair.line.width,stroke:t.model.crossHair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:k};$(t.svgObject).find("#"+t.svgObject.id+"_CrosshairVertical").length==0?t.svgRenderer.drawPath(pt,t.svgObject):$(t.svgObject).find("#"+t.svgObject.id+"_CrosshairVertical").attr("d",k),$(t.svgObject).find("#"+t.svgObject.id+"_CrosshairHorizontal").length==0?t.svgRenderer.drawPath(wt,t.svgObject):$(t.svgObject).find("#"+t.svgObject.id+"_CrosshairHorizontal").attr("d",yt),st={id:t.svgObject.id+"_AxisCrossToolTip"},t.gTrackAxisEle=t.svgRenderer.createGroup(st),$.each(t.model.axes,function(n,i){var r,u,f,e;i.orientation.toLowerCase()=="horizontal"&&i.showCrossHairLabel?(r=((t.mousemoveX-i.Location.X1)/(i.Location.X2-i.Location.X1)*(i.visibleRange.max-i.visibleRange.min)+i.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),i.valueType.toLowerCase()=="datetime"&&(r=Globalize.format(new Date(Math.floor(r)),ej.util.isNullOrUndefined(i.labelFormat)?t.svgRenderer.dateTimeLabelFormat(i.intervalType):i.labelFormat)),r=i.labels.length>0?i.labels[Math.floor(r)]:r,u={X:t.mousemoveX,Y:i.Location.Y1},t.displayAxisTooltip(u,r,i,n,o)):i.orientation.toLowerCase()=="vertical"&&i.showCrossHairLabel&&t.mousemoveY<=i.Location.Y1&&i.Location.Y2<=t.mousemoveY&&(f=(Math.abs(t.mousemoveY-i.Location.Y1)/(i.Location.Y1-i.Location.Y2)*(i.visibleRange.max-i.visibleRange.min)+i.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),e={X:i.Location.X1,Y:t.mousemoveY},t.displayAxisTooltip(e,f,i,n,o))})}}else $("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").remove(),$(".tooltipDiv").remove(),this.removeTrackBall();if(!this.model.zooming.enabled||this.panning||this.model.isPieSeries||this.drag&&(this.disableTrackBall(),$("#"+this.svgObject.id+"_ZoomArea").remove(),this.model.zooming.type.toLowerCase()=="x"?(h=Math.abs(this.mousemoveX-this.mouseDownX),c=this.model.m_AreaBounds.Height,l=this.mousemoveX>this.mouseDownX?this.mouseDownX:this.mousemoveX,a=this.model.m_AreaBounds.Y):this.model.zooming.type.toLowerCase()=="y"?(h=this.model.m_AreaBounds.Width,c=Math.abs(this.mousemoveY-this.mouseDownY),l=this.model.m_AreaBounds.X,a=this.mousemoveY>this.mouseDownY?this.mouseDownY:this.mousemoveY):(h=Math.abs(this.mousemoveX-this.mouseDownX),c=Math.abs(this.mousemoveY-this.mouseDownY),l=this.mousemoveX>this.mouseDownX?this.mouseDownX:this.mousemoveX,a=this.mousemoveY>this.mouseDownY?this.mouseDownY:this.mousemoveY),$(this.svgObject).css({"-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}),this.zooming=!0,ht={id:this.svgObject.id+"_ZoomArea",x:l,y:a,width:h,height:c,fill:"rgba(69,114,167,0.25)","stroke-width":1,stroke:"rgba(69,114,167,0.25)","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(ht,this.svgObject)),this.panning&&this.doPan&&!this.model.isPieSeries&&(d={x:this.oPreviousCoords.x-n.pageX,y:this.oPreviousCoords.y-n.pageY},this.oPreviousCoords={x:n.pageX,y:n.pageY},$.each(this.model.axes,function(n,i){var r=Math.max(1/t.svgRenderer.minMax(i.zoomFactor,0,1),1);t.translate(i,d.x,d.y,r)}),this.redraw(),$(this.svgObject).find(r+"_XAxis,"+r+"_ChartArea,"+r+"_YAxis,"+r+"_SeriesCollection").attr("cursor","pointer"),this.enableZoomingButtons()),$(this.svgObject).find(r+"_ResetZoom,"+r+"_PanBtn,"+r+"_ZoomBtn").length>0&&$(this.svgObject).find(r+"_ResetZoom,"+r+"_PanBtn,"+r+"_ZoomBtn").appendTo(this.svgObject),i=this.GetSeriesPoint(n),$(".tooltipDiv").hasClass(this.svgObject.id)||$(".tooltipDiv").remove(),i){if(this.model.isPieSeries&&this.model.series[i.Region.SeriesIndex].explode&&(this.model.series[i.Region.SeriesIndex].animation?this.model.pieAnimationComplete&&this.pieExplosion(i,n):this.pieExplosion(i,n)),u=this.model.series[i.Region.SeriesIndex],v=this.model.series[i.Region.SeriesIndex].points[i.Region.Region.PointIndex],v&&(u.type.toLowerCase()=="bubble"||u.type.toLowerCase()=="scatter")){for(y=0;y<this.model.series.length;y++)$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackSymbol_"+y).remove();ct=t.svgRenderer.getPoint(v,u),this.drawTrackerSymbol(u,i.Region.SeriesIndex,i.Region.Region.PointIndex,!0,ct)}this.model.showTooltip&&!s&&u.visibility.toLowerCase()=="visible"&&(ej.util.isNullOrUndefined(u.pointsTooltipTemplateID)?(this.model.isPieSeries?($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(at={id:this.svgObject.id+"_TrackToolTip"},this.gTransToolEle=this.svgRenderer.createGroup(at)),g={X:i.location.X,Y:Math.abs(i.location.Y)}):(nt=u.xAxis.Location.X1,tt=u.yAxis.Location.Y1,$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(lt={id:this.svgObject.id+"_TrackToolTip",transform:"translate("+nt+","+tt+")"},this.gTransToolEle=this.svgRenderer.createGroup(lt)),$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").attr("transform","translate("+nt+","+tt+")"),g={X:i.location.X-u.xAxis.Location.X1,Y:Math.abs(i.location.Y-u.yAxis.Location.Y1)}),$(".tooltipDiv").remove(),this.displayShowToolTip(g,v,u,i.Region.Region.PointIndex),(u.type.toLowerCase()=="bubble"||u.type.toLowerCase()=="scatter")&&(vt=$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").detach(),vt.appendTo(this.svgObject))):($("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").remove(),this.createToolTip(i.Region,n))),it=$.extend({},SfSvgRender.commonChartEventArgs),it.Data=i,this._trigger("pointRegionMouseMove",it)}else if(!ej.util.isNullOrUndefined(this.model.explodeValue)){var bt=new seriesTypes.pie,p=bt._drawPieSlice(this,this.model.explodeValue,this.model.series[0].points[this.model.explodeValue],this.model.series[0]),kt=this.model.series[0].name+"group"+this.model.explodeValue,w=$(this.gSeriesEle).children("#"+kt)[0];$(w.childNodes[0]).attr("d",p.Direction),$(w.childNodes[1]).attr("x",p.PositionX),$(w.childNodes[1]).attr("y",p.PositionY),ej.util.isNullOrUndefined(this.model.series[0].labelPosition)||this.model.series[0].labelPosition.toLowerCase()!="outside"||$(w.childNodes[2]).attr("d",p.Connector),this.model.explodeValue=null}b=this.GetLegendData(n),b&&(rt=$.extend({},SfSvgRender.commonChartEventArgs),rt.Data=b,this._trigger("legendItemMouseMove",rt),b.Series.type.toLowerCase()==="pie"||this.zoomed||$(n.target).attr("cursor","pointer"))},pieExplosion:function(n,t){var i=n,r,f=new seriesTypes[i.Region.Series.type],e,o,u;ej.util.isNullOrUndefined(this.model.explodeIndex)&&(e=i.Region.Series.explodeIndex),e==i.PointData[0].PointIndex||i.Region.Series.explodeAll||(ej.util.isNullOrUndefined(this.model.explodeValue)?(this.model.explodeValue=i.PointData[0].PointIndex,i.Region.Series.explodeIndex=this.model.explodeValue,r=f._drawPieSlice(this,i.PointData[0].PointIndex,i.Region.Series.points[i.PointData[0].PointIndex],i.Region.Series),$(t.target).parent().children().eq(0).attr("d",r.Direction),$(t.target).parent().children().eq(1).attr("x",r.PositionX),$(t.target).parent().children().eq(1).attr("y",r.PositionY),ej.util.isNullOrUndefined(i.Region.Series.labelPosition)||i.Region.Series.labelPosition.toLowerCase()!="outside"||$(t.target).parent().children().eq(2).attr("d",r.Connector)):(i.Region.Series.explodeIndex=i.PointData[0].PointIndex,this.model.explodeValue<this.model.pieChartRegions[0].Series.points.length&&(r=f._drawPieSlice(this,this.model.explodeValue,this.model.pieChartRegions[0].Series.points[this.model.explodeValue],i.Region.Series),o=this.model.series[0].name+"group"+this.model.explodeValue,u=$(this.gSeriesEle).children("#"+o)[0],$(u.childNodes[0]).attr("d",r.Direction),$(u.childNodes[1]).attr("x",r.PositionX),$(u.childNodes[1]).attr("y",r.PositionY),ej.util.isNullOrUndefined(this.model.series[0].labelPosition)||this.model.series[0].labelPosition.toLowerCase()!="outside"||$(u.childNodes[2]).attr("d",r.Connector)),this.model.explodeValue!=i.PointData[0].PointIndex&&(this.model.explodeValue=i.PointData[0].PointIndex,r=f._drawPieSlice(this,i.PointData[0].PointIndex,i.Region.Series.points[i.PointData[0].PointIndex],i.Region.Series),$(t.target).parent().children().eq(0).attr("d",r.Direction),$(t.target).parent().children().eq(1).attr("x",r.PositionX),$(t.target).parent().children().eq(1).attr("y",r.PositionY),ej.util.isNullOrUndefined(i.Region.Series.labelPosition)||i.Region.Series.labelPosition.toLowerCase()!="outside"||$(t.target).parent().children().eq(2).attr("d",r.Connector)))),i.Region.Series.explodeIndex=e},displayTemplateTooltip:function(n,t,i,r,u,f,e){var s=$.extend(!0,{},r),c,h,l;s.x=u.xAxis.labels[e]?u.xAxis.labels[e]:s.X,u.xAxis.valueType.toLowerCase()=="datetime"&&(s.x=Globalize.format(new Date(s.X),ej.util.isNullOrUndefined(u.xAxis.labelFormat)?this.svgRenderer.dateTimeLabelFormat(u.xAxis.intervalType):u.xAxis.labelFormat));var a=i.X+n+15,v=-i.Y+t+15,o=$("<div style='position: absolute; z-index: 13000; display: block;'><\/div>");$(o).addClass("TrackToolTipTemplate"),$(o).attr("id",this.svgObject.id+"_TrackToolTipTemplate_"+f),this.model.crossHair.tooltipTemplate!=null&&(c=$("#"+this.model.crossHair.tooltipTemplate).clone(),$(c).css("display","block").appendTo(o),u.count=1,s.count=1,h=this.getSeriesColor(s,f),$(o).css("background-color",jQuery.type(h)=="array"?h[0].color:h),l={series:u,point:s},$(o).html($(o).html().parseTemplate(l))),$(document.body).append(o),$(o).css("left",a+$(o).width()),$(o).css("top",v+$(o).height())},displayAxisTooltip:function(n,t,i,r,u){for(var s=0,p,v,a,y,c,h=0;h<this.model.axes.length;h++)this.model.axes[h].majorTickLines.size>s&&(s=this.model.axes[h].majorTickLines.size);if(p=i.opposedPosition?s+10+i.Location.X2:i.Location.X2,n.X>=0&&n.X<=p){var e=n.X,l=n.Y,f=5,w=t,o=this.svgRenderer.measureText(t);i.orientation.toLowerCase()=="horizontal"&&(e=e-o.width/2+f,i.opposedPosition==!0&&(l=i.Location.Y1-o.height+f-3-s),i.opposedPosition==!1&&(l=i.Location.Y1+o.height-f+3+s)),!i.opposedPosition&&e+o.width>this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&(e=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X-o.width+f+this.model.elementSpacing),i.orientation.toLowerCase()=="vertical"&&(i.opposedPosition==!0&&(e=i.Location.X1+2*f-2+s),i.opposedPosition==!1&&(e=i.Location.X1-o.width-s)),v={id:this.svgObject.id+"_AxisToolTipRect_"+r,x:e,y:l,width:o.width,height:o.height,rx:i.crossHairLabelStyle.rectOptions.rx,ry:i.crossHairLabelStyle.rectOptions.ry,fill:i.crossHairLabelStyle.rectOptions.fillColor,"stroke-width":i.crossHairLabelStyle.rectOptions.borderWidth,stroke:i.crossHairLabelStyle.rectOptions.borderColor},this.svgRenderer.drawRect(v,this.gTrackAxisEle),a=$.extend({},SfSvgRender.commonChartEventArgs),a.Data={axisIndex:r,chartAxis:i,currentTrackText:w,location:u},this._trigger("trackAxisToolTip",a),y={id:this.svgObject.id+"_AxisToolTipText_"+r,x:e,y:l,fill:i.crossHairLabelStyle.textOptions.color,"font-size":i.crossHairLabelStyle.textOptions.size,"font-family":i.crossHairLabelStyle.textOptions.fontFamily,"font-style":i.crossHairLabelStyle.textOptions.fontStyle,"font-weight":i.crossHairLabelStyle.textOptions.fontWeight,"text-anchor":"start",opacity:i.crossHairLabelStyle.textOptions.opacity,"dominant-baseline":"middle"},this.svgRenderer.drawText(y,a.Data.currentTrackText,this.gTrackAxisEle),c=$("#"+y.id)[0].getBBox(),$("#"+v.id).attr({x:c.x-f,y:c.y-f,width:c.width+2*f,height:c.height+2*f})}},displayToolTip:function(n,t,i,r){var e,o,l,u,a,v,c,d;if((n.X+this.model.m_AreaBounds.X>this.model.m_AreaBounds.X||n.X==0)&&n.X+this.model.m_AreaBounds.X<=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&n.Y+this.model.m_AreaBounds.Y>this.model.m_AreaBounds.Y&&n.Y+this.model.m_AreaBounds.Y<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height){var s=$.inArray(i,this.model.series),f=5,y=n.X+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.marker.size.width)+f+1,p=-n.Y,g=i.tooltipFormat,nt=ej.util.isNullOrUndefined(i.yAxis.roundingPlaces?2:i.yAxis.roundingPlaces),w=this.gettoolTipFormat(t,i,s,r,g,nt),b=this.svgRenderer.measureText(w),tt=this.getSeriesColor(t,s),h=this.getTooltipOptions(tt,i),it=h.rectBColor,rt=h.rectFColor,ut=h.rectTextColor,ft=h.rectX,et=h.rectY,k={id:this.svgObject.id+"_ToolTipRect_"+s+"_"+r,x:y,y:p,width:b.width,height:b.height,fill:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.fillColor:rt,"stroke-width":i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderWidth:1,stroke:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderColor:it,"fill-opacity":.85,rx:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.rx:ft,ry:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.ry:et};if(this.svgRenderer.drawRect(k,this.gTransToolEle),e=$.extend({},SfSvgRender.commonChartEventArgs),e.Data={serIndex:s,pointIndex:r,currentText:w},this._trigger("trackToolTip",e),o={id:this.svgObject.id+"_ToolTipText_"+s+"_"+r,x:y,y:p,fill:i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.color:ut,"font-size":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontSize:i.font.size,"font-family":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontFamily:i.font.fontFamily,"font-style":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontStyle:i.font.fontStyle,"font-weight":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontWeight:i.font.fontWeight,"text-anchor":"start","dominant-baseline":"middle"},l=e.Data.currentText,e.Data.currentText.indexOf("<br/>")>=0&&(l=e.Data.currentText.split("<br/>")),this.svgRenderer.drawText(o,l,this.gTransToolEle),u=$("#"+o.id)[0].getBBox(),u.x+u.width>=this.model.m_AreaBounds.Width)for(a=u.x-(u.width+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:0:i._trackMarker.marker.size.width)+4*f),$("#"+o.id).attr("x",a),v=$("#"+o.id).children("tspan"),c=0;c<v.length;c++)d=v[c],$(d).attr("x",a);u=$("#"+o.id)[0].getBBox(),$("#"+k.id).attr({x:u.x-f,y:u.y-f,width:u.width+2*f,height:u.height+2*f}),this.svgRenderer.append(this.gTransToolEle,this.svgObject)}},getTooltipOptions:function(n,t){var i,r,f,e,u;return this.model.theme.indexOf("gradient")>=0?(i=jQuery.type(n)=="array"?n[0].color:n,r="white",u="#333333",f=5,e=5):(t.type.toLowerCase()!="column"&&t.type.toLowerCase()!="pie"?(r=jQuery.type(n)=="array"?n[0].color:n,i="transparent",u="white"):(i="#333333",r="white",u="#333333"),f=0,e=0),{rectBColor:i,rectFColor:r,rectTextColor:u,rectX:f,rectY:e}},getSeriesColor:function(n,t){return n.interior?n.interior._gradientStop?n.interior._gradientStop[0].color:n.interior:this.model.seriesColors[t]},gettoolTipFormat:function(n,t,i,r,u,f){var e=$.extend(!0,{},n),o;return t.count=1,e.count=1,e.x=t.xAxis.labels[r]?t.xAxis.labels[r]:e.X,t.xAxis.valueType.toLowerCase()=="datetime"&&(e.x=Globalize.format(new Date(e.X),ej.util.isNullOrUndefined(t.xAxis.labelFormat)?this.svgRenderer.dateTimeLabelFormat(t.xAxis.intervalType):t.xAxis.labelFormat)),e.y=this.svgRenderer.decimalPlaces(e.YValues[0])==0?e.YValues[0]:e.YValues[0].toFixed(f),o={series:t,point:e},u.parseTemplate(o)},displayShowToolTip:function(n,t,i,r){var k=!1,d=$.inArray(i,this.model.series),g,l,h=7,c,a,p,ht=i.tooltipFormat,it,b,v,u,o,nt,st,e,tt,s,f,y;this.model.isPieSeries?(c=n.X+i.marker.size.width+h,a=n.Y,p=t.X+" : "+t.YValues[0],l=this.svgRenderer.measureText(p),g=this.model.pointColors[r],k=!0):n.X+i.xAxis.Location.X1<=i.xAxis.Location.X2&&(n.X+i.xAxis.Location.X1>=i.xAxis.Location.X1||n.X==0)&&Math.abs(n.Y-i.yAxis.Location.Y1)<=i.yAxis.Location.Y1&&(Math.abs(n.Y-i.yAxis.Location.Y1)>=i.yAxis.Location.Y2||n.Y==0)&&(it=i.yAxis.roundingPlaces===null||i.yAxis.roundingPlaces===undefined?2:i.yAxis.roundingPlaces,c=n.X+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.marker.size.width)+h+1,a=-n.Y,p=this.gettoolTipFormat(t,i,d,r,ht,it),g=this.getSeriesColor(t,d),l=this.svgRenderer.measureText(p),k=!0);var w=this.getTooltipOptions(g,i),rt=w.rectBColor,ut=w.rectFColor,ft=w.rectTextColor,et=w.rectX,ot=w.rectY;if(k){if(b={id:this.svgObject.id+"_ToolTipRect",x:c,y:a,width:l.width,height:l.height,fill:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.fillColor:ut,"stroke-width":i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderWidth:1,stroke:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderColor:rt,"fill-opacity":.95,rx:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.rx:et,ry:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.ry:ot},$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0?this.svgRenderer.drawRect(b,this.gTransToolEle):$("#"+b.id).attr({fill:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.fillColor:ut,stroke:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.borderColor:rt,x:c,y:a,width:l.width,height:l.height,"fill-opacity":.95,rx:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.rx:et,ry:i.toolTipOptions&&i.toolTipOptions.rectOptions?i.toolTipOptions.rectOptions.ry:ot}),v=$.extend({},SfSvgRender.commonChartEventArgs),v.Data={serIndex:d,pointIndex:r,currentText:p},this._trigger("toolTipInitialize",v),u={id:this.svgObject.id+"_ToolTipText",x:c,y:a,fill:i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.color:ft,"font-size":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontSize:i.font.size,"font-family":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontFamily:i.font.fontFamily,"font-style":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontStyle:i.font.fontStyle,"font-weight":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontWeight:i.font.fontWeight,"text-anchor":"start","dominant-baseline":"middle"},o=v.Data.currentText,v.Data.currentText.indexOf("<br/>")>=0&&(o=v.Data.currentText.split("<br/>")),$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0)this.svgRenderer.drawText(u,o,this.gTransToolEle);else if($("#"+u.id).attr({x:c,y:a,fill:i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.color:ft,"font-size":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontSize:i.font.size,"font-family":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontFamily:i.font.fontFamily,"font-style":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontStyle:i.font.fontStyle,"font-weight":i.toolTipOptions&&i.toolTipOptions.textOptions?i.toolTipOptions.textOptions.fontWeight:i.font.fontWeight,"dominant-baseline":"middle","text-anchor":"start"}),jQuery.type(o)=="array")if(s=$("#"+u.id).children("tspan"),nt=0,s.length>0&&s.length==o.length)for(f=0;f<s.length;f++)y=s[f],$(y).attr({x:c,dy:nt}),y.textContent=o[f],st=this.svgRenderer.measureText(o[f]),nt=st.height+2;else $("#"+u.id).remove(),this.svgRenderer.drawText(u,o,this.gTransToolEle);else $("#"+u.id).text(o);if(e=$("#"+u.id)[0].getBBox(),e.x+e.width>=this.model.m_AreaBounds.Width)for(tt=e.x-(e.width+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:0:i._trackMarker.marker.size.width)+4*h),$("#"+u.id).attr("x",tt),s=$("#"+u.id).children("tspan"),f=0;f<s.length;f++)y=s[f],$(y).attr("x",tt);e=$("#"+u.id)[0].getBBox(),$("#"+b.id).attr({x:e.x-h,y:e.y-h,width:e.width+2*h,height:e.height+2*h}),$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&this.svgRenderer.append(this.gTransToolEle,this.svgObject)}},_initializeSeriesColors:function(){for(var t=this,n,u,r,i=0;i<this.model.series.length;i++)if(n=this.model.series[i],n.type.toLowerCase()=="pie"||n.visibility.toLowerCase()!=="visible"||t.model.isPieSeries){if(n.visibility.toLowerCase()==="visible")for(u=0;u<n.points.length;u++)r=n.points[u],t.model.pointColors[u]=!ej.util.isNullOrUndefined(r)&&r.interior?ej.util.isNullOrUndefined(r.interior._gradientStop)?r.interior:r.interior._gradientStop:t.model.colors[u%10],t.model.pointBorderColors[u]=ej.util.isNullOrUndefined(r.style)||ej.util.isNullOrUndefined(r.style.borderColor)?t.model.seriesBorderDefaultColors[i%10]:n.style.borderColor}else t.model.seriesColors[i]=!ej.util.isNullOrUndefined(n.style)&&n.style.interior?ej.util.isNullOrUndefined(n.style.interior._gradientStop)?n.style.interior:n.style.interior._gradientStop:t.model.colors[i%10],t.model.seriesBorderColors[i]=ej.util.isNullOrUndefined(n.style)||ej.util.isNullOrUndefined(n.style.borderColor)?t.model.seriesBorderDefaultColors[i%10]:n.style.borderColor},_createAxisLabelAndRange:function(){var e=!1,i,t,u,f,r,n;for(this.model.axes=ej.util.isNullOrUndefined(this.model.axes)?[]:this.model.axes,i=0;i<this.model.axes.length;i++)t=this.model.axes[i],t.orientation=ej.util.isNullOrUndefined(t.orientation)?"vertical":t.orientation,this.model.axes[i]=t.orientation.toLowerCase()=="horizontal"?$.extend(!0,{},this.model.secondaryX,t):$.extend(!0,{},this.model.secondaryY,t);for(this.model.primaryYAxis.axisName="PrimaryYAxis",this.model.primaryXAxis.axisName="PrimaryXAxis",u=0;u<this.model.axes.length;u++)f=this.model.axes[u],(f.axisName===this.model.primaryXAxis.axisName||f.axisName===this.model.primaryYAxis.axisName)&&(e=!0);for(e||(this.model.axes.unshift(this.model.primaryYAxis),this.model.axes.unshift(this.model.primaryXAxis)),r=0;r<this.model.axes.length;r++)n=this.model.axes[r],n.labelsCollection=[],n.setRange=ej.util.isNullOrUndefined(n.range)?!1:ej.util.isNullOrUndefined(n.setRange)?!0:n.setRange,n.setRange=!ej.util.isNullOrUndefined(n.actual_Range)||n.setRange!=!1?!0:!1,n.actualRange=ej.util.isNullOrUndefined(n.actualRange)?n.range==null?{}:n.range:n.actualRange,n.visibleRange=ej.util.isNullOrUndefined(n.visibleRange)?n.range==null?{}:n.range:n.visibleRange,n.axisName=ej.util.isNullOrUndefined(n.axisName)?r.toString():n.axisName},_drawTitle:function(){var t=this.svgRenderer.measureText(this.model.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.titleFont),f=this.model.text==""?0:t.height+this.model.elementSpacing,u,i,n,r;this.model.text!=""&&this.model.text!=null&&(u=this.model.margin.top+f/2+this.model.elementSpacing,i=this.model.m_AreaBounds.Width/2-t.width/2,ej.util.isNullOrUndefined(this.model.textAlignment)&&(this.model.textAlignment="center"),this.model.textAlignment.toLowerCase()=="near"?i=0:this.model.textAlignment.toLowerCase()=="far"&&(i=$(this.svgObject).width()-(this.model.margin.right+this.model.elementSpacing+this.model.m_AreaBounds.X)-t.width),n=$.extend({},SfSvgRender.commonChartEventArgs),n.Data={Title:this.model.text,Location:{X:i,Y:u},Size:t},this._trigger("titleRendering",n),this.model._titleLocation={X:n.Data.Location.X+this.model.m_AreaBounds.X,Y:n.Data.Location.Y},r={id:this.svgObject.id+"_ChartTitle",x:n.Data.Location.X+this.model.m_AreaBounds.X,y:n.Data.Location.Y,fill:this.model.titleFont.color,"font-size":this.model.titleFont.size,"font-family":this.model.titleFont.fontFamily,"font-style":this.model.titleFont.fontStyle,"font-weight":this.model.titleFont.fontWeight,"text-anchor":"start"},$(this.svgObject).find("#"+this.svgObject.id+"_ChartTitle").length>0?$(this.svgObject).find("#"+this.svgObject.id+"_ChartTitle").attr(r):this.svgRenderer.drawText(r,n.Data.Title,this.gTitleEle))},_getLegendSize:function(n){var u=this.model.legend.textOption.font,i=this.svgRenderer.measureText(n.name,null,u),r=this.model.legend.itemSize,t=this.model.legend.itemPadding,f=t+r.width+t+i.width,e=Math.max(r.height+t,i.height+t);return{Width:f,Height:e}},_calculteLegendBounds:function(){var n=this,v,ut,i,p,a,nt,tt,it,rt,w,b;this.model.legendCollection=[],this.model.legendRegion=[];var r=0,o=0,c=0,l=0,u=0,s=0,t=1;if(ej.util.isNullOrUndefined(this.model.series)||ej.util.isNullOrUndefined(this.model.legend)||!this.model.legend.visible)this.model.LegendBounds={Width:0,Height:0};else{for(v=0;v<this.model.series.length;v++){var e=this.model.series[v],y=v,h,f,k,d=null,g;if(e.type==n.model.seriesType.Pie){if(y===0){for(ut=new seriesTypes[e.type],i=ut._pieVisiblePoints(e),w=0;w<i.length;w++)p=i[w],a=w,nt={name:p.X,Font:e.font},h=n._getLegendSize(nt),c=Math.max(h.Width,c),l=Math.max(h.Height,l);for(b=0;b<i.length;b++)p=i[b],a=b,nt={name:p.X,Font:e.font},h=n._getLegendSize(nt),n.model.legend.position.toLowerCase()==n.model.legendPosition.top||n.model.legend.position.toLowerCase()==n.model.legendPosition.bottom?(r+=c,t<=1&&(ej.util.isNullOrUndefined(n.model.legend.rowCount)&&ej.util.isNullOrUndefined(n.model.legend.columnCount)?r>3*$(n.svgObject).width()/4?(ej.util.isNullOrUndefined(t)||t<=1)&&(t=Math.ceil(i.length/(a-1)),u-=c,u+=n.model.legend.itemPadding):u=Math.max(u,r):ej.util.isNullOrUndefined(n.model.legend.columnCount)&&!ej.util.isNullOrUndefined(n.model.legend.rowCount)?(t=n.model.legend.rowCount,tt=Math.ceil(i.length/t),u=c*tt+n.model.legend.itemPadding):ej.util.isNullOrUndefined(n.model.legend.rowCount)&&!ej.util.isNullOrUndefined(n.model.legend.columnCount)?(t=Math.ceil(i.length/n.model.legend.columnCount),u=c*n.model.legend.columnCount+n.model.legend.itemPadding):(n.model.legend.columnCount<n.model.legend.rowCount?(t=n.model.legend.rowCount,tt=Math.ceil(i.length/t),u=c*tt):(t=Math.ceil(i.length/n.model.legend.columnCount),u=c*n.model.legend.columnCount),u+=n.model.legend.itemPadding)),a==i.length-1&&(r=0),o=Math.max(o,l/2)):(o+=l,ej.util.isNullOrUndefined(n.model.legend.rowCount)&&ej.util.isNullOrUndefined(n.model.legend.columnCount)?o>$(n.svgObject).height()/2?(ej.util.isNullOrUndefined(t)||t<=1)&&(t=Math.ceil(i.length/(a-1)),s-=l):s=Math.max(s,o):ej.util.isNullOrUndefined(n.model.legend.columnCount)&&!ej.util.isNullOrUndefined(n.model.legend.rowCount)?(s=l*n.model.legend.rowCount,s+=n.model.legend.itemPadding,t=Math.ceil(i.length/n.model.legend.rowCount)):!ej.util.isNullOrUndefined(n.model.legend.columnCount)&&ej.util.isNullOrUndefined(n.model.legend.rowCount)?(t=n.model.legend.columnCount,s=l*Math.ceil(i.length/n.model.legend.columnCount)+n.model.legend.itemPadding):(n.model.legend.columnCount<n.model.legend.rowCount?(s=l*n.model.legend.rowCount,t=Math.ceil(i.length/n.model.legend.rowCount)):(t=n.model.legend.columnCount,s=l*Math.ceil(i.length/n.model.legend.columnCount)),s+=n.model.legend.itemPadding),a==i.length-1&&(o=0,s+=n.model.legend.itemPadding),u=Math.max(r,c)),f=n.model.legend.style,f!=null&&(k=f.opacity,d=f.interior?ej.util.isNullOrUndefined(f.interior._gradientStop)?f.interior:f.interior._gradientStop:n.model.pointColors[a],g=n.svgRenderer.createGradientElement("legend"+a,d,0,0,0,$(n.svgObject).height(),n.gLegendEle),it=ej.util.isNullOrUndefined(e.font)?n.model.legend.textOption.font:e.font,rt={Text:p.X,Shape:n.model.legend.shape,LegendStyle:{BorderColor:n.model.legend.itemSize.borderColor,BorderWidth:n.model.legend.itemSize.borderWidth,Opacity:k,Color:g,Font:it},Bounds:{Width:c,Height:l},SeriesIndex:y,PointIndex:a},n.model.legendCollection.push(rt))}}else n.model.isPieSeries||(h=n._getLegendSize(e),n.model.legend.position.toLowerCase()==n.model.legendPosition.top||n.model.legend.position.toLowerCase()==n.model.legendPosition.bottom?(r+=h.Width,r>$(n.svgObject).width()&&(r-=h.Width,u=Math.max(u,r),r=0,t++),o=Math.max(o,h.Height)):(o+=h.Height,r=Math.max(r,h.Width)),f=n.model.legend.style,f!=null&&(k=f.opacity),d=f.interior?ej.util.isNullOrUndefined(f.interior._gradientStop)?f.interior:f.interior._gradientStop:n.model.seriesColors[y],g=e.visibility.toLowerCase()==="visible"?n.svgRenderer.createGradientElement("legend"+y,d,0,0,0,$(n.svgObject).height(),n.gLegendEle):"gray",it=ej.util.isNullOrUndefined(e.font)?n.model.legend.textOption.font:e.font,rt={Text:e.name?e.name:"series"+v,Shape:n.model.legend.shape,LegendStyle:{BorderColor:n.model.legend.itemSize.borderColor,BorderWidth:n.model.legend.itemSize.borderWidth,Opacity:k,Color:g,Font:it},Bounds:h,SeriesIndex:y},n.model.legendCollection.push(rt))}this.model.legend.position.toLowerCase()===this.model.legendPosition.top||this.model.legend.position.toLowerCase()===this.model.legendPosition.bottom?(r+=n.model.legend.itemPadding,this.model.LegendBounds={Width:Math.max(u,r),Height:o*t+t*this.model.elementSpacing+this.model.elementSpacing,Rows:t}):(r+=n.model.legend.itemPadding,o+=n.model.legend.itemPadding,this.model.LegendBounds={Width:Math.max(u,r)*t,Height:Math.max(s,o),Columns:t})}},GetValuebyPoint:function(n,t,i){var r=n*(i.xAxis.visibleRange.max-i.xAxis.visibleRange.min)/(i.xAxis.Location.X2-i.xAxis.Location.X1)+ +i.xAxis.visibleRange.min,u=t/(i.yAxis.Location.Y1-i.yAxis.Location.Y2)*(i.yAxis.visibleRange.max-i.yAxis.visibleRange.min)+i.yAxis.visibleRange.min;return{PointX:r,PointY:u}},GetPointXYOrgin:function(n,t,i,r){var u=(n-i)/(this.model.axes.PrimaryXaxis.visibleRange.max-i)*this.model.m_AreaBounds.Width,f=(t-r)/(this.model.axes.PrimaryYaxis.visibleRange.max-r)*(this.model.m_AreaBounds.Height-this.GetPointXY(this.model.axes.PrimaryXaxis.visibleRange.min,Math.max(this.model.axes.PrimaryYaxis.visibleRange.min,0)).Y);return{X:u,Y:f}},AddRegion:function(n,t,i,r){var u=$.inArray(t,this.model.series),f={SeriesIndex:u,Region:{PointIndex:r,Bounds:n}};this.model.chartRegions.push(f)},_drawChartAreaRect:function(){var n=ej.util.isNullOrUndefined(this.model.backInterior&&this.model.backInterior._gradientStop)?this.model.backInterior:"url(#"+this.svgObject.id+"_backGradient)",t,i;(!ej.util.isNullOrUndefined(this.model.backGroundImageUrl)||this.model.isPieSeries)&&(n="transparent"),t={id:this.svgObject.id+"_SvgRect",x:0,y:0,width:$(this.svgObject).width(),height:$(this.svgObject).height(),fill:n,"stroke-width":this.model.chartBorder.width,stroke:this.model.chartBorder.color},$(this.svgObject).find("#"+this.svgObject.id+"_SvgRect").length>0?$(this.svgObject).find("#"+this.svgObject.id+"_SvgRect").attr(t):this.svgRenderer.drawRect(t,this.svgObject),ej.util.isNullOrUndefined(this.model.backGroundImageUrl)||this._drawBackImage(),this.model.chartAreaBorder.visible&&!this.model.isPieSeries&&(i={id:this.svgObject.id+"_ChartArea",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:n,"stroke-width":this.model.chartAreaBorder.width,opacity:this.model.chartAreaBorder.opacity,stroke:this.model.chartAreaBorder.color},$(this.svgObject).find("#"+this.svgObject.id+"_ChartArea").length>0?$(this.svgObject).find("#"+this.svgObject.id+"_ChartArea").attr(i):this.svgRenderer.drawRect(i,this.svgObject))},AxesCount:function(n){var t=[];return $.each(n,function(n,i){n==0?t.push(i):i.orientation.toLowerCase()=="vertical"?i.rowIndex!=t[t.length-1].rowIndex&&t.push(i):i.columnIndex!=t[t.length-1].columnIndex&&t.push(i)}),t.length},_calculateAxisSpace:function(n){for(var t=[],i=[],o,r,f,s,e,u=0;u<n.length;u++)o=u,r=n[u],o==0?(bounds=r.AxisMaxWidth,t.push(r.AxisMaxWidth)):n[o-1].rowIndex==r.rowIndex?(bounds=bounds+r.AxisMaxWidth,t.push(bounds)):(i.push({item:t,Count:t.length}),t=[],bounds=0,t.push(r.AxisMaxWidth)),o==n.length-1&&i.push({item:t,Count:t.length});if(t=[],i.length>0)for(i=i.sort(function(n,t){return n.Count-t.Count}),f=0;f<i[i.length-1].Count;f++){for(s=0,e=0;e<i.length;e++)s<i[e].item[f]&&(s=i[e].item[f]);t.push(s)}return t},_arrangeYAxis:function(n){for(var r=[],u=[],i,f,e,t=0;t<n.length;t++)i=n[t],i.opposedPosition?u.push(i):r.push(i);return f=this._calculateAxisSpace(r),e=this._calculateAxisSpace(u),{normalAxis:f,oppAxis:e}},_calculateAxisSize:function(){var t,i,e,n,f,v,nt,y,l,rt,b,a,k,d,ut,g;for(this.model.axisCollection=[],t=this,i=[],i.push({RowIndex:0,Y1:0,Y2:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height}),v=0;v<this.model.hAxes.length;v++)this.model.axisCollection.push(this.model.hAxes[v]);for(nt=this._arrangeYAxis(this.model.vAxes),y=0;y<this.model.vAxes.length;y++)n=this.model.vAxes[y],t.model.axisCollection.push(n);var h=0,c=0,tt=0,r=0,u=0,p=0,w=0,o=!0,s=!0,it=!0;for(l=0;l<this.model.axisCollection.length;l++){if(e=l,n=this.model.axisCollection[l],n.orientation.toLowerCase()=="horizontal"){for(u=0,h==0?h++:t.model.axisCollection[e-1].orientation.toLowerCase()=="horizontal"&&t.model.axisCollection[e-1].columnIndex==n.columnIndex?t.model.axisCollection[e-1].opposedPosition==n.opposedPosition&&(u=tt+t.model.axisCollection[e-1].AxisMaxHeight,tt=u):h++,rt=Math.floor(t.model.m_AreaBounds.Width/t.AxesCount(t.model.hAxes)),b=[],f=t.model.m_AreaBounds.X;f<=t.model.m_AreaBounds.X+t.model.m_AreaBounds.Width;f=f+rt)b.push({Value:f});r=0,r=n.opposedPosition?t.model.m_AreaBounds.Y-u:t.model.m_AreaBounds.Y+t.model.m_AreaBounds.Height+u,n.Location={},n.Location.X1=b[h-1].Value,n.Location.Y1=r,n.Location.X2=b[h].Value,n.Location.Y2=r}if(n.orientation.toLowerCase()=="vertical")if(a=ej.util.isNullOrUndefined(t.model.rowDefinitions)?null:t.model.rowDefinitions[n.rowIndex]?t.model.rowDefinitions[n.rowIndex]:t.model.rowDefinitions[0],u=0,c==0?(o=n.opposedPosition?o:!1,s=n.opposedPosition?!1:s,p=0,w=0,c++):t.model.axisCollection[e-1].orientation.toLowerCase()=="vertical"&&t.model.axisCollection[e-1].rowIndex==n.rowIndex?(it||t.model.axisCollection[e-1].opposedPosition==n.opposedPosition)&&(n.opposedPosition==!1?(o||(u=nt.normalAxis[p],p++),o=!1):(s||(u=nt.oppAxis[w],w++),s=!1)):(o=n.opposedPosition?o:!1,s=n.opposedPosition?!1:s,c++,it=!1,p=0,w=0),a)k=0,i.length==1?(i[i.length-1].RowIndex=n.rowIndex,k=i[i.length-1].Y2):k=i[i.length-1].RowIndex!=n.rowIndex?i[i.length-1].Y2:i[i.length-1].Y1,r=t.model.m_AreaBounds.X-u,n.opposedPosition&&(r=t.model.m_AreaBounds.X+t.model.m_AreaBounds.Width+u),d=0,d=a.unit.toLowerCase()=="percentage"?Math.floor(t.model.m_AreaBounds.Height*(a.rowHeight/100)):a.rowHeight,n.Location={},n.Location.X1=r,n.Location.Y1=k,n.Location.X2=r,n.Location.Y2=n.Location.Y1-d<t.model.m_AreaBounds.Y?t.model.m_AreaBounds.Y:n.Location.Y1-d,i.push({RowIndex:n.rowIndex,Y1:n.Location.Y1,Y2:n.Location.Y2});else{for(ut=Math.floor(t.model.m_AreaBounds.Height/t.AxesCount(t.model.vAxes)),g=[],f=t.model.m_AreaBounds.Y+t.model.m_AreaBounds.Height;f>=t.model.m_AreaBounds.Y;f=f-ut)g.push({Value:f});r=t.model.m_AreaBounds.X-u,n.opposedPosition&&(r=t.model.m_AreaBounds.X+t.model.m_AreaBounds.Width+u),n.Location={},n.Location.X1=r,n.Location.Y1=g[c-1].Value,n.Location.X2=r,n.Location.Y2=g[c].Value}}},_arrangeAxis:function(){for(var t=this,n,i,u,f,r=0;r<this.model.axes.length;r++)n=this.model.axes[r],n.orientation.toLowerCase()=="horizontal"?(t.model.hAxes.push(n),n.columnIndex=ej.util.isNullOrUndefined(n.columnIndex)?0:n.columnIndex,t.model.hAxes[t.model.hAxes.length-1].columnIndex=n.columnIndex):n.orientation.toLowerCase()=="vertical"&&(t.model.vAxes.push(n),n.rowIndex=ej.util.isNullOrUndefined(n.rowIndex)?0:n.rowIndex,t.model.vAxes[t.model.vAxes.length-1].rowIndex=n.rowIndex,i=ej.util.isNullOrUndefined(t.model.rowDefinitions)?null:t.model.rowDefinitions[n.rowIndex],i&&(n.axisBottomLine={},n.axisBottomLine.visible=!0,n.axisBottomLine.lineWidth=i.lineWidth,n.axisBottomLine.color=i.lineColor));this.model.hAxes=ej.DataManager(this.model.hAxes,ej.Query().sortBy("columnIndex")).executeLocal(),this.model.vAxes=ej.DataManager(this.model.vAxes,ej.Query().sortBy("rowIndex")).executeLocal();var o=this.model.legend.position.toLowerCase()==this.model.legendPosition.Left?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,s=this.model.legend.position.toLowerCase()==this.model.legendPosition.right?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,h=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right-this.model.elementSpacing*2-o-s,e=Math.floor(h/this.AxesCount(t.model.hAxes)),c=this.model.legend.position.toLowerCase()==this.model.legendPosition.top?this.model.LegendBounds.Height+this.model.legend.itemPadding/2+this.model.elementSpacing:0,l=this.model.legend.position.toLowerCase()==this.model.legendPosition.bottom?this.model.LegendBounds.Height+this.model.legend.itemPadding/2+this.model.elementSpacing:0,a=this.model.text==""?0:this.svgRenderer.measureText(this.model.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.titleFont).height+this.model.elementSpacing,v=$(this.svgObject).height()-this.model.margin.top-this.model.margin.bottom-this.model.elementSpacing*2-c-l-a,y=Math.floor(v/this.AxesCount(t.model.vAxes));for(u=0;u<this.model.axes.length;u++)n=this.model.axes[u],n.orientation.toLowerCase()=="horizontal"?n.length=e:n.orientation.toLowerCase()=="vertical"&&(i=ej.util.isNullOrUndefined(t.model.rowDefinitions)?null:t.model.rowDefinitions[n.rowIndex],f=y,i&&(f=i.unit.toLowerCase()=="percentage"?Math.floor(e*(i.rowHeight/100)):i.rowHeight),n.length=f)},_calculateAreaBounds:function(){var u=this,c=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,i=[],n=[],l,a,f,e,o,s,h,y;$.each(this.model.vAxes,function(t,r){var e=r.title.text==""?0:u.svgRenderer.measureText(r.title.text,c,r.title.font).height+2*u.model.elementSpacing,f=0;t>0&&(n.length>0&&r.opposedPosition?f=n[n.length-1].RowIndex==r.rowIndex&&n[n.length-1].OpposedPosition?n[n.length-1].MaxWidth:0:i.length>0&&!r.opposedPosition&&(f=i[i.length-1].RowIndex==r.rowIndex?i[i.length-1].MaxWidth:0)),r.AxisMaxWidth=u.model.elementSpacing+e+r._LableMaxWidth.width+r.majorTickLines.size+r.axisLine.lineWidth,r.opposedPosition?n.push({MaxWidth:f+r.AxisMaxWidth,RowIndex:r.rowIndex,OpposedPosition:r.opposedPosition}):i.push({MaxWidth:f+r.AxisMaxWidth,RowIndex:r.rowIndex,OpposedPosition:r.opposedPosition})}),l=this.model.legend.position.toLowerCase()==this.model.legendPosition.left?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,a=this.model.legend.position.toLowerCase()==this.model.legendPosition.right?this.model.LegendBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing:0,i=i.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),f=i.length>0?i[i.length-1].MaxWidth:0,e=f+l+u.model.margin.left,n=n.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),f=n.length>0?n[n.length-1].MaxWidth:0;var v=f+a+u.model.margin.right+u.model.margin.left,p=$(this.svgObject).width()-(e+v),w=this.model.legend.position.toLowerCase()==this.model.legendPosition.top?this.model.LegendBounds.Height+this.model.elementSpacing:0,b=this.model.legend.position.toLowerCase()==this.model.legendPosition.bottom?this.model.LegendBounds.Height+this.model.elementSpacing:0,k=this.model.text==""?0:this.svgRenderer.measureText(this.model.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.titleFont).height+this.model.elementSpacing,r=[],t=[];$.each(this.model.hAxes,function(n,i){var e=i.title.text==""?0:u.svgRenderer.measureText(i.title.text,c,i.title.font).height+2*u.model.elementSpacing,f=0;n>0&&(t.length>0&&i.opposedPosition?f=t[t.length-1].ColumnIndex==i.columnIndex&&t[t.length-1].OpposedPosition?t[t.length-1].MaxWidth:0:r.length>0&&!i.opposedPosition&&(f=r[r.length-1].ColumnIndex==i.columnIndex?r[r.length-1].MaxWidth:0)),i.AxisMaxHeight=u.model.elementSpacing+e+i._LableMaxWidth.height+3+i.majorTickLines.size+i.axisLine.lineWidth,i.opposedPosition?t.push({MaxWidth:f+i.AxisMaxHeight,ColumnIndex:i.columnIndex,OpposedPosition:i.opposedPosition}):r.push({MaxWidth:f+i.AxisMaxHeight,ColumnIndex:i.columnIndex,OpposedPosition:i.opposedPosition})}),t=t.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),o=t.length>0?t[t.length-1].MaxWidth:0,s=o+this.model.margin.top+this.model.elementSpacing+k+w,r=r.sort(function(n,t){return n.MaxWidth-t.MaxWidth}),o=r.length>0?r[r.length-1].MaxWidth:0,h=o+this.model.margin.bottom+b,y=Math.abs($(this.svgObject).height()-(s+h)),this.model.m_AreaBounds={X:e,Y:s,Width:p,Height:y},this.model.m_Spacing={Left:e,Top:s,Right:v,Bottom:h}}},jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},syncfusion={getStringBuilder:function(){var n=[],t=0;return{append:function(i){return n[t++]=i,this},remove:function(t,i){return n.splice(t,i||1),this},insert:function(t,i){return n.splice(t,0,i),this},toString:function(t){return n.join(t||"")}}}},function(n,t){t.widget("ejChart","ej.Chart",{element:null,model:null,defaults:{chartBorder:{color:"transparent",width:0},chartAreaBorder:{visible:!0,color:"Gray",width:.5,opacity:.3},primaryXAxis:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!0,opacity:.3},majorTickLines:{lineWidth:.8,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},labels:[],stripline:[],title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal ",size:"14px",opacity:1,fontWeight:"regular"}},rangePadding:"None",additionalPadding:[1,1],orientation:"Horizontal",opposedPosition:!1,axisLine:{visible:!0,lineWidth:.5,dashArray:""},hidePartialLabels:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",fontWeight:"regular",opacity:1},showCrossHairLabel:!1,zoomFactor:1,zoomPosition:0},primaryYAxis:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!0,opacity:.3},majorTickLines:{lineWidth:1,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},labels:[],title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal ",opacity:1,size:"14px",fontWeight:"regular"}},rangePadding:"Normal",stripline:[],orientation:"Vertical",hidePartialLabels:!1,showCrossHairLabel:!1,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",opacity:1,fontWeight:"regular"},axisLine:{visible:!0,lineWidth:.5,dashArray:""},zoomFactor:1,zoomPosition:0},secondaryX:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!1},majorTickLines:{lineWidth:1,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal ",opacity:1,size:"14px",fontWeight:"regular"}},labels:[],stripline:[],orientation:"Horizontal",opposedPosition:!1,axisLine:{visible:!0,lineWidth:.5,dashArray:""},hidePartialLabels:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",opacity:1,fontWeight:"regular"},rangePadding:"None",showCrossHairLabel:!1,zoomFactor:1,zoomPosition:0},secondaryY:{majorGridLines:{lineWidth:.5,dashArray:"",visible:!0},majorTickLines:{lineWidth:1,size:5,visible:!0},minorGridLines:{lineWidth:.8,dashArray:"",visible:!1},minorTickLines:{lineWidth:1,size:5,visible:!1},labels:[],title:{text:"",font:{color:"#707070",fontFamily:"Segoe UI",fontStyle:"Normal ",size:"14px",fontWeight:"regular",opacity:1}},stripline:[],rangePadding:"Normal",orientation:"Vertical",hidePartialLabels:!1,showCrossHairLabel:!1,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"11px",opacity:1,fontWeight:"regular"},axisLine:{visible:!0,lineWidth:.5,dashArray:""},zoomFactor:1,zoomPosition:0},striplineDefault:{visible:!0,startFromAxis:!1,text:"stripline",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",color:"black"},color:"gray",borderColor:"black",zOrder:"over",borderWidth:1},text:"",titleFont:{fontFamily:"Segoe UI",fontStyle:"Normal ",size:"20px",opacity:.5,fontWeight:"regular"},lineCap:{butt:"butt",round:"round",rquare:"square"},lineJoin:{round:"round",bevel:"bevel",miter:"miter"},legendAlignment:{near:"near",center:"center",far:"far"},legendPosition:{top:"top",bottom:"bottom",right:"right",left:"left"},valueType:{double:"double",dateTime:"datetime"},animation:!0,legend:{borderColor:"transparent",borderWidth:1,visible:!0,itemPadding:10,shape:"None",alignment:"Center",position:"Bottom",itemSize:{height:10,width:10,borderColor:"transparent",borderWidth:1},style:{opacity:1,interior:null},textOption:{font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"Regular",size:"12px"}}},commonSeriesOptions:{type:"line",animation:!0,pieOptions:{connectorLine:{strokeWidth:.5},text:{font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}}},toolTipOptions:{animation:!0,duration:"500ms"},tooltipFormat:"#point.x# : #point.y#",marker:{shape:"circle",size:{width:6,height:6},visible:!1,textOffset:10,textAlignment:"center",textPosition:"top",style:{opacity:1,interior:null,borderColor:"white",borderWidth:3},showText:!1},font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},crossHair:{marker:{visible:!0,size:{width:10,height:10},style:{opacity:1,borderWidth:3}},moveToArea:!1},seriesStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:"transparent",borderWidth:1,dashArray:""},pointStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:"Gray",borderWidth:1},textStyle:{marker:{textOffset:10,textAlignment:"center",textPosition:"top"},font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},seriesType:{Line:"line",Spline:"spline",Column:"column",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",Hilo:"hilo",HiloOpenClose:"hiloopenclose",Candle:"candle",Bubble:"bubble"},symbolShape:{None:0,LeftArrow:1,RightArrow:2,Circle:3,Cross:4,HorizLine:5,VertLine:6,Diamond:7,Rectangle:8,Triangle:9,InvertedTriangle:10,Hexagon:11,Pentagon:12,Star:13,Ellipse:14,Wedge:15,Trapezoid:16,UpArrow:17,DownArrow:18,Image:19},initSeriesRender:!0,theme:"flatlight",needResize:!1,zooming:{enabled:!1,type:"x,y",enableMouseWheel:!1},load:"",axesLabelRendering:"",axesRangeCalculate:"",axesTitleRendering:"",chartAreaBoundsCalculate:"",legendItemRendering:"",lengendBoundsCalculate:"",preRender:"",seriesRendering:"",symbolRendering:"",titleRendering:"",axesLabelsInitialize:"",pointRegionClick:"",pointRegionMouseMove:"",legendItemClick:"",legendItemMouseMove:"",displayTextRendering:"",toolTipInitialize:"",trackAxisToolTip:"",trackToolTip:"",margin:{left:10,right:10,top:10,bottom:10},size:{height:450},elementSpacing:10,seriesColors:[],seriesBorderColors:[],dateStart:25568.791666666668,pointColors:[],pointBorderColors:[]},_init:function(){this._renderSfChart()},_destroy:function(){n(this.element).removeClass("e-chart e-js").find("#"+this.svgObject.id).remove()},_setModel:function(t){var i,r,f,u;for(i in t){this.disableAnimation();switch(i){case"theme":for(this.model._themeChanged=!0,this.model.theme=t[i],this.setTheme(SfSvgRender.themes,this.model.theme),n.extend(!0,this.model.axes[0],SfSvgRender.themes[this.model.theme].primaryXAxis),n.extend(!0,this.model.axes[1],SfSvgRender.themes[this.model.theme].primaryYAxis),r=2;r<this.model.axes.length;r++)this.model.axes[r].orientation.toLowerCase()=="horizontal"?n.extend(!0,this.model.axes[r],SfSvgRender.themes[this.model.theme].secondaryX):n.extend(!0,this.model.axes[r],SfSvgRender.themes[this.model.theme].secondaryY);break;case"series":for(f=0;f<this.model.series.length;f++)n.extend(!0,this.model.series[f],{},t[i]);break;case"legend":n.extend(!0,this.model.legend,{},t[i]);break;case"axes":n.extend(!0,this.model.axes,{},t[i]);break;case"primaryXAxis":this.model.axes[0].setRange=t[i].range?!0:!1,this.model.axes[0].actual_Range=this.model.axes[0].setRange?null:this.model.axes[0].actual_Range,n.extend(!0,this.model.axes[0],{},t[i]);break;case"primaryYAxis":this.model.axes[1].setRange=t[i].range?!0:!1,this.model.axes[1].actual_Range=this.model.axes[1].setRange?null:this.model.axes[1].actual_Range,n.extend(!0,this.model.axes[1],{},t[i]);break;case"drilldown":this.model.series=[],n.extend(!0,this.model,{},t[i]);break;case"datasource":for(u=0;u<this.model.series.length;u++)this.model.series[u].dataSource=null,this.model.series[u].points=null;n.extend(!0,this.model,{},t[i]);break;default:n.extend(!0,this.model,{},t[i])}}n(this.svgObject).empty(),this.bindTo()}}),n.extend(t.Chart.prototype,ejChart)}(jQuery,Syncfusion),function(n,t,i){t.widget("ejOlapGrid","ej.OlapGrid",{_rootCSS:"e-olapgrid",element:null,model:null,defaults:{url:"",cssClass:"",serviceMethods:{initialize:"InitializeOlapGrid",drillDown:"DrillOlapGrid"}},getOlapReport:function(){return this._olapReport},setOlapReport:function(n){this._olapReport=n},getJSONRecords:function(){return this._JSONRecords},setJSONRecords:function(t){this._JSONRecords=n.parseJSON(t)},_init:function(){this._initPrivateProperties(),this._load()},_destroy:function(){this.element.empty().removeClass("e-olapgrid"+this.model.cssClass)},_initPrivateProperties:function(){this._id=this.element.attr("id"),this._olapReport="",this._JSONRecords=null,ogridWaitingPopup=null},_load:function(){n("#"+this._id).ejWaitingPopup({autoDisplay:!0}),ogridWaitingPopup=n("#"+this._id).data("ejWaitingPopup"),this.element.addClass(this.model.cssClass),this.element[0]!=null&&this.element[0].parentElement.className.indexOf("controlPanel")>-1?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeGrid",olapReport:this.model.olapReport}),this._renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeGrid"}),this._renderControlSuccess)},_setModel:function(n){for(var t in n)switch(t){case"OlapReport":this.setOlapReport(n[t]);break;case"JsonData":this.setOlapReport(n[t]);break;case"RefreshOlapGrid":this.element.renderControlFromJSON(n[t])}},_wireEvents:function(){this.drillDownHandler=n.proxy(this._drillDown,this),this._on(this.element,"click",".expand, .collapse",this.drillDownHandler),this._on(this.element,"mouseover",".colheader, .rowheader, .expand, .collapse",function(t){if(t.target.className.indexOf("expand")>-1&&!n(t.target).hasClass("header-hover-expand"))n(t.target).addClass("header-hover-expand");else if(t.target.className.indexOf("collapse")>-1&&!n(t.target).hasClass("header-hover-collapse"))n(t.target).addClass("header-hover-collapse");else if((t.target.className.indexOf("expand")<0||t.target.className.indexOf("collapse")<0)&&n(t.target).children("span").length>0){var i=n(t.target).children("span")[0];!n(i).hasClass("header-hover-expand")&&i.className.indexOf("expand")>-1?n(i).addClass("header-hover-expand"):!n(i).hasClass("header-hover-collapse")&&i.className.indexOf("collapse")>-1&&n(i).addClass("header-hover-collapse")}}),this._on(this.element,"mouseleave",".colheader, .rowheader, .expand, .collapse",function(){this.element.find(".expand, .collapse").removeClass("header-hover-expand header-hover-collapse")})},_unWireEvents:function(){this._off(this.element,"click",".expand",this.drillDownHandler),this._off(this.element,"mouseover",".colheader, .rowheader, .expand, .collapse"),this._off(this.element,"mouseleave",".colheader, .rowheader, .expand, .collapse")},_drillDown:function(t){ogridWaitingPopup=n("#"+this._id).data("ejWaitingPopup"),ogridWaitingPopup.show();var i=n(t.target).parent().attr("p");this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.drillDown,JSON.stringify({action:"drillDownGrid",cellPosition:i,currentReport:this.getOlapReport(),headerInfo:this.getJSONRecords()[parseInt(parseInt(i.split(",")[0])*rowCount+parseInt(i.split(",")[1]))].Info}),this._drillDownSuccess)},_renderControlSuccess:function(t){t[0]!=i?(this.setJSONRecords(t[0].Value),this.setOlapReport(t[1].Value)):t.d!=i?(this.setJSONRecords(t.d[0].Value),this.setOlapReport(t.d[1].Value)):(this.setJSONRecords(t.PivotRecords),this.setOlapReport(t.OlapReport)),this.renderControlFromJSON(this.getJSONRecords()),ogridWaitingPopup=n("#"+this._id).data("ejWaitingPopup"),ogridWaitingPopup.hide()},_drillDownSuccess:function(t){t[0]!=i?(this.setJSONRecords(t[0].Value),this.setOlapReport(t[1].Value)):t.d!=i?(this.setJSONRecords(t.d[0].Value),this.setOlapReport(t.d[1].Value)):(this.setJSONRecords(t.PivotRecords),this.setOlapReport(t.OlapReport)),this.renderControlFromJSON(this.getJSONRecords()),ogridWaitingPopup=n("#"+this._id).data("ejWaitingPopup"),ogridWaitingPopup.hide()},doAjaxPost:function(t,i,r,u,f){n.ajax({type:t,url:i,contentType:"application/json; charset=utf-8",dataType:"json",data:r,success:n.proxy(u,this),complete:n.proxy(f,this),error:function(n,t,i){alert(i)}})},renderControlFromJSON:function(t){var r=n('<table cellspacing="0" cellpadding="0"><\/table>');if(rowCount=0,t!=null){jQuery.each(t,function(){this.Index[0]==0&&rowCount++});var u=n("<thead><\/thead>"),f=n("<tbody><\/tbody>"),e=!0,i=0;t[0].CSS=="none"?i=t[0].RowSpan-1:(jQuery.each(t,function(n){return i++,t[n].CSS=="colheader"}),i=i-2),jQuery.each(t,function(r){var h,o,s,c;if(r<rowCount)if(e){for(e=r>=i?!1:!0,h="<tr>",o=r;o<t.length;o=o+rowCount)if(t[o].Span!="Block")if(h=h+"<th"+(t[o].CSS=="none"?"":" class="+t[o].CSS)+" p="+t[o].Index+" colspan="+t[o].ColSpan+" rowspan="+t[o].RowSpan+">"+(t[o].State==2?'<span class="expand">&nbsp;<\/span>':t[o].State==1?'<span class="collapse">&nbsp;<\/span>':"")+t[o].Value+"<\/th>",t[o].RowSpan>1&&t[o].ColSpan<=1)for(s=o+1;s<o+t[o].RowSpan;s++)t[s].Span="Block";else if(t[o].ColSpan>1&&t[o].RowSpan<=1)for(s=o+rowCount;s<o+t[o].ColSpan*rowCount;s=s+rowCount)t[s].Span="Block";else if(t[o].ColSpan>1&&t[o].RowSpan>1)for(s=o;s<o+t[o].RowSpan;s++){for(c=s+rowCount;c<s+t[o].ColSpan*rowCount;c=c+rowCount)t[c].Span="Block";t[s].Span="Block"}h+="<\/tr>",n(u).append(h)}else{for(h="<tr>",o=r;o<t.length;o=o+rowCount)if(t[o].Span!="Block")if(h=t[o].CSS=="rowheader"||t[o].CSS=="summary"||t[o].CSS=="summary"?h+"<th"+(t[o].CSS=="none"?"":' class="'+t[o].CSS)+'" p='+t[o].Index+" colspan="+t[o].ColSpan+" rowspan="+t[o].RowSpan+">"+(t[o].State==2?'<span class="expand">&nbsp;<\/span>':t[o].State==1?'<span class="collapse">&nbsp;<\/span>':"")+t[o].Value+"<\/th>":h+"<td"+(t[o].CSS=="none"?"":' class="'+t[o].CSS)+'" p='+t[o].Index+" colspan="+t[o].ColSpan+" rowspan="+t[o].RowSpan+">"+(t[o].State==2?'<span class="expand">&nbsp;<\/span>':t[o].State==1?'<span class="collapse">&nbsp;<\/span>':"")+t[o].Value+"<\/td>",t[o].RowSpan>1&&t[o].ColSpan<=1)for(s=o+1;s<o+t[o].RowSpan;s++)t[s].Span="Block";else if(t[o].ColSpan>1&&t[o].RowSpan<=1)for(s=o+rowCount;s<o+t[o].ColSpan*rowCount;s=s+rowCount)t[s].Span="Block";else if(t[o].ColSpan>1&&t[o].RowSpan>1)for(s=o;s<o+t[o].RowSpan;s++){for(c=s+rowCount;c<s+t[o].ColSpan*rowCount;c=c+rowCount)t[c].Span="Block";t[s].Span="Block"}h+="<\/tr>",n(f).append(h)}}),n(r).append(u),n(r).append(f)}this.element.html(""),this.element.append(r),this._unWireEvents(),this._wireEvents()}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejOlapClient","ej.OlapClient",{_rootCSS:"e-olapclient",element:null,model:null,defaults:{url:"",cssClass:"",title:"",serviceMethods:{initialize:"InitializeOlapClient",removeSplitButton:"RemoveSplitButton",filterElement:"FilterElement",toolbarSelection:"ToolbarSelection",nodeDropped:"NodeDropped",fetchMemberTreeNodes:"FetchMemberTreeNodes",cubeChanged:"CubeChanged"}},_init:function(){this._initPrivateProperties(),this._load()},_initPrivateProperties:function(){this._id=this.element.attr("id"),oclientProxy=this,currentReport="",currentCubeName="",oclientWaitingPopup=null},_destroy:function(){this.element.empty().removeClass("e-olapclient"+this.model.cssClass)},_load:function(){n("#"+this._id).ejWaitingPopup({autoDisplay:!0}),oclientWaitingPopup=n("#"+this._id).data("ejWaitingPopup"),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethods.initialize,JSON.stringify({action:"initializeClient"}),this._renderControlSuccess)},_getMeasuresList:function(){var t="";return n(".memberEditorDiv").find("div").each(function(){t+=n(this)[0].id+","}),t},_getUnSelectedNodes:function(){for(var f=n("#editorTreeView"),r="",u=n(f).find(":input.nodecheckbox:not(:checked)"),i,t=0;t<u.length;t++)i=n(u[t]).parents("li:eq(0)"),r+=":"+i[0].id+"||"+n(i).attr("tag");return r},_getSelectedNodes:function(){for(var f=n("#editorTreeView"),r="",u=n(f).find("input[type=checkbox]:checked"),i,t=0;t<u.length;t++)i=n(u[t]).parents("li:eq(0)"),r+=":"+i[0].id+"||"+n(i).attr("tag");return r},_wireEvents:function(){oclientProxy._wireDialogEvent(),oclientProxy._wireEditorRemoveEvent(),oclientProxy._wireMeasureRemoveEvent(),n(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejDraggable({handel:"button",clone:!0,cursorAt:{top:-10,left:-10},dragStart:function(t){n(".e-dialog").hide(),n(".e-inpttxt").unbind("click"),draggedSplitBtn=t.event.target},dragStop:function(t){var r=null,u;r=t.event.originalEvent.target!=i?n(t.event.originalEvent.target).hasClass("e-button")||n(t.event.originalEvent.target).hasClass("removeSplitBtn")?n(t.event.originalEvent.target).parents("div:eq(1)").attr("class"):t.event.originalEvent.target.className=="splitBtn"?n(t.event.originalEvent.target).parents("div:eq(0)").attr("class"):t.event.originalEvent.target.className:n(t.event.originalEvent.srcElement).hasClass("e-button")||n(t.event.originalEvent.srcElement).hasClass("removeSplitBtn")?n(t.event.originalEvent.srcElement).parents("div:eq(1)").attr("class"):t.event.originalEvent.srcElement.className=="splitBtn"?n(t.event.originalEvent.srcElement).parents("div:eq(0)").attr("class"):t.event.originalEvent.srcElement.className,u=r.indexOf("categoricalAxis")>r.indexOf("rowAxis")?r.indexOf("categoricalAxis")>r.indexOf("slicerAxis")?"Categorical":"Slicer":r.indexOf("rowAxis")>r.indexOf("slicerAxis")?"Series":r.indexOf("slicerAxis")>=0?"Slicer":null,u!=null?oclientProxy._splitButtonDropped(u):n(".dragClone").remove()},helper:function(t){return t.sender.target.className.indexOf("e-button")>-1?n(t.sender.target).clone().addClass("dragClone").appendTo(oclientProxy.element):!1}}),n(".e-button").mouseover(function(t){n(t.target.parentNode).find("span").css("display","inline")}),n(".splitBtn").mouseleave(function(){n(".splitBtn").find("span").css("display","none")})},_wireMeasureRemoveEvent:function(){n(".removeMeasure").bind("click",function(t){n(n(t.target).parent()).remove()})},_wireEditorRemoveEvent:function(){n(".removeSplitBtn").bind("click",function(t){oclientWaitingPopup.show(),n(n(t.target).parent()).remove(),n(".removeSplitBtn").unbind("click"),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.removeSplitButton,JSON.stringify({action:"removeSplitButton",clientParams:n(t.target).parent().attr("tag"),olapReport:currentReport}),oclientProxy._removeSplitButtonSuccess)})},_wireDialogEvent:function(){n(".e-inpttxt").bind("click",function(t){t.target.innerHTML!="Cancel"&&t.target.innerHTML!="OK"&&(oclientWaitingPopup.show(),n(".e-inpttxt").unbind("click"),oclientProxy._createDialogRequest(t))}),n("#CancelBtn").bind("click",function(){n(".e-dialog").hide(),n(".e-dialog, #ejDialog").remove()}),n("#OKBtn").bind("click",function(){var t;if(oclientProxy._getSelectedNodes()==0&&args_innerHTML!="Measures")return!1;if(t=null,args_innerHTML!="ToolbarButtons")oclientWaitingPopup.show(),args_innerHTML=="Measures"?t="Measures:"+oclientProxy._getMeasuresList():args_innerHTML!="ToolbarButtons"&&args_innerHTML!=i&&(t=oclientProxy._getUnSelectedNodes()+"CHECKED"+oclientProxy._getSelectedNodes()),t!=null&&t.split(":")[1]==""&&n(".splitBtn").each(function(t,i){i.firstChild.innerHTML=="Measures"&&n(i).remove()}),n(".e-dialog").hide(),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.filterElement,JSON.stringify({action:"filtering",clientParams:t,olapReport:currentReport}),oclientProxy._filterElementSuccess);else{oclientWaitingPopup.show();var u=n("#reportName").val(),r=n(".e-dialog-title")[0].innerHTML,f=r=="New Report"?"":currentReport;n(".e-dialog").hide(),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.toolbarSelection,JSON.stringify({action:"toolbarSelection",operation:r,reportName:u,olapReport:f}),oclientProxy._onToolbarOperationSuccess)}}),n(".measureEditor").mouseover(function(t){n(t.target).find("span").css("display","inline")}),n(".measureEditor").mouseleave(function(){n(".measureEditor").find("span").css("display","none")}),n(".unCheckAll,.checkAll").bind("click",function(t){t.target.className=="checkAll"?n("#editorTreeView").ejTreeView("checkAll"):n("#editorTreeView").ejTreeView("unCheckAll")})},_unWireEvents:function(){n(".e-inpttxt").unbind("click"),n(".removeSplitBtn").unbind("click"),n("#CancelBtn").unbind("click"),n("#OKBtn").unbind("click"),n(".unCheckAll,.checkAll").unbind("click"),n(".removeMeasure").unbind("click")},_splitButtonDropped:function(t){if(draggedSplitBtn!=null){oclientWaitingPopup.show();var i=n(".cubeName").html()+"--"+n(draggedSplitBtn).parent("div:eq(0)").attr("Tag")+"--"+t;draggedSplitBtn=null,oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"SplitButton",nodeInfo:i,olapReport:currentReport}),oclientProxy._nodeDroppedSuccess)}},_filterElementSuccess:function(n){currentReport=n[0]!=i?n[0].Value:n.d!=i?n.d[0].Value:n.UpdatedReport,oclientProxy._renderOlapGrid(),oclientWaitingPopup.hide()},_nodeDroppedSuccess:function(t){oclientWaitingPopup.show();var r,u,f;t[0]!=i?(r=t[0].Value,u=t[1].Value,f=t[2].Value,currentReport=t[3].Value):t.d!=i?(r=t.d[0].Value,u=t.d[1].Value,f=t.d[2].Value,currentReport=t.d[3].Value):(r=t.Columns,u=t.Rows,f=t.Slicers,currentReport=t.UpdatedReport),n(".splitBtn, .e-button").remove(),n(oclientProxy._createSplitButtons(r,"Columns")).appendTo(".categoricalAxis"),n(oclientProxy._createSplitButtons(u,"Rows")).appendTo(".rowAxis"),n(oclientProxy._createSplitButtons(f,"Slicers")).appendTo(".slicerAxis"),n(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px"}),oclientProxy._renderOlapGrid(),oclientProxy._unWireEvents(),oclientProxy._wireEvents(),oclientWaitingPopup.hide()},_editorTreeInfoSuccess:function(n){oclientProxy._createDialog(args_className,args_innerHTML,n),oclientWaitingPopup.hide()},_renderControlSuccess:function(r){var u,e,o,s,f,h,c,l;r[0]!=i?(u=r[0].Value,e=r[1].Value,o=r[2].Value,s=r[3].Value,f=r[4].Value,currentReport=r[5].Value):r.d!=i?(u=r.d[0].Value,e=r.d[1].Value,o=r.d[2].Value,s=r.d[3].Value,f=r.d[4].Value,currentReport=r.d[5].Value):(u=r.Cubes,e=r.Columns,o=r.Rows,s=r.Slicers,f=r.CubeTreeInfo,currentReport=r.CurrentReport),h=this._createCubeSelector()+'<table class=cubeTable><tr><td valign="bottom">'+this._createCubeBrowser(f)+"<\/td><td valign=\"bottom\" style='padding-left:5px;'>"+this._createAxisElementBuilder(e,o,s)+"<\/td><\/tr><\/table>",c=t.buildTag("span.outerPanel","",{width:"1000px",height:"600px"}).append("<div class=\"titleText\"><span style='padding-left:10px'>"+this.model.title+'<\/span><\/div><table class="outerTable"><tr><td>'+h+'<\/td><td class="controlPanelTD">'+this._controlPanel()+"<\/td><\/tr><\/table>"),this.element.html(c).width(n(".outerPanel").width()),n("#cubeSelector").ejDropDownList({dataSource:n.parseJSON(u),fields:{text:"name",value:"name"},change:"CubeChanged",width:"315px",popupPanelHeight:"30px"}),ddlTarget=n("#cubeSelector").data("ejDropDownList"),ddlTarget.selectItemByIndex(0),n("#cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:n.parseJSON(f)},dragAndDrop:!0,dropChild:!1,dropSibling:!1,dragAndDropAcrossControl:!0,dropped:"NodeDropped",height:n(".cubeBrowser").height()}),l=t.buildTag("div.cubeName",n.parseJSON(u)[0].name)[0].outerHTML,n(l).prependTo("#cubeTreeView"),n(".categoricalAxis, .rowAxis, .slicerAxis").ejDroppable(),n(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px"}),n("#OlapGrid").ejOlapGrid({url:oclientProxy.model.url,olapReport:currentReport}),oclientProxy._wireEvents(),oclientWaitingPopup.hide()},_cubeChangedSuccess:function(r){var u,f,e;r[0]!=i?(currentReport=r[0].Value,u=r[1].Value):r.d!=i?(currentReport=r.d[0].Value,u=r.d[1].Value):(currentReport=r.NewReport,u=r.CubeTreeInfo),n(".splitBtn, .e-olapgrid, .e-treeview, #cubeTreeView").remove(),f=t.buildTag("div#cubeTreeView.visibleHide")[0].outerHTML,e=t.buildTag("div.cubeName",currentCubeName)[0].outerHTML,n(f).appendTo(".cubeBrowser"),n("#cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:n.parseJSON(u)},dragAndDrop:!0,dropChild:!1,dropSibling:!1,dragAndDropAcrossControl:!0,dropped:"NodeDropped",height:n(".cubeBrowser").height()}),n(e).prependTo("#cubeTreeView"),oclientProxy._unWireEvents(),oclientProxy._wireEvents(),oclientWaitingPopup.hide()},_removeSplitButtonSuccess:function(n){currentReport=n[0]!=i?n[0].Value:n.d!=i?n.d[0].Value:n.UpdatedReport,oclientProxy._renderOlapGrid(),oclientProxy._wireEditorRemoveEvent(),oclientWaitingPopup.hide()},_createCubeSelector:function(){return t.buildTag("div.csHeader",t.buildTag("span","Cube Selector",{"padding-left":"6px"})[0].outerHTML+t.buildTag("div","<input type='text' id='cubeSelector' class ='cubeSelector' />",{display:"inline",float:"right","padding-right":"3px"})[0].outerHTML,{width:"415px",height:"20px"})[0].outerHTML},_createCubeBrowser:function(){return t.buildTag("div.cdbHeader",t.buildTag("span","Cube Dimension Browser",{"padding-left":"5px"})[0].outerHTML,{width:"200px",height:"30px"})[0].outerHTML+t.buildTag("div.cubeBrowser",t.buildTag("div#cubeTreeView.visibleHide")[0].outerHTML,{width:"200px",height:"523px"})[0].outerHTML},_createAxisElementBuilder:function(n,i,r){return t.buildTag("div.categoricalAxis",this._createSplitButtons(n,"Columns"),{width:"200px",height:"150px"})[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span","Column",{"padding-left":"5px"})[0].outerHTML,{height:"30px"})[0].outerHTML+t.buildTag("div.rowAxis",this._createSplitButtons(i,"Rows"),{width:"200px",height:"150px"})[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span","Row",{"padding-left":"5px"})[0].outerHTML,{height:"30px"})[0].outerHTML+t.buildTag("div.slicerAxis",this._createSplitButtons(r,"Slicers"),{width:"200px",height:"150px"})[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span","Slicer",{"padding-left":"5px"})[0].outerHTML,{height:"30px"})[0].outerHTML},_createSplitButtons:function(n,t){for(var r="",i=0;i<n.split("#").length-1;i++)r.indexOf(n.split("#")[i+1])<0&&(r+='<div class="splitBtn" tag="'+t+":"+n.split("#")[i+1]+'"><button>'+n.split("#")[i+1].split(".")[0]+"<\/button><span class=removeSplitBtn><\/span><\/div>");return r},_controlPanel:function(){return t.buildTag("div.controlPanel","<div id=OlapGrid style='margin: 5px 7px 7px; overflow: auto; min-height:300px; min-width: 400px; width: 566px; max-height: 600px;'><\/div>",{width:"572px",height:"600px"})[0].outerHTML},_renderOlapGrid:function(){oclientWaitingPopup.show(),n(".e-dialog").hide(),n("#OlapGrid, #OlapGrid_WaitingPopup").remove();n("<div id=OlapGrid style='margin: 5px 7px 7px; min-height:300px; min-width: 400px; overflow: auto; width: 566px; max-height: 600px;'><\/div>").appendTo(".controlPanel"),n("#OlapGrid").ejOlapGrid({url:oclientProxy.model.url,olapReport:currentReport})},_createDialogRequest:function(t){args_className=t.target.className,args_innerHTML=t.target.innerHTML==""?"ToolbarButtons":t.target.innerHTML,n(".e-dialog, #ejDialog").remove(),args_innerHTML!="ToolbarButtons"&&args_innerHTML!=i?this.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethods.fetchMemberTreeNodes,JSON.stringify({action:"fetchMemberTreeNodes",dimensionName:n(t.target).parent().attr("Tag"),olapReport:currentReport}),oclientProxy._editorTreeInfoSuccess):oclientProxy._createDialog(args_className,args_innerHTML,"")},_createDialog:function(t,r,u){var v,f,o,w,b,k,d,a,g,e;if(v=u[0]!=i?u[0].Value:u.d!=i?u.d[0].Value:u.EditorTreeInfo,f=document.createElement("div"),f.setAttribute("id","ejDialog"),t.indexOf("e-inpttxt")>-1){r=="Measures"?(f.setAttribute("title","Measure Editor"),o="<p style='margin: 0 0 7px;'>"+r+"<\/p>"):(f.setAttribute("title","Member Editor"),o="<p style='margin: 0 0 7px;'>"+r+"<\/p>");var s=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div");if(s.setAttribute("id","EditorDiv"),n(s).addClass("editorDiv"),n(c).appendTo(s),r!="Measures"){var h=document.createElement("div"),y=document.createElement("div"),p=document.createElement("div");n(h).css({height:"19px"}),n(h).appendTo(c),n(y).addClass("checkAll"),n(p).addClass("unCheckAll"),n(y).appendTo(h),n(p).appendTo(h)}n(l).addClass("memberEditorDiv"),w=r=="Measures"?oclientProxy._createMeasureEditor(u):'<div id="editorTreeView" class="visibleHide"><\/div>',n(w).appendTo(l),n(l).appendTo(c),o+=s.innerHTML+"<\/br>"}if(k="<div style='float:right; margin: -5px 0 6px;'><button id=OKBtn class='dialogBtn' Style='margin-left:83px'>OK<\/button>",d="<button id=CancelBtn class='dialogBtn'>Cancel<\/button><\/div>",b=k+d,n(o+b).appendTo(f),n(f).appendTo("body"),n("#OKBtn, #CancelBtn").ejButton(),n("#ejDialog").ejDialog({width:265,contentContainer:"#"+oclientProxy._id,resizable:!1}),n(".e-widget-content").height("auto"),u!=""&&u!=i&&r!="Measures")for(a=n.parseJSON(v),n("#editorTreeView").ejTreeView({showCheckbox:!0,fields:{id:"id",hasChild:"hasChildren",text:"name",isChecked:"checkedStatus",dataSource:a}}),g=n("#editorTreeView").find("li"),e=0;e<g.length;e++)n("#editorTreeView").find("li")[e].setAttribute("tag",a[e].tag);else oclientWaitingPopup.hide();oclientProxy._wireDialogEvent(),oclientProxy._wireMeasureRemoveEvent()},_createMeasureEditor:function(t){var u,f,r;for(u=t[0]!=i?n.parseJSON(t[0].Value):t.d!=i?n.parseJSON(t.d[0].Value):n.parseJSON(t.EditorTreeInfo),f="",r=0;r<u.length;r++)f+='<div id="'+u[r].uniqueName+'"class=measureEditor>'+u[r].name+"<span class=removeMeasure><\/span><\/div>";return f},doAjaxPost:function(t,i,r,u){n.ajax({type:t,url:i,contentType:"application/json; charset=utf-8",dataType:"json",data:r,success:n.proxy(u,this),error:function(){alert("FAILED")}})}})}(jQuery,Syncfusion),draggedSplitBtn=null,isInitialLoad=!0